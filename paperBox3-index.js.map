{"version":3,"file":"paperBox3-index.js","mappings":"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","sources":["/dev/workshop/./src/paperBox3/PaperBox3Svg.tsx?","/dev/workshop/./src/paperBox3/index.tsx?","/dev/workshop/./src/paperBox1/PaperAutocomplete.tsx?","/dev/workshop/./src/paperBox1/ExportButtons.tsx?","/dev/workshop/./src/common/useHashState.ts?","/dev/workshop/./src/paperBox1/svg.ts?","/dev/workshop/./src/paperBox1/PaperSize.tsx?","/dev/workshop/./src/paperBox1/Measure.tsx?","/dev/workshop/./src/paperBox1/SvgCommonDefs.tsx?"],"sourcesContent":["import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { SVGPathData, SVGPathDataTransformer } from \"svg-pathdata\"\n\nimport { M4, V, V3 } from \"ts3dutils\"\nimport { SvgPrintContext } from \"../paperBox1/Measure\"\n\nimport { A, Corner, encode, L, M } from \"../paperBox1/svg\"\nimport { SvgCommonDefs } from \"../paperBox1/SvgCommonDefs\"\n\n// https://math.stackexchange.com/a/885965/230980\nexport function lookUpAngle(\n  r,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    Math.PI / 2 - lookUpAngle2 - Math.acos((r2 / r) * Math.sin(lookUpAngle2))\n  )\n}\n\nexport function PaperBox3Svg({\n  width,\n  height,\n  length,\n  tabWidth,\n  style,\n  paperSize,\n}\n\n\n\n\n\n\n) {\n  const rad = 4\n\n  const print = useContext(SvgPrintContext)\n  const svgViewBox = [\n    -tabWidth - 1,\n    -height - tabWidth - 1,\n    2 * width + 2 * height + tabWidth + 2,\n    length + 2 * height + 2 * tabWidth + 2,\n  ]\n\n  function MatrixWhichMovesSegment(a1, b1, a2, b2) {\n    const ab1 = a1.to(b1)\n    const ab2 = a2.to(b2)\n    const sys1 = M4.forSys(ab1, ab1.getPerpendicular(), undefined, a1)\n    const sys2 = M4.forSys(ab2, ab2.getPerpendicular(), undefined, a2)\n    return sys1.inversed().transform(sys2)\n  }\n\n  function SideTab(x, y, flipped = false) {\n    function flipp(commands, doFlip = true) {\n      if (!doFlip) return commands\n      let lastX = 0,\n        lastY = 0\n      commands = commands.map((c) => {\n        x = lastX\n        y = lastY\n        lastX = c.x\n        lastY = c.y\n        switch (c.type) {\n          case SVGPathData.MOVE_TO:\n            c.x = x\n            c.y = y\n            return c\n          case SVGPathData.LINE_TO:\n            return {\n              type: SVGPathData.LINE_TO,\n              x: x,\n              y: y,\n              relative: false,\n            }\n          case SVGPathData.ARC:\n            return {\n              type: SVGPathData.ARC,\n              x: x,\n              y: y,\n              relative: false,\n              rX: c.rX,\n              rY: c.rY,\n              lArcFlag: c.lArcFlag,\n              sweepFlag: +!c.sweepFlag ,\n              xRot: c.xRot,\n            }\n          default:\n            throw new Error(\"\" + c.type)\n        }\n      })\n      commands.push(M(lastX, lastY))\n      commands.reverse()\n      commands.pop()\n      return commands\n    }\n\n    return (prevX, prevY) => {\n      const [a, b] = !flipped ? [V3.O, V(height, 0)] : [V(-height, 0), V3.O]\n      let mat = MatrixWhichMovesSegment(a, b, V(prevX, prevY), V(x, y))\n      if (flipped) {\n        mat = M4.mirror({ normal1: V3.X, w: 0 }).transform(mat)\n      }\n      const svgPathData = new SVGPathData(\n        flipp(\n          [\n            M(0, 0),\n            A(2, 2, 0, 0, 1, V(2, 2)),\n            L(2, tabWidth),\n            L(height - 2, tabWidth),\n            L(height, 5),\n            L(height, 0),\n          ],\n          flipped,\n        ),\n      ).transform(\n        SVGPathDataTransformer.MATRIX(\n          mat.m[0],\n          mat.m[4],\n          mat.m[1],\n          mat.m[5],\n          mat.m[3],\n          mat.m[7],\n        ),\n      )\n      svgPathData.commands.unshift()\n      flipped && console.log(svgPathData.encode())\n      return svgPathData.commands\n    }\n  }\n  const gg = 4\n  return (\n    React.createElement('svg', {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      width: svgViewBox[2] + \"mm\",\n      height: svgViewBox[3] + \"mm\",\n      viewBox: svgViewBox.join(\" \"),\n      className: \"adrian\",}\n\n      , React.createElement(SvgCommonDefs, null )\n      , React.createElement('path', {\n        d: encode(\n          // left tab\n          M(0, 0),\n          L(-tabWidth, 0),\n          L(-tabWidth, length),\n          L(0, length),\n          // bottom tab\n          L(0, length + height),\n          Corner(rad, 0, length + height + tabWidth),\n          Corner(rad, width, length + height + tabWidth),\n          L(width, length + height),\n          L(width, length),\n          // middle\n          SideTab(width + height, length),\n          L(2 * width + height, length),\n          // right tab\n          SideTab(2 * width + 2 * height, length, true),\n          L(2 * width + 2 * height, 0),\n          SideTab(2 * width + height, 0, true),\n          // top tab\n          L(2 * width + height, -height),\n          Corner(rad, 2 * width + height, -(height + tabWidth)),\n          Corner(rad, width + height, -(height + tabWidth)),\n          L(width + height, 0),\n          SideTab(width, 0),\n          L(0, 0),\n          // notches\n          M(width + height, -height),\n          L(width + height + gg, -height),\n          M(2 * width + height - gg, -height),\n          L(2 * width + height, -height),\n        ),\n        className: \"cut\",}\n      )\n      , React.createElement('path', {\n        d: encode(\n          M(0, 0),\n          L(0, length),\n          L(width, length),\n          L(width + height, length),\n          L(width + height, 0),\n          M(width, length),\n          L(width, 0),\n          L(width + height, 0),\n          L(2 * width + height, 0),\n          L(2 * width + 2 * height, 0),\n          M(2 * width + height, 0),\n          L(2 * width + height, length),\n          L(2 * width + 2 * height, length),\n\n          M(gg, length + height),\n          L(width - gg, length + height),\n          M(width + height + gg, -height),\n          L(2 * width + height - gg, -height),\n        ),\n        className: \"valley\",}\n      )\n    )\n  )\n}\n","import { Alert } from \"@mui/material\"\nimport Card from \"@mui/material/Card\"\nimport CardContent from \"@mui/material/CardContent\"\nimport CardMedia from \"@mui/material/CardMedia\"\nimport Divider from \"@mui/material/Divider\"\nimport FormControl from \"@mui/material/FormControl\"\nimport Grid from \"@mui/material/Grid\"\nimport InputLabel from \"@mui/material/InputLabel\"\nimport Link from \"@mui/material/Link\"\nimport MenuItem from \"@mui/material/MenuItem\"\nimport Select from \"@mui/material/Select\"\nimport { useTheme } from \"@mui/material/styles\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { useCallback, useState } from \"react\"\n\nimport { useHashState } from \"../common/useHashState\"\nimport { ExportButtons } from \"../paperBox1/ExportButtons\"\nimport { PaperAutocomplete } from \"../paperBox1/PaperAutocomplete\"\n\nimport { PaperBox3Svg } from \"./PaperBox3Svg\"\n\nexport default () => {\n  const [state, setState] = useHashState({\n    variant: \"inside\" ,\n    width: 60,\n    height: 50,\n    length: 100,\n    tabWidth: 8,\n  })\n  const setPartialState = useCallback(\n    (update) => setState((s) => ({ ...s, ...update })),\n    [setState],\n  )\n  const [paperSize, setPaperSize] = useState(null )\n\n  const theme = useTheme()\n\n  const topLip = state.radius - state.topRadius\n  const topOverlap = topLip - state.baseRadius\n\n  return (\n    React.createElement(Grid, { container: true, style: { width: \"100%\" },}\n      , React.createElement(Grid, { size: { xs: 12, md: 10 },}\n        , React.createElement(PaperBox3Svg, {\n          ...state,\n          paperSize: paperSize,\n          style: { width: \"100%\", height: \"100%\", margin: theme.spacing(1) },}\n        )\n      )\n      , React.createElement(Grid, {\n        size: { xs: 12, md: 2 },\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"100%\",\n          padding: 2,\n          alignItems: \"stretch\",\n          // \"& > *\": { margin: 1 },\n          gap: 2,\n        },}\n\n        , React.createElement(Card, null\n          , React.createElement(CardMedia, {\n            image: \"insideFoldsImg\",\n            title: \"Contemplative Reptile\" ,\n            sx: {\n              height: 0,\n              paddingTop: \"100%\", // 1:1\n            },}\n          )\n          , React.createElement(CardContent, null)\n        )\n        , React.createElement(FormControl, { variant: \"outlined\", size: \"small\",}\n          , React.createElement(InputLabel, { id: \"variant-label\",}, \"Variant\")\n          , React.createElement(Select, {\n            labelId: \"variant-label\",\n            label: \"Variant\",\n            value: state.variant,\n            onChange: (e) =>\n              setPartialState({\n                variant: e.target.value ,\n              })\n            ,}\n\n            , React.createElement(MenuItem, { value: \"inside\",}, \"Inside Folds\" )\n            , React.createElement(MenuItem, { value: \"outside\",}, \"Outside Folds\" )\n          )\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.width,\n          onChange: (e) => setPartialState({ width: +e.target.value }),\n          label: \"width\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.height,\n          onChange: (e) => setPartialState({ height: +e.target.value }),\n          label: \"height\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.length,\n          onChange: (e) => setPartialState({ length: +e.target.value }),\n          label: \"length\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1, min: 4, max: 32 },\n          value: state.tabWidth,\n          onChange: (e) => setPartialState({ tabWidth: +e.target.value }),\n          label: \"tabWidth\",}\n        )\n        , state.variant === \"inside\" && topOverlap > 0 && (\n          React.createElement(Alert, { severity: \"error\",}, \"For the inside folds variant, you want no (or even negative) overlap at the top.\"\n\n\n          )\n        )\n        , React.createElement(Divider, null )\n        , React.createElement(Card, null\n          , React.createElement(CardContent, null, \"Set the Print Paper Size on large boxes to get a partial template which can be rotated. See\"\n\n                , \" \"\n            , React.createElement(Link, { href: \"outsideFoldsLargeTemplateImg\",}, \"this image\" ), \" for an example.\"\n\n          )\n        )\n        , React.createElement(PaperAutocomplete, {\n          label: \"Print Paper Size\"  ,\n          value: paperSize,\n          onChange: setPaperSize,}\n        )\n        , React.createElement(ExportButtons, {\n          baseFileName: `${state.variant}-${state.baseRadius}-${state.topRadius}-${state.radius}-${state.sides}`,\n          what: React.createElement(PaperBox3Svg, { ...state, paperSize: paperSize,} ),}\n        )\n      )\n    )\n  )\n}\n","import Autocomplete from \"@mui/material/Autocomplete\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { forwardRef, } from \"react\"\nimport { PAPER_SIZES, PaperSizeFromDimensions } from \"./PaperSize\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const PaperAutocomplete = forwardRef(\n  (\n    {\n      disableClearance = false,\n      onChange,\n      value,\n      label,\n    },\n    ref,\n  ) => {\n    let paperSize = null\n    if (value) {\n      const [a, b] = value\n      paperSize = PaperSizeFromDimensions(a, b)\n    }\n    return (\n      React.createElement(Autocomplete, {\n        ref: ref,\n        disableClearable: disableClearance,\n        size: \"small\",\n        freeSolo: true,\n        renderInput: (params) => (\n          React.createElement(TextField, { ...params, label: label, variant: \"outlined\",} )\n        ),\n        value: paperSize,\n        onChange: (e, newValue) => {\n          if (\"string\" === typeof newValue) {\n            if (newValue.trim() === \"\") {\n              if (!disableClearance) {\n                onChange(null)\n              }\n            } else {\n              const match = /(\\d+(?:\\.\\d+)?)\\D*?(\\d+(?:\\.\\d+)?)?\\D*$/.exec(\n                newValue,\n              )\n              if (match) {\n                const [, widthStr, heightStr] = match\n                onChange(\n                  PaperSizeFromDimensions(+widthStr, +(heightStr || widthStr)),\n                )\n              }\n            }\n          } else {\n            onChange(newValue)\n          }\n        },\n        getOptionLabel: (val) => {\n          const [width, height, name = \"custom\"] = val\n          return `${name} ${width}x${height}mm`\n        },\n        options: PAPER_SIZES,}\n      )\n    )\n  },\n) \n","import Button from \"@mui/material/Button\"\nimport fileDownload from \"js-file-download\"\n\nimport * as React from \"react\"\nimport ReactDOMServer from \"react-dom/server\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport function ExportButtons({\n  what,\n  baseFileName,\n}\n\n\n) {\n  const getPrintSVG = () =>\n    ReactDOMServer.renderToStaticMarkup(\n      React.createElement(SvgPrintContext.Provider, { value: true,}, what),\n    ).replace(/\\s{2,}/g, \" \")\n  const asSVG = () => {\n    const svg = getPrintSVG()\n    fileDownload(svg, baseFileName + \".svg\")\n  }\n  const asTemplatePDF = async () => {\n    const { svgToPdf } = await import(\n      /* webpackChunkName: \"svgToPdf\" */ \"../paperBox1/svgToPdf\"\n    )\n\n    // add your content to the document here, as usual\n    const blob = await svgToPdf({\n      title: baseFileName,\n      author: \"Adrian Leonhard\",\n      svg: getPrintSVG(),\n    })\n\n    fileDownload(blob, baseFileName + \".pdf\")\n  }\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement(Button, { variant: \"contained\", onClick: asSVG,}, \"Download As SVG\"\n\n      )\n      , React.createElement(Button, { variant: \"contained\", onClick: asTemplatePDF,}, \"Template as PDF\"\n\n      )\n    )\n  )\n}\n"," function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }import debounce from \"lodash/debounce\"\nimport mapValues from \"lodash/mapValues\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\nimport {\n  PAPER_SIZE_A4,\n\n  PaperSizeFromString,\n  PaperSizeToString,\n} from \"../paperBox1/PaperSize\"\n\nconst parseHash = (hash) => {\n  return !hash\n    ? {}\n    : hash\n        .substring(1)\n        .split(\"&\")\n        .map((part) => {\n          const [key, value] = part.split(\"=\")\n          return [decodeURIComponent(key), decodeURIComponent(value)]\n        })\n        .reduce(\n          (obj, [key, value]) => {\n            obj[key] = value\n            return obj\n          },\n          {} ,\n        )\n}\nconst objectToHash = (o) => {\n  return (\n    \"#\" +\n    Object.entries(o)\n      .map(\n        ([key, value]) =>\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(value),\n      )\n      .join(\"&\")\n  )\n}\n\nconst defaultDeserialize = (\n  x,\n) =>\n  mapValues(x, (v, key) => {\n    if (\"paperSize\" === key) {\n      try {\n        return PaperSizeFromString(v)\n      } catch (e) {\n        console.error(e)\n        return PAPER_SIZE_A4\n      }\n    } else if (\"true\" === v) {\n      return true\n    } else if (\"false\" === v) {\n      return false\n    } else if (\"NaN\" === v) {\n      return NaN\n    } else if (\"undefined\" === v) {\n      return undefined\n    } else if (\"null\" === v) {\n      return null\n    } else if (\"\" === v) {\n      return \"\"\n    } else if (!isNaN(+v)) {\n      return +v\n    } else {\n      return v\n    }\n  })\nconst defaultSerialize = (x) =>\n  mapValues(x, (v, key) =>\n    key === \"paperSize\" ? PaperSizeToString(v ) : \"\" + v,\n  )\n\nexport function useHashState(\n  initialState,\n  {\n    deserialize = defaultDeserialize,\n    serialize = defaultSerialize,\n    wait = 1000,\n  } = {},\n) {\n  const createInitialState = useCallback(() => {\n    const state =\n      \"function\" === typeof initialState\n        ? (initialState )()\n        : initialState\n    // hash overrides parameter\n    const mergedState = deserialize(\n      Object.assign(serialize(state), parseHash(document.location.hash)),\n    ) \n    console.log(\"replaceState\")\n    history.replaceState(\n      undefined,\n      document.title,\n      objectToHash(serialize(mergedState)),\n    )\n\n    return mergedState\n  }, [deserialize, initialState, serialize])\n  const [state, setState] = useState(createInitialState)\n  const updateHashRef = useRef()\n  useEffect(() => _optionalChain([updateHashRef, 'access', _ => _.current, 'optionalCall', _2 => _2(state)]), [state])\n  if (!updateHashRef.current) {\n    console.log(\"pushState\")\n    updateHashRef.current = debounce(function (newState) {\n      history.pushState(\n        undefined,\n        document.title,\n        objectToHash(serialize(newState)),\n      )\n    }, wait)\n  }\n\n  useEffect(() => {\n    const onHashChange = () => {\n      setState(createInitialState())\n    }\n    window.addEventListener(\"hashchange\", onHashChange)\n    return () => {\n      window.removeEventListener(\"hashchange\", onHashChange)\n    }\n  }, [createInitialState])\n  return [state, setState]\n}\n","import last from \"lodash/last\"\nimport { SVGPathData } from \"svg-pathdata\"\n\n\n\n\n\n\n\n\n\n\nimport { V as VV } from \"ts3dutils\"\n\nexport function H(x) {\n  return { type: SVGPathData.HORIZ_LINE_TO, relative: false, x: x }\n}\n\nexport function A(\n  rx,\n  ry,\n  xAxisRotation,\n  largeArcFlag,\n  sweepFlag,\n  p,\n) {\n  return {\n    lArcFlag: largeArcFlag,\n    rX: rx,\n    rY: ry,\n    relative: false,\n    sweepFlag: sweepFlag,\n    type: SVGPathData.ARC,\n    x: p.x,\n    xRot: 0,\n    y: p.y,\n  }\n}\n\nexport const C = (\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n) => ({\n  type: SVGPathData.CURVE_TO,\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\nexport const V = (y) => ({\n  type: SVGPathData.VERT_LINE_TO,\n  y,\n  relative: false,\n})\n\nexport const S = (x2, y2, x, y) => ({\n  type: SVGPathData.SMOOTH_CURVE_TO,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\n\n\nexport function M(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.MOVE_TO, x, y, relative: false }\n}\n\nexport const m = (x, y) => ({\n  type: SVGPathData.MOVE_TO,\n  x,\n  y,\n  relative: true,\n})\n\n\n\nexport function L(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.LINE_TO, x, y, relative: false }\n}\n\nexport const l = (x, y) => ({\n  type: SVGPathData.LINE_TO,\n  x,\n  y,\n  relative: true,\n})\n\nexport const Z = () => ({ type: SVGPathData.CLOSE_PATH })\n\nexport const encode = (...path) => {\n  const modPath = []\n  let lastX = 0,\n    lastY = 0\n  for (const c of path) {\n    if (\"function\" === typeof c) {\n      for (const c2 of c(lastX, lastY)) {\n        modPath.push(c2)\n      }\n    } else {\n      modPath.push(c)\n    }\n    const lastC = last(modPath)\n    if (\"x\" in lastC) lastX = lastC.x\n    if (\"y\" in lastC) lastY = lastC.y\n  }\n  return new SVGPathData(modPath).round(3).encode()\n}\n \n\nexport function Corner(rad, x, y) {\n  return (prevX, prevY) => {\n    const prev = VV(prevX, prevY)\n    const p1 = VV(x, y)\n    const dir1 = prev.to(p1).toLength(rad)\n    const p2 = VV(p1.x + dir1.y, p1.y - dir1.x)\n    return [L(p1.minus(dir1)), A(rad, rad, 0, 0, 0, p2)]\n  }\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import { MINUS } from \"ts3dutils\"\n\n \n// Always portrait orientation,\n\n// Always portrait orientation,\nexport const PAPER_SIZES_A = [\n  [841, 1189, \"A0\"],\n  [594, 841, \"A1\"],\n  [420, 594, \"A2\"],\n  [297, 420, \"A3\"],\n  [210, 297, \"A4\"],\n  [148, 210, \"A5\"],\n  [105, 148, \"A6\"],\n  [74, 105, \"A7\"],\n  [52, 74, \"A8\"],\n  [37, 52, \"A9\"],\n  [26, 37, \"A10\"],\n]\n\nexport function PaperSizeEquals([aw, ah], [bw, bh]) {\n  return aw === bw && bh === bw\n}\n\nexport const PAPER_SIZES_B = [\n  [1000, 1414, \"C0\"],\n  [707, 1000, \"C1\"],\n  [500, 707, \"C2\"],\n  [353, 500, \"C3\"],\n  [250, 353, \"C4\"],\n  [176, 250, \"C5\"],\n  [125, 176, \"C6\"],\n  [88, 125, \"C7\"],\n  [62, 88, \"C8\"],\n  [44, 62, \"C9\"],\n  [31, 44, \"C10\"],\n]\n\n// C size envelopes fit A size paper.\nexport const PAPER_SIZES_C = [\n  [917, 1297, \"C0\"],\n  [648, 917, \"C1\"],\n  [458, 648, \"C2\"],\n  [324, 458, \"C3\"],\n  [229, 324, \"C4\"],\n  [162, 229, \"C5\"],\n  [114, 162, \"C6\"],\n  [81, 114, \"C7\"],\n  [57, 81, \"C8\"],\n  [40, 57, \"C9\"],\n  [28, 40, \"C10\"],\n]\nexport const PAPER_SIZES = [\n  ...PAPER_SIZES_A,\n  [150, 150, \"Origami 15cm\"],\n  [100, 100, \"Origami 10cm\"],\n  [75, 75, \"Origami 7.5cm\"],\n  [215.9, 279.4, \"Letter\"],\n  [215.9, 355.6, \"Legal\"],\n  [205, 292, \"Cricut A4\"],\n]\n\nexport const ALL_PAPER_SIZES = [\n  ...PAPER_SIZES,\n  ...PAPER_SIZES_C,\n  ...PAPER_SIZES_B,\n]\n\nexport function PaperSizeFromString(str) {\n  const byName = PAPER_SIZES.find(([, , name]) => name === str)\n  if (byName) return byName\n  const [a, b] = str.split(\"x\")\n  return [+a, +b, \"Custom\"]\n}\nexport function PaperSizeFromDimensions(a, b) {\n  ;[a, b] = [a, b].sort(MINUS)\n  return _nullishCoalesce(PAPER_SIZES.find(([x, y]) => x === a && y === b), () => ( [a, b, \"Custom\"]))\n}\nexport function PaperSizeToString([a, b, name]) {\n  return name === \"Custom\" ? \"\" + a + \"x\" + b : name\n}\n\nexport const PAPER_SIZE_A4 = PAPER_SIZES_A[4]\n","import * as React from \"react\"\nimport { createContext, useContext } from \"react\"\nimport { DEG, round10, V, } from \"ts3dutils\"\n\n\nexport const SvgPrintContext = createContext(false)\n\nexport function Guide({\n  children,\n  ...props\n}) {\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  return (\n    React.createElement('g', { className: \"guide\", ...props,}\n      , children\n    )\n  )\n}\nexport function Measure({\n  from,\n  to,\n  children,\n  R,\n  hideRight = false,\n  offset = 0,\n}\n\n\n\n\n\n\n) {\n  Array.isArray(from) && (from = V(from))\n  Array.isArray(to) && (to = V(to))\n  const d = from.to(to)\n  const length = d.length()\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  if (length < 0.05) return null\n  children ||= (R ? \"R\" : \"\") + round10(length, -1)\n  const textBlank = 3 * children.length\n\n  return (\n    React.createElement('g', {\n      transform: ` translate(${from[0]}, ${from[1]}) rotate(${\n        d.angleXY() / DEG\n      }) translate(0, ${offset * 10})`,\n      className: \"measure\",}\n\n      , !hideRight && (\n        React.createElement('path', {\n          style: { fill: \"none\" },\n          d: `M0,0\n          l0,10\n          M4,3\n          l-4,2\n          l4,2`,}\n        )\n      )\n      , React.createElement('path', {\n        style: { fill: \"none\" },\n        d: `\n        M0,5\n        H${(length - textBlank) / 2}\n        M${(length + textBlank) / 2},5\n        H${length}\n        M${length},0\n        l0,10\n        m-4,-7\n        l4,2\n        l-4,2`,}\n      )\n      , React.createElement('text', {\n        style: {\n          stroke: \"none\",\n          fontSize: 4,\n          dominantBaseline: \"middle\",\n          textAnchor: \"middle\",\n        },\n        x: length / 2,\n        y: 5,}\n\n        , children\n      )\n    )\n  )\n}\n","\nimport { blue, green, orange, pink, red } from \"@mui/material/colors\"\nimport { useTheme } from \"@mui/material/styles\"\nimport * as React from \"react\"\nimport { useContext, useMemo } from \"react\"\nimport { SvgPrintContext } from \"./Measure\"\n\n\nexport const SvgCommonDefs = () => {\n  const theme = useTheme()\n  const print = useContext(SvgPrintContext)\n  const screenStyles = useMemo(\n    () => `\n.adrian * { stroke: ${theme.palette.text.primary}; }\n.adrian .red-stroke { stroke: ${red[500]}; }\n.adrian .orange-stroke { stroke: ${orange[500]}; }\n.adrian .blue-stroke { stroke: ${blue[500]}; }\n.adrian .green-stroke { stroke: ${green[500]}; }\n.adrian .pink-stroke { stroke: ${pink[500]}; }\n.adrian .measure, *.measure * {\n  stroke: ${theme.palette.primary.main};\n  fill: ${theme.palette.primary.main};\n}\n.adrian .guide, .adrian .guide * {\n  stroke: ${theme.palette.secondary.main};\n  fill: ${theme.palette.secondary.main};\n}\n.adrian .glue, .adrian .guide .glue {\n  stroke: none;\n  fill: url(#glue);\n}\n`,\n    [theme],\n  )\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement('defs', null\n        , React.createElement('pattern', { id: \"glue\", patternUnits: \"userSpaceOnUse\", width: \"4\", height: \"4\",}\n          , React.createElement('path', {\n            d: \"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2\"\n\n                ,\n            style: { stroke: theme.palette.divider, strokeWidth: 1 },}\n          )\n        )\n      )\n      , React.createElement('style', null, `\n      .adrian * {\n        stroke: black;\n        stroke-width: .05mm;\n        fill: none;\n      }\n      .mountain, .mountain * { stroke-dasharray: 10,2,1,1,1,2; }\n      .valley, .valley * { stroke-dasharray: 1,1; }\n      .cut, .cut * { stroke: 1; }\n      `)\n      , !print && React.createElement('style', null, screenStyles)\n    )\n  )\n}\n"],"names":["PaperBox3Svg","width","height","length","tabWidth","style","paperSize","useContext","svgViewBox","SideTab","x","y","flipped","prevX","prevY","a","b","V","V3","O","mat","a1","b1","a2","b2","ab1","to","ab2","sys1","M4","forSys","getPerpendicular","undefined","sys2","inversed","transform","MatrixWhichMovesSegment","mirror","normal1","X","w","svgPathData","commands","doFlip","lastX","lastY","map","c","type","MOVE_TO","LINE_TO","relative","ARC","rX","rY","lArcFlag","sweepFlag","xRot","Error","push","M","reverse","pop","flipp","A","L","MATRIX","m","unshift","console","log","encode","xmlns","xmlnsXlink","viewBox","join","className","SvgCommonDefs","d","state","setState","useHashState","variant","setPartialState","useCallback","update","s","setPaperSize","useState","theme","useTheme","topOverlap","radius","topRadius","baseRadius","Grid","container","size","xs","md","margin","spacing","sx","display","flexDirection","padding","alignItems","gap","Card","CardMedia","image","title","paddingTop","CardContent","FormControl","InputLabel","id","Select","labelId","label","value","onChange","e","target","MenuItem","TextField","inputProps","step","min","max","Alert","severity","Divider","Link","href","PaperAutocomplete","ExportButtons","baseFileName","sides","what","forwardRef","disableClearance","ref","disableClearable","freeSolo","renderInput","params","newValue","trim","match","exec","widthStr","heightStr","getOptionLabel","val","name","options","getPrintSVG","Provider","replace","onClick","svg","async","svgToPdf","blob","author","parseHash","hash","substring","split","part","key","decodeURIComponent","reduce","obj","objectToHash","o","Object","entries","encodeURIComponent","defaultDeserialize","v","NaN","isNaN","error","defaultSerialize","initialState","deserialize","serialize","wait","createInitialState","mergedState","assign","document","location","history","replaceState","updateHashRef","useRef","useEffect","ops","lastAccessLHS","i","op","fn","args","call","_optionalChain","_","current","_2","newState","pushState","onHashChange","window","addEventListener","removeEventListener","H","HORIZ_LINE_TO","rx","ry","xAxisRotation","largeArcFlag","p","C","x1","y1","x2","y2","CURVE_TO","VERT_LINE_TO","l","Z","CLOSE_PATH","path","modPath","c2","lastC","round","Corner","rad","prev","p1","dir1","toLength","p2","minus","PAPER_SIZES_A","PAPER_SIZES_C","PAPER_SIZES","PaperSizeFromString","str","byName","find","PaperSizeFromDimensions","sort","lhs","rhsFn","PaperSizeToString","PAPER_SIZE_A4","SvgPrintContext","createContext","Guide","children","props","Measure","from","R","hideRight","offset","Array","isArray","textBlank","angleXY","fill","stroke","fontSize","dominantBaseline","textAnchor","print","screenStyles","useMemo","palette","text","primary","main","secondary","patternUnits","divider","strokeWidth"],"sourceRoot":""}