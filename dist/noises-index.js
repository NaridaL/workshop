(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{112:function(t,e,o){"use strict";o.r(e),o.d(e,"quickhull",(function(){return d}));var n=o(143),r=o(148),a=o(149),i=o(0);const c="C:\\Users\\aval\\tsdev\\workshop\\src\\noises\\index.tsx",s=(a.a("blue").gl(),Object(n.m)(512,t=>n.k.polar(1,2*(Math.random()-.5)*Math.PI))),l=(t,e,o)=>{const r=0|t,a=r+1,i=0|e,c=i+1,l=t=>t*t*(3-2*t),d=(t,e,o,r)=>{const a=o-t,i=r-e;return Object(n.v)(s,59*t+e).dot(new n.k(a,i,0))},u=d(r,i,t,e),f=d(a,i,t,e),m=Object(n.x)(u,f,o?l(t-r):t-r),v=d(r,c,t,e),p=d(a,c,t,e),g=Object(n.x)(v,p,o?l(t-r):t-r);return Object(n.x)(m,g,o?l(e-i):e-i)};function d(t){let e=!0;const o=1024,i=1024,c=new Uint8Array(o*i),s=new r.e(o,i,{format:t.RED,type:t.UNSIGNED_BYTE,internalFormat:t.R8}),d=()=>{let t=1/0,r=-1/0;for(let a=0;a<i;a++)for(let i=0;i<o;i++){const s=Object(n.u)(.8*(l(i/64,a/64,e)+.5),0,1),d=Math.random();c[a*o+i]=.2<s&&s<.3?0:254,r=Math.max(r,d),t=Math.min(t,d)}c[0]=0,console.log(c),s.setData(c),console.log("min,max",t,r)};d();const u=r.b.plane(),f=r.b.sphere(0).computeWireframeFromFlatTrianglesClosedMesh().compile(),m=function(t){const e=[],o=Math.sqrt(3)/2,r=Math.cos(Math.PI/3),a=2*Math.asin(1/Math.sqrt(3));for(let i=-0;i<2;i++)for(let c=-0;c<2;c++)for(let s=-0;s<1;s++){const l=i+(c%2==0?0:r);e.push(t.transform(n.c.scale(1,.01,.01).translate(l,c*o,s*o)),t.transform(n.c.scale(1,.01,.01).rotateZ(Math.PI/3).translate(l,c*o,s*o)),t.transform(n.c.scale(1,.01,.01).rotateZ(Math.PI/3*2).translate(l,c*o,s*o)),t.transform(n.c.scale(1,.01,.01).rotateZ(Math.PI/2).rotateX((Math.PI-a)/2).translate(l,c*o,s*o)),t.transform(n.c.scale(1,.01,.01).rotateY(-Math.PI/3*2).rotateX(Math.PI/2-a).translate(l,c*o,s*o)),t.transform(n.c.scale(1,.01,.01).rotateY(-Math.PI/3).rotateX(Math.PI/2-a).translate(l,c*o,s*o)))}const[i,...c]=e;return i.concat(...c)}(r.b.rotation([n.k.Y,n.k.XY],{anchor:n.k.O,dir1:n.k.X},2*Math.PI,3,!0));console.log(f);const v=r.c.create("\n\t  uniform mat4 ts_ModelViewProjectionMatrix;\n\t  attribute vec4 ts_Vertex;\n\t  uniform float pointSize;\n\t  varying vec4 foo;\n\t  void main() {\n\t\tfoo = vec4(1.0, 1.0, 1.0, 1.0);\n\t\tgl_Position = ts_ModelViewProjectionMatrix * ts_Vertex;\n\t\tgl_PointSize = pointSize;\n\t  }\n\t","\n\t  precision highp float;\n\t  uniform vec4 color;\n\t  varying vec4 bar;\n\t  void main() {\n\t\tgl_FragColor = color;\n\t\tif (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.5) {\n\t\t  discard;\n\t\t}\n\t  }\n\t"),p=r.c.create("\n\t  uniform mat4 ts_ModelViewProjectionMatrix;\n\t  attribute vec4 ts_Vertex;\n\t  uniform float pointSize;\n\t  attribute vec3 ts_TexCoordUVQ;\n\t  attribute vec2 ts_TexCoord;\n\t  varying vec4 foo;\n\t  varying vec3 coordUVQ;\n\t  varying vec2 coord;\n\t  void main() {\n\t\tfoo = vec4(1.0, 1.0, 1.0, 1.0);\n\t\tgl_Position = ts_ModelViewProjectionMatrix * ts_Vertex;\n\t\tgl_PointSize = pointSize;\n\t\tcoordUVQ = ts_TexCoordUVQ;\n\t\tcoord = ts_TexCoord;\n\t  }\n\t","\n\t  precision highp float;\n\t  uniform sampler2D texture;\n\t  uniform vec4 color;\n\t  varying vec4 bar;\n\t  varying vec3 coordUVQ;\n\t  varying vec2 coord;\n\t  void main() {\n\t\tgl_FragColor = color;\n\t\tgl_FragColor = texture2D(texture, coordUVQ.xy / coordUVQ.z).rrra\n\t\t\t+ texture2D(texture, coord).rrra;\n\t\tif (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.5) {\n\t\t  discard;\n\t\t}\n\t  }\n\t"),g={pos:Object(n.j)(.75,0,1),lookDir:Object(n.j)(0,0,-1)};(()=>{if(null!=localStorage.getItem("viewState")){const t=JSON.parse(localStorage.getItem("viewState"));g.pos=n.k.fromArray(t.pos),g.lookDir=n.k.fromArray(t.lookDir)}})(),t.clearColor(1,1,1,0),t.cullFace(t.BACK);const b=()=>{t.matrixMode(t.PROJECTION),t.loadIdentity(),t.perspective(70,t.canvas.width/t.canvas.height,.1,1e3),t.lookAt(Object(n.j)(.75,0,1),Object(n.j)(.75,0,0),n.k.Y),t.matrixMode(t.MODELVIEW)};b(),t.pointSize(10),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA);let h={};console.log(t.canvas),t.canvas.contentEditable="true",t.canvas.focus(),t.canvas.onkeydown=function(o){h[o.key]=!0,"o"===o.key&&(e=!e,d()),"2"===o.key&&b(),"1"===o.key&&(t.matrixMode(t.PROJECTION),t.loadIdentity(),t.perspective(70,t.canvas.width/t.canvas.height,.1,1e3),t.lookAt(Object(n.j)(0,.5,2.2),n.k.O,n.k.Y),t.matrixMode(t.MODELVIEW))},t.canvas.onkeypress=function(t){new n.k(0,0,0)},t.canvas.onkeyup=function(t){h[t.key]=!1};let x=n.k.O,M=n.c.IDENTITY;return t.canvas.onmousemove2=function(t){const e=Object(n.j)(t.pageX,t.pageY),o=x.to(e);1&t.buttons&&(M=M.rotateZ(.25*o.x*n.b),M=M.rotateX(.25*o.y*n.b)),x=e},t.canvas.onmousemove=function(t){const e=Object(n.j)(t.pageX,t.pageY),o=x.to(e);if(1&t.buttons){const t=n.c.rotateY(.25*-o.x*n.b).rotateX(.25*-o.y*n.b);g.lookDir=t.transformVector(g.lookDir).unit()}x=e},t.animate((function(e,o){const r=new n.k(+!!h.w-+!!h.s,+!!h.a-+!!h.d,+!!h.e-+!!h.q+ +!!h[" "]).times(.05);if(!r.likeO()){const t=g.lookDir;g.pos=g.pos.plus(n.c.forSys(t,n.k.Y.cross(t).unit()).transformVector(r)),localStorage.setItem("viewState",JSON.stringify({pos:g.pos.toArray(),lookDir:g.lookDir.toArray()}))}t.matrixMode(t.PROJECTION),t.loadIdentity(),t.perspective(70,t.canvas.width/t.canvas.height,.1,1e3),t.lookAt(g.pos,g.pos.plus(g.lookDir),n.k.Y),t.matrixMode(t.MODELVIEW),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.loadIdentity(),t.pushMatrix(),t.translate(.25,-.5,0),v.uniforms({color:a.b("red").gl(),pointSize:12}).draw(u,t.LINES),s.bind(0),p.uniforms({color:a.b("red").gl(),pointSize:12,texture:0}).draw(u),t.popMatrix(),t.pushMatrix(),t.translate(-.75,0,0),t.scale(.5),t.rotate(-90,1,0,0),p.uniforms({color:a.b("red").gl(),pointSize:12,texture:0}).draw(f),v.uniforms({color:a.b("red").gl(),pointSize:12}).draw(f,t.LINES),t.popMatrix(),v.uniforms({color:a.b("blue").gl()}).draw(m)}))}e.default=()=>{const t=Object(i.useRef)(null);return Object(i.useEffect)(()=>{const e=r.d.create({canvas:t.current});e.fixCanvasRes(),e.addResizeListener(),d(e)},[]),i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"},__self:void 0,__source:{fileName:c,lineNumber:430}},i.createElement("canvas",{ref:t,style:{flexGrow:1},tabIndex:0,__self:void 0,__source:{fileName:c,lineNumber:431}}))}}}]);