!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=56)}([function(e,t,n){"use strict";e.exports=n(49)},function(e,t,n){e.exports=n(3)},function(e,t){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return r[t];r[t]=n}},function(e,t,n){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=[];
/*!
 * Chai version
 */t.version="4.2.0",
/*!
 * Assertion Error
 */
t.AssertionError=n(12);
/*!
 * Utils for plugins (not exported)
 */
var i=n(22);t.use=function(e){return~r.indexOf(e)||(e(t,i),r.push(e)),t},
/*!
 * Utility Functions
 */
t.util=i;
/*!
 * Configuration
 */
var o=n(5);t.config=o;
/*!
 * Primary `Assertion` prototype
 */
var a=n(39);t.use(a);
/*!
 * Core Assertions
 */
var s=n(40);t.use(s);
/*!
 * Expect interface
 */
var l=n(41);t.use(l);
/*!
 * Should interface
 */
var u=n(42);t.use(u);
/*!
 * Assert interface
 */
var c=n(43);t.use(c)},function(e,t){
/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));for(var i in t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n,r)(n||"object"!==i&&"ssfi"!==i&&"lockSsfi"!==i&&"message"!=i)&&(t.__flags[i]=r[i])}},function(e,t){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"]}},function(e,t,n){var r=n(5);
/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(){return r.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}},function(e,t){var n=Object.getOwnPropertyDescriptor((function(){}),"length");
/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(e,t,r){return n.configurable?(Object.defineProperty(e,"length",{get:function(){if(r)throw Error("Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.');throw Error("Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')}}),e):e}},function(e,t,n){var r=n(5),i=n(2),o=n(17),a=n(6),s=["__flags","__methods","_obj","assert"];e.exports=function(e,t){return a()?new Proxy(e,{get:function e(n,a){if("string"==typeof a&&-1===r.proxyExcludedKeys.indexOf(a)&&!Reflect.has(n,a)){if(t)throw Error("Invalid Chai property: "+t+"."+a+'. See docs for proper usage of "'+t+'".');var l=null,u=4;throw o(n).forEach((function(e){if(!Object.prototype.hasOwnProperty(e)&&-1===s.indexOf(e)){var t=function(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;for(var r=[],i=0;i<=e.length;i++)r[i]=Array(t.length+1).fill(0),r[i][0]=i;for(var o=0;o<t.length;o++)r[0][o]=o;for(i=1;i<=e.length;i++){var a=e.charCodeAt(i-1);for(o=1;o<=t.length;o++)Math.abs(i-o)>=n?r[i][o]=n:r[i][o]=Math.min(r[i-1][o]+1,r[i][o-1]+1,r[i-1][o-1]+(a===t.charCodeAt(o-1)?0:1))}return r[e.length][t.length]}(a,e,u);t<u&&(l=e,u=t)}})),null!==l?Error("Invalid Chai property: "+a+'. Did you mean "'+l+'"?'):Error("Invalid Chai property: "+a)}return-1!==s.indexOf(a)||i(n,"lockSsfi")||i(n,"ssfi",e),Reflect.get(n,a)}}):e}},function(e,t,n){(function(t){var n;n=function(){"use strict";var e="function"==typeof Promise,n="object"==typeof self?self:t,r="undefined"!=typeof Symbol,i="undefined"!=typeof Map,o="undefined"!=typeof Set,a="undefined"!=typeof WeakMap,s="undefined"!=typeof WeakSet,l="undefined"!=typeof DataView,u=r&&void 0!==Symbol.iterator,c=r&&void 0!==Symbol.toStringTag,h=o&&"function"==typeof Set.prototype.entries,f=i&&"function"==typeof Map.prototype.entries,p=h&&Object.getPrototypeOf((new Set).entries()),d=f&&Object.getPrototypeOf((new Map).entries()),m=u&&"function"==typeof Array.prototype[Symbol.iterator],g=m&&Object.getPrototypeOf([][Symbol.iterator]()),v=u&&"function"==typeof String.prototype[Symbol.iterator],y=v&&Object.getPrototypeOf(""[Symbol.iterator]());return function(t){var r=typeof t;if("object"!==r)return r;if(null===t)return"null";if(t===n)return"global";if(Array.isArray(t)&&(!1===c||!(Symbol.toStringTag in t)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&t===window.location)return"Location";if("object"==typeof window.document&&t===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&t===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&t===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&t instanceof window.HTMLElement){if("BLOCKQUOTE"===t.tagName)return"HTMLQuoteElement";if("TD"===t.tagName)return"HTMLTableDataCellElement";if("TH"===t.tagName)return"HTMLTableHeaderCellElement"}}var u=c&&t[Symbol.toStringTag];if("string"==typeof u)return u;var h=Object.getPrototypeOf(t);return h===RegExp.prototype?"RegExp":h===Date.prototype?"Date":e&&h===Promise.prototype?"Promise":o&&h===Set.prototype?"Set":i&&h===Map.prototype?"Map":s&&h===WeakSet.prototype?"WeakSet":a&&h===WeakMap.prototype?"WeakMap":l&&h===DataView.prototype?"DataView":i&&h===d?"Map Iterator":o&&h===p?"Set Iterator":m&&h===g?"Array Iterator":v&&h===y?"String Iterator":null===h?"Object":Object.prototype.toString.call(t).slice(8,-1)}},e.exports=n()}).call(this,n(13))},function(e,t,n){var r=n(16),i=n(17),o=n(27),a=n(5);e.exports=function(e,t,n,r){return s({showHidden:t,seen:[],stylize:function(e){return e}},e,void 0===n?2:n)};function s(e,n,d){if(n&&"function"==typeof n.inspect&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var m=n.inspect(d,e);return"string"!=typeof m&&(m=s(e,m,d)),m}var g,v=function(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return 0===t&&1/t==-1/0?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean");case"symbol":return e.stylize(t.toString(),"symbol")}if(null===t)return e.stylize("null","null")}(e,n);if(v)return v;if(g=n,"object"==typeof HTMLElement?g instanceof HTMLElement:g&&"object"==typeof g&&"nodeType"in g&&1===g.nodeType&&"string"==typeof g.nodeName){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion)return(new XMLSerializer).serializeToString(n);var y=document.createElementNS("http://www.w3.org/1999/xhtml","_");y.appendChild(n.cloneNode(!1));var b=y.innerHTML.replace("><",">"+n.innerHTML+"<");return y.innerHTML="",b}catch(e){}}var w,x,S=o(n),E=e.showHidden?i(n):S;if(0===E.length||f(n)&&(1===E.length&&"stack"===E[0]||2===E.length&&"description"===E[0]&&"stack"===E[1])){if("function"==typeof n)return x=(w=r(n))?": "+w:"",e.stylize("[Function"+x+"]","special");if(c(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(h(n))return e.stylize(Date.prototype.toUTCString.call(n),"date");if(f(n))return l(n)}var T,k,O="",M=!1,_=!1,R=["{","}"];if("object"==typeof(T=n)&&/\w+Array]$/.test(p(T))&&(_=!0,R=["[","]"]),function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===p(e)}(n)&&(M=!0,R=["[","]"]),"function"==typeof n&&(O=" [Function"+(x=(w=r(n))?": "+w:"")+"]"),c(n)&&(O=" "+RegExp.prototype.toString.call(n)),h(n)&&(O=" "+Date.prototype.toUTCString.call(n)),f(n))return l(n);if(0===E.length&&(!M||0==n.length))return R[0]+O+R[1];if(d<0)return c(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");if(e.seen.push(n),M)k=function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)Object.prototype.hasOwnProperty.call(t,String(a))?o.push(u(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(u(e,t,n,r,i,!0))})),o}(e,n,d,S,E);else{if(_)return function(e){for(var t="[ ",n=0;n<e.length;++n){if(t.length>=a.truncateThreshold-7){t+="...";break}t+=e[n]+", "}-1!==(t+=" ]").indexOf(",  ]")&&(t=t.replace(",  ]"," ]"));return t}(n);k=E.map((function(t){return u(e,n,d,S,t,M)}))}return e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return e+t.length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(k,O,R)}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,n,r,i,o){var a,l,u=Object.getOwnPropertyDescriptor(t,i);if(u&&(u.get?l=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(l=e.stylize("[Setter]","special"))),r.indexOf(i)<0&&(a="["+i+"]"),l||(e.seen.indexOf(t[i])<0?(l=s(e,t[i],null===n?null:n-1)).indexOf("\n")>-1&&(l=o?l.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+l.split("\n").map((function(e){return"   "+e})).join("\n")):l=e.stylize("[Circular]","special")),void 0===a){if(o&&i.match(/^\d+$/))return l;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}function c(e){return"object"==typeof e&&"[object RegExp]"===p(e)}function h(e){return"object"==typeof e&&"[object Date]"===p(e)}function f(e){return"object"==typeof e&&"[object Error]"===p(e)}function p(e){return Object.prototype.toString.call(e)}},function(e,t){},function(e,t){
/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */
/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */
function n(){var e=[].slice.call(arguments);function t(t,n){Object.keys(n).forEach((function(r){~e.indexOf(r)||(t[r]=n[r])}))}return function(){for(var e=[].slice.call(arguments),n=0,r={};n<e.length;n++)t(r,e[n]);return r}}function r(e,t,i){var o=n("name","message","stack","constructor","toJSON")(t||{});for(var a in this.message=e||"Unspecified AssertionError",this.showDiff=!1,o)this[a]=o[a];if(i=i||r,Error.captureStackTrace)Error.captureStackTrace(this,i);else try{throw new Error}catch(e){this.stack=e.stack}}
/*!
 * Inherit from Error.prototype
 */
/*!
 * Primary Exports
 */
e.exports=r,r.prototype=Object.create(Error.prototype),
/*!
 * Statically set name
 */
r.prototype.name="AssertionError",
/*!
 * Ensure correct constructor
 */
r.prototype.constructor=r,r.prototype.toJSON=function(e){var t=n("constructor","toJSON","stack")({name:this.name},this);return!1!==e&&this.stack&&(t.stack=this.stack),t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){
/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){return t.length>4?t[4]:e._obj}},function(e,t,n){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(10),i=n(5);e.exports=function(e){var t=r(e),n=Object.prototype.toString.call(e);if(i.truncateThreshold&&t.length>=i.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var o=Object.keys(e);return"{ Object ("+(o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", "))+") }"}return t}return t}},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;e.exports=function(e){if("function"!=typeof e)return null;var t="";if(void 0===Function.prototype.name&&void 0===e.name){var n=r.call(e).match(i);n&&(t=n[1])}else t=e.name;return t}},function(e,t){
/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){var t=Object.getOwnPropertyNames(e);function n(e){-1===t.indexOf(e)&&t.push(e)}for(var r=Object.getPrototypeOf(e);null!==r;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return t}},function(e,t){
/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){"use strict";(function(e){var r,i;n.d(t,"a",(function(){return _r})),
/*! https://mths.be/codepointat v0.2.0 by @mathias */
String.prototype.codePointAt||(r=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),i=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=n)){var i,o=t.charCodeAt(r);return o>=55296&&o<=56319&&n>r+1&&(i=t.charCodeAt(r+1))>=56320&&i<=57343?1024*(o-55296)+i-56320+65536:o}},r?r(String.prototype,"codePointAt",{value:i,configurable:!0,writable:!0}):String.prototype.codePointAt=i);function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new o,this.dtree=new o}var s=new o,l=new o,u=new Uint8Array(30),c=new Uint16Array(30),h=new Uint8Array(30),f=new Uint16Array(30),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new o,m=new Uint8Array(320);function g(e,t,n,r){var i,o;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(o=r,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var v=new Uint16Array(16);function y(e,t,n,r){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)v[i]=o,o+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[v[t[n+i]]++]=i)}function b(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function w(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function x(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,o=e.tag;do{r=2*r+(1&o),o>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=o,e.bitcount-=i,t.trans[n+r]}function S(e,t,n){var r,i,o,a,s,l;for(r=w(e,5,257),i=w(e,5,1),o=w(e,4,4),a=0;a<19;++a)m[a]=0;for(a=0;a<o;++a){var u=w(e,3,0);m[p[a]]=u}for(y(d,m,0,19),s=0;s<r+i;){var c=x(e,d);switch(c){case 16:var h=m[s-1];for(l=w(e,2,3);l;--l)m[s++]=h;break;case 17:for(l=w(e,3,3);l;--l)m[s++]=0;break;case 18:for(l=w(e,7,11);l;--l)m[s++]=0;break;default:m[s++]=c}}y(t,m,0,r),y(n,m,r,i)}function E(e,t,n){for(;;){var r,i,o,a,s=x(e,t);if(256===s)return 0;if(s<256)e.dest[e.destLen++]=s;else for(r=w(e,u[s-=257],c[s]),i=x(e,n),a=o=e.destLen-w(e,h[i],f[i]);a<o+r;++a)e.dest[e.destLen++]=e.dest[a]}}function T(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(s,l),g(u,c,4,3),g(h,f,2,1),u[28]=0,c[28]=258;var k=function(e,t){var n,r,i=new a(e,t);do{switch(n=b(i),w(i,2,0)){case 0:r=T(i);break;case 1:r=E(i,s,l);break;case 2:S(i,i.ltree,i.dtree),r=E(i,i.ltree,i.dtree);break;default:r=-3}if(0!==r)throw new Error("Data error")}while(!n);return i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest};function O(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function M(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function _(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function R(e){throw new Error(e)}function A(e,t){e||R(t)}M.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},M.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},M.prototype.addX=function(e){this.addPoint(e,null)},M.prototype.addY=function(e){this.addPoint(null,e)},M.prototype.addBezier=function(e,t,n,r,i,o,a,s){var l=[e,t],u=[n,r],c=[i,o],h=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var f=0;f<=1;f++){var p=6*l[f]-12*u[f]+6*c[f],d=-3*l[f]+9*u[f]-9*c[f]+3*h[f],m=3*u[f]-3*l[f];if(0!==d){var g=Math.pow(p,2)-4*m*d;if(!(g<0)){var v=(-p+Math.sqrt(g))/(2*d);0<v&&v<1&&(0===f&&this.addX(O(l[f],u[f],c[f],h[f],v)),1===f&&this.addY(O(l[f],u[f],c[f],h[f],v)));var y=(-p-Math.sqrt(g))/(2*d);0<y&&y<1&&(0===f&&this.addX(O(l[f],u[f],c[f],h[f],y)),1===f&&this.addY(O(l[f],u[f],c[f],h[f],y)))}}else{if(0===p)continue;var b=-m/p;0<b&&b<1&&(0===f&&this.addX(O(l[f],u[f],c[f],h[f],b)),1===f&&this.addY(O(l[f],u[f],c[f],h[f],b)))}}},M.prototype.addQuad=function(e,t,n,r,i,o){var a=e+2/3*(n-e),s=t+2/3*(r-t),l=a+1/3*(i-e),u=s+1/3*(o-t);this.addBezier(e,t,a,s,l,u,i,o)},_.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},_.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},_.prototype.curveTo=_.prototype.bezierCurveTo=function(e,t,n,r,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:o})},_.prototype.quadTo=_.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},_.prototype.close=_.prototype.closePath=function(){this.commands.push({type:"Z"})},_.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof M){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},_.prototype.getBoundingBox=function(){for(var e=new M,t=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=r=a.x,n=i=a.y;break;case"L":e.addPoint(a.x,a.y),r=a.x,i=a.y;break;case"Q":e.addQuad(r,i,a.x1,a.y1,a.x,a.y),r=a.x,i=a.y;break;case"C":e.addBezier(r,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,i=a.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},_.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},_.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",r=0;r<arguments.length;r+=1){var i=e[r];i>=0&&r>0&&(n+=" "),n+=t(i)}return n}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];"M"===o.type?r+="M"+n(o.x,o.y):"L"===o.type?r+="L"+n(o.x,o.y):"C"===o.type?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?r+="Q"+n(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(r+="Z")}return r},_.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},_.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var C={fail:R,argument:A,assert:A},P={},N={},I={};function U(e){return function(){return e}}N.BYTE=function(e){return C.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},I.BYTE=U(1),N.CHAR=function(e){return[e.charCodeAt(0)]},I.CHAR=U(1),N.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},I.CHARARRAY=function(e){return e.length},N.USHORT=function(e){return[e>>8&255,255&e]},I.USHORT=U(2),N.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},I.SHORT=U(2),N.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},I.UINT24=U(3),N.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},I.ULONG=U(4),N.LONG=function(e){return e>=2147483648&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},I.LONG=U(4),N.FIXED=N.ULONG,I.FIXED=I.ULONG,N.FWORD=N.SHORT,I.FWORD=I.SHORT,N.UFWORD=N.USHORT,I.UFWORD=I.USHORT,N.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},I.LONGDATETIME=U(8),N.TAG=function(e){return C.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},I.TAG=U(4),N.Card8=N.BYTE,I.Card8=I.BYTE,N.Card16=N.USHORT,I.Card16=I.USHORT,N.OffSize=N.BYTE,I.OffSize=I.BYTE,N.SID=N.USHORT,I.SID=I.USHORT,N.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?N.NUMBER16(e):N.NUMBER32(e)},I.NUMBER=function(e){return N.NUMBER(e).length},N.NUMBER16=function(e){return[28,e>>8&255,255&e]},I.NUMBER16=U(3),N.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},I.NUMBER32=U(5),N.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var i="",o=0,a=t.length;o<a;o+=1){var s=t[o];i+="e"===s?"-"===t[++o]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var l=[30],u=0,c=(i+=1&i.length?"f":"ff").length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l},I.REAL=function(e){return N.REAL(e).length},N.NAME=N.CHARARRAY,I.NAME=I.CHARARRAY,N.STRING=N.CHARARRAY,I.STRING=I.CHARARRAY,P.UTF8=function(e,t,n){for(var r=[],i=n,o=0;o<i;o++,t+=1)r[o]=e.getUint8(t);return String.fromCharCode.apply(null,r)},P.UTF16=function(e,t,n){for(var r=[],i=n/2,o=0;o<i;o++,t+=2)r[o]=e.getUint16(t);return String.fromCharCode.apply(null,r)},N.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},I.UTF16=function(e){return 2*e.length};var L={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};P.MACSTRING=function(e,t,n,r){var i=L[r];if(void 0!==i){for(var o="",a=0;a<n;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}};var D,F="function"==typeof WeakMap&&new WeakMap;function B(e){return e>=-128&&e<=127}function z(e,t,n){for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}function G(e,t,n){for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(!B(a))break;if(0===a&&o+1<i&&0===e[o+1])break;++o,++r}n.push(r-1);for(var s=t;s<o;++s)n.push(e[s]+256&255);return o}function j(e,t,n){for(var r=0,i=e.length,o=t;o<i&&r<64;){var a=e[o];if(0===a)break;if(B(a)&&o+1<i&&B(e[o+1]))break;++o,++r}n.push(64|r-1);for(var s=t;s<o;++s){var l=e[s];n.push(l+65536>>8&255,l+256&255)}return o}N.MACSTRING=function(e,t){var n=function(e){if(!D)for(var t in D={},L)D[t]=new String(t);var n=D[e];if(void 0!==n){if(F){var r=F.get(n);if(void 0!==r)return r}var i=L[e];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return F&&F.set(n,o),o}}}(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=128&&void 0===(o=n[o]))return;r[i]=o}return r}},I.MACSTRING=function(e,t){var n=N.MACSTRING(e,t);return void 0!==n?n.length:0},N.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=0===r?z(e,t,n):r>=-128&&r<=127?G(e,t,n):j(e,t,n)}return n},N.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var o=N.OBJECT(e[i]);Array.prototype.push.apply(r,o),t+=o.length,n.push(t)}if(0===r.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,N.BYTE,N.USHORT,N.UINT24,N.ULONG][s],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(N.Card16(e.length),N.OffSize(s),a,r)},I.INDEX=function(e){return N.INDEX(e).length},N.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),a=e[o];t=(t=t.concat(N.OPERAND(a.value,a.type))).concat(N.OPERATOR(o))}return t},I.DICT=function(e){return N.DICT(e).length},N.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},N.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)C.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(N.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(N.NUMBER(e));else if("offset"===t)n=n.concat(N.NUMBER32(e));else if("number"===t)n=n.concat(N.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(N.REAL(e))}return n},N.OP=N.BYTE,I.OP=I.BYTE;var V="function"==typeof WeakMap&&new WeakMap;function H(e,t,n){for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var o=Object.keys(n),a=0;a<o.length;a+=1){var s=o[a],l=n[s];void 0!==this[s]&&(this[s]=l)}}function q(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function W(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:e+o,type:"TABLE",value:n(t[o],o)};return i}function Y(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(t[o],o));return i}function X(e){1===e.format?H.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(q("glyph",e.glyphs))):C.assert(!1,"Can't create coverage table format 2 yet.")}function Z(e){H.call(this,"scriptListTable",Y("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return C.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new H("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new H("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(q("featureIndex",r.featureIndexes)))}].concat(Y("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new H("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(q("featureIndex",n.featureIndexes)))}]}))))}]})))}function $(e){H.call(this,"featureListTable",Y("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new H("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(q("lookupListIndex",n.lookupListIndexes)))}]})))}function Q(e,t){H.call(this,"lookupListTable",W("lookup",e,(function(e){var n=t[e.lookupType];return C.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new H("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(W("subtable",e.subtables,n)))})))}N.CHARSTRING=function(e){if(V){var t=V.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1){var o=e[i];n=n.concat(N[o.type](o.value))}return V&&V.set(e,n),n},I.CHARSTRING=function(e){return N.CHARSTRING(e).length},N.OBJECT=function(e){var t=N[e.type];return C.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},I.OBJECT=function(e){var t=I[e.type];return C.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},N.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],o=0;o<n;o+=1){var a=e.fields[o],s=N[a.type];C.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")");var l=e[a.name];void 0===l&&(l=a.value);var u=s(l);"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),r.push(u)):t=t.concat(u)}for(var c=0;c<r.length;c+=1){var h=i[c],f=t.length;C.argument(f<65536,"Table "+e.tableName+" too big."),t[h]=f>>8,t[h+1]=255&f,t=t.concat(r[c])}return t},I.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],o=I[i.type];C.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")");var a=e[i.name];void 0===a&&(a=i.value),t+=o(a),"TABLE"===i.type&&(t+=2)}return t},N.RECORD=N.TABLE,I.RECORD=I.TABLE,N.LITERAL=function(e){return e},I.LITERAL=function(e){return e.length},H.prototype.encode=function(){return N.TABLE(this)},H.prototype.sizeOf=function(){return I.TABLE(this)},X.prototype=Object.create(H.prototype),X.prototype.constructor=X,Z.prototype=Object.create(H.prototype),Z.prototype.constructor=Z,$.prototype=Object.create(H.prototype),$.prototype.constructor=$,Q.prototype=Object.create(H.prototype),Q.prototype.constructor=Q;var K={Table:H,Record:H,Coverage:X,ScriptList:Z,FeatureList:$,LookupList:Q,ushortList:q,tableList:W,recordList:Y};function J(e,t){return e.getUint8(t)}function ee(e,t){return e.getUint16(t,!1)}function te(e,t){return e.getUint32(t,!1)}function ne(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var re={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ie(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ie.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ie.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ie.prototype.parseCard8=ie.prototype.parseByte,ie.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ie.prototype.parseCard16=ie.prototype.parseUShort,ie.prototype.parseSID=ie.prototype.parseUShort,ie.prototype.parseOffset16=ie.prototype.parseUShort,ie.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ie.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ie.prototype.parseULong=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ie.prototype.parseOffset32=ie.prototype.parseULong,ie.prototype.parseFixed=function(){var e=ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ie.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},ie.prototype.parseTag=function(){return this.parseString(4)},ie.prototype.parseLongDateTime=function(){var e=te(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ie.prototype.parseVersion=function(e){var t=ee(this.data,this.offset+this.relativeOffset),n=ee(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},ie.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=re[e]*t},ie.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},ie.prototype.parseOffset16List=ie.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},ie.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},ie.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},ie.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ie.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ie.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],l=t[s];o[s]=l.call(this)}n[i]=o}return n},ie.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],l=t[s];o[s]=l.call(this)}n[i]=o}return n},ie.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],o=e[i];n[i]=o.call(this)}return n},ie.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},ie.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},ie.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new ie(this.data,this.offset+t).parseStruct(e)},ie.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new ie(this.data,this.offset+t).parseStruct(e)},ie.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var a=t[o];if(0!==a)if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=a+s[u],l[u]=e.call(this);i[o]=l}else i[o]=this.parseUShortList();else i[o]=void 0}return this.relativeOffset=r,i},ie.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},ie.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ie.uShort,end:ie.uShort,classId:ie.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ie.list=function(e,t){return function(){return this.parseList(e,t)}},ie.list32=function(e,t){return function(){return this.parseList32(e,t)}},ie.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ie.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ie.pointer=function(e){return function(){return this.parsePointer(e)}},ie.pointer32=function(e){return function(){return this.parsePointer32(e)}},ie.tag=ie.prototype.parseTag,ie.byte=ie.prototype.parseByte,ie.uShort=ie.offset16=ie.prototype.parseUShort,ie.uShortList=ie.prototype.parseUShortList,ie.uLong=ie.offset32=ie.prototype.parseULong,ie.uLongList=ie.prototype.parseULongList,ie.struct=ie.prototype.parseStruct,ie.coverage=ie.prototype.parseCoverage,ie.classDef=ie.prototype.parseClassDef;var oe={reserved:ie.uShort,reqFeatureIndex:ie.uShort,featureIndexes:ie.uShortList};ie.prototype.parseScriptList=function(){return this.parsePointer(ie.recordList({tag:ie.tag,script:ie.pointer({defaultLangSys:ie.pointer(oe),langSysRecords:ie.recordList({tag:ie.tag,langSys:ie.pointer(oe)})})}))||[]},ie.prototype.parseFeatureList=function(){return this.parsePointer(ie.recordList({tag:ie.tag,feature:ie.pointer({featureParams:ie.offset16,lookupListIndexes:ie.uShortList})}))||[]},ie.prototype.parseLookupList=function(e){return this.parsePointer(ie.list(ie.pointer((function(){var t=this.parseUShort();C.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(ie.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},ie.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return C.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ie.offset32,featureTableSubstitutionOffset:ie.offset32})}))||[]};var ae={getByte:J,getCard8:J,getUShort:ee,getCard16:ee,getShort:function(e,t){return e.getInt16(t,!1)},getULong:te,getFixed:ne,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:ie};function se(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var le={parse:function(e,t){var n={};n.version=ae.getUShort(e,t),C.argument(0===n.version,"cmap table version should be 0."),n.numTables=ae.getUShort(e,t+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=ae.getUShort(e,t+4+8*i),a=ae.getUShort(e,t+4+8*i+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){r=ae.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new ae.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=t.parseULong(),o=t.parseULong(),a=t.parseULong(),s=i;s<=o;s+=1)e.glyphIndexMap[s]=a,a++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,r,i){var o;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var a=new ae.Parser(n,r+i+14),s=new ae.Parser(n,r+i+16+2*o),l=new ae.Parser(n,r+i+16+4*o),u=new ae.Parser(n,r+i+16+6*o),c=r+i+16+8*o,h=0;h<o-1;h+=1)for(var f=void 0,p=a.parseUShort(),d=s.parseUShort(),m=l.parseShort(),g=u.parseUShort(),v=d;v<=p;v+=1)0!==g?(c=u.offset+u.relativeOffset-2,c+=g,c+=2*(v-d),0!==(f=ae.getUShort(n,c))&&(f=f+m&65535)):f=v+m&65535,e.glyphIndexMap[v]=f}(n,s,e,t,r)}return n},make:function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1){if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new K.Table("cmap",r);for(i.segments=[],t=0;t<e.length;t+=1){for(var o=e.get(t),a=0;a<o.unicodes.length;a+=1)se(i,o.unicodes[a],t);i.segments=i.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(i);var s=i.segments.length,l=0,u=[],c=[],h=[],f=[],p=[],d=[];for(t=0;t<s;t+=1){var m=i.segments[t];m.end<=65535&&m.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:m.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:m.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:m.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:m.offset}),void 0!==m.glyphId&&(p=p.concat({name:"glyph_"+t,type:"USHORT",value:m.glyphId}))):l+=1,n||void 0===m.glyphIndex||(d=(d=(d=d.concat({name:"cmap12Start_"+t,type:"ULONG",value:m.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:m.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:m.glyphIndex}))}if(i.segCountX2=2*(s-l),i.searchRange=2*Math.pow(2,Math.floor(Math.log(s-l)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(u),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(c),i.fields=i.fields.concat(h),i.fields=i.fields.concat(f),i.fields=i.fields.concat(p),i.cmap4Length=14+2*u.length+2+2*c.length+2*h.length+2*f.length+2*p.length,!n){var g=16+4*d.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:g},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:d.length/3}]),i.fields=i.fields.concat(d)}return i}},ue=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],he=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],fe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function pe(e){this.font=e}function de(e){this.cmap=e}function me(e,t){this.encoding=e,this.charset=t}function ge(e){switch(e.version){case 1:this.names=fe.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<fe.length?this.names[t]=fe[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-fe.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=fe[n+e.glyphNameIndex[n]];break;case 3:default:this.names=[]}}function ve(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,n=Object.keys(t),r=0;r<n.length;r+=1){var i=n[r],o=t[i];void 0===e._IndexToUnicodeMap[o]?e._IndexToUnicodeMap[o]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(i))}}(e):function(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],a=n[o];(t=e.glyphs.get(a)).addUnicode(parseInt(o))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(e)}pe.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return r;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},me.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},ge.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ge.prototype.glyphIndexToName=function(e){return this.names[e]};var ye={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function be(e){this.bindConstructorValues(e)}function we(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function xe(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}be.prototype.bindConstructorValues=function(e){var t,n;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,n=t||new _,{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(e){n=e}}))},be.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},be.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},be.prototype.getPath=function(e,t,n,r,i){var o,a;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(a=this.path&&i.hinting.exec(this,n)),a)o=i.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),s=l=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=u),void 0===l&&(l=u)}for(var c=new _,h=0;h<o.length;h+=1){var f=o[h];"M"===f.type?c.moveTo(e+f.x*s,t+-f.y*l):"L"===f.type?c.lineTo(e+f.x*s,t+-f.y*l):"Q"===f.type?c.quadraticCurveTo(e+f.x1*s,t+-f.y1*l,e+f.x*s,t+-f.y*l):"C"===f.type?c.curveTo(e+f.x1*s,t+-f.y1*l,e+f.x2*s,t+-f.y2*l,e+f.x*s,t+-f.y*l):"Z"===f.type&&c.closePath()}return c},be.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return C.argument(0===t.length,"There are still points left in the current contour."),e},be.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},be.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},be.prototype.drawPoints=function(e,t,n,r){function i(t,n,r,i){e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(n+t[o].x*i,r+t[o].y*i),e.arc(n+t[o].x*i,r+t[o].y*i,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var o=1/this.path.unitsPerEm*r,a=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&a.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(a,t,n,o),e.fillStyle="red",i(s,t,n,o)},be.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",ye.line(e,t,-1e4,t,1e4),ye.line(e,-1e4,n,1e4,n);var o=this.xMin||0,a=this.yMin||0,s=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",ye.line(e,t+o*i,-1e4,t+o*i,1e4),ye.line(e,t+s*i,-1e4,t+s*i,1e4),ye.line(e,-1e4,n+-a*i,1e4,n+-a*i),ye.line(e,-1e4,n+-l*i,1e4,n+-l*i),e.strokeStyle="green",ye.line(e,t+u*i,-1e4,t+u*i,1e4)},xe.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},xe.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var Se={GlyphSet:xe,glyphLoader:function(e,t){return new be({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,i,o){return function(){var a=new be({index:t,font:e});return a.path=function(){n(a,r,i);var t=o(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},we(a,"xMin","_xMin"),we(a,"xMax","_xMax"),we(a,"yMin","_yMin"),we(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,n,r){return function(){var i=new be({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,t},i}}};function Ee(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!Ee(e[n],t[n]))return!1;return!0}return!1}function Te(e){return e.length<1240?107:e.length<33900?1131:32768}function ke(e,t,n){var r,i,o=[],a=[],s=ae.getCard16(e,t);if(0!==s){var l=ae.getByte(e,t+2);r=t+(s+1)*l+2;for(var u=t+3,c=0;c<s+1;c+=1)o.push(ae.getOffset(e,u,l)),u+=l;i=r+o[s]}else i=t+2;for(var h=0;h<o.length-1;h+=1){var f=ae.getBytes(e,r+o[h],r+o[h+1]);n&&(f=n(f)),a.push(f)}return{objects:a,startOffset:t,endOffset:i}}function Oe(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),i=r>>4,o=15&r;if(15===i)break;if(t+=n[i],15===o)break;t+=n[o]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Me(e,t,n){t=void 0!==t?t:0;var r=new ae.Parser(e,t),i=[],o=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(12===a&&(a=1200+r.parseByte()),i.push([a,o]),o=[]):o.push(Oe(r,a))}return function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],o=void 0;if(o=1===i.length?i[0]:i,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=o}return t}(i)}function _e(e,t){return t=t<=390?ue[t]:e[t-391]}function Re(e,t,n){for(var r,i={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(r=void 0!==e[a.op]?e[a.op][l]:void 0)&&(r=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(r=_e(n,r)),s[l]=r;i[a.name]=s}else void 0===(r=e[a.op])&&(r=void 0!==a.value?a.value:null),"SID"===a.type&&(r=_e(n,r)),i[a.name]=r}return i}var Ae=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ce=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Pe(e,t){return Re(Me(e,0,e.byteLength),Ae,t)}function Ne(e,t,n,r){return Re(Me(e,t,n),Ce,r)}function Ie(e,t,n,r){for(var i=[],o=0;o<n.length;o+=1){var a=Pe(new DataView(new Uint8Array(n[o]).buffer),r);a._subrs=[],a._subrsBias=0;var s=a.private[0],l=a.private[1];if(0!==s&&0!==l){var u=Ne(e,l+t,s,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,0!==u.subrs){var c=ke(e,l+u.subrs+t);a._subrs=c.objects,a._subrsBias=Te(a._subrs)}a._privateDict=u}i.push(a)}return i}function Ue(e,t,n){var r,i,o,a,s,l,u,c,h=new _,f=[],p=0,d=!1,m=!1,g=0,v=0;if(e.isCIDFont){var y=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[y];s=b._subrs,l=b._subrsBias,u=b._defaultWidthX,c=b._nominalWidthX}else s=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,u=e.tables.cff.topDict._defaultWidthX,c=e.tables.cff.topDict._nominalWidthX;var w=u;function x(e,t){m&&h.closePath(),h.moveTo(e,t),m=!0}function S(){f.length%2!=0&&!d&&(w=f.shift()+c),p+=f.length>>1,f.length=0,d=!0}return function n(u){for(var y,b,E,T,k,O,M,_,R,A,C,P,N=0;N<u.length;){var I=u[N];switch(N+=1,I){case 1:case 3:S();break;case 4:f.length>1&&!d&&(w=f.shift()+c,d=!0),v+=f.pop(),x(g,v);break;case 5:for(;f.length>0;)g+=f.shift(),v+=f.shift(),h.lineTo(g,v);break;case 6:for(;f.length>0&&(g+=f.shift(),h.lineTo(g,v),0!==f.length);)v+=f.shift(),h.lineTo(g,v);break;case 7:for(;f.length>0&&(v+=f.shift(),h.lineTo(g,v),0!==f.length);)g+=f.shift(),h.lineTo(g,v);break;case 8:for(;f.length>0;)r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),h.curveTo(r,i,o,a,g,v);break;case 10:k=f.pop()+l,(O=s[k])&&n(O);break;case 11:return;case 12:switch(I=u[N],N+=1,I){case 35:r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),M=o+f.shift(),_=a+f.shift(),R=M+f.shift(),A=_+f.shift(),C=R+f.shift(),P=A+f.shift(),g=C+f.shift(),v=P+f.shift(),f.shift(),h.curveTo(r,i,o,a,M,_),h.curveTo(R,A,C,P,g,v);break;case 34:r=g+f.shift(),i=v,o=r+f.shift(),a=i+f.shift(),M=o+f.shift(),_=a,R=M+f.shift(),A=a,C=R+f.shift(),P=v,g=C+f.shift(),h.curveTo(r,i,o,a,M,_),h.curveTo(R,A,C,P,g,v);break;case 36:r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),M=o+f.shift(),_=a,R=M+f.shift(),A=a,C=R+f.shift(),P=A+f.shift(),g=C+f.shift(),h.curveTo(r,i,o,a,M,_),h.curveTo(R,A,C,P,g,v);break;case 37:r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),M=o+f.shift(),_=a+f.shift(),R=M+f.shift(),A=_+f.shift(),C=R+f.shift(),P=A+f.shift(),Math.abs(C-g)>Math.abs(P-v)?g=C+f.shift():v=P+f.shift(),h.curveTo(r,i,o,a,M,_),h.curveTo(R,A,C,P,g,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+I),f.length=0}break;case 14:f.length>0&&!d&&(w=f.shift()+c,d=!0),m&&(h.closePath(),m=!1);break;case 18:S();break;case 19:case 20:S(),N+=p+7>>3;break;case 21:f.length>2&&!d&&(w=f.shift()+c,d=!0),v+=f.pop(),x(g+=f.pop(),v);break;case 22:f.length>1&&!d&&(w=f.shift()+c,d=!0),x(g+=f.pop(),v);break;case 23:S();break;case 24:for(;f.length>2;)r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),h.curveTo(r,i,o,a,g,v);g+=f.shift(),v+=f.shift(),h.lineTo(g,v);break;case 25:for(;f.length>6;)g+=f.shift(),v+=f.shift(),h.lineTo(g,v);r=g+f.shift(),i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),h.curveTo(r,i,o,a,g,v);break;case 26:for(f.length%2&&(g+=f.shift());f.length>0;)r=g,i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o,v=a+f.shift(),h.curveTo(r,i,o,a,g,v);break;case 27:for(f.length%2&&(v+=f.shift());f.length>0;)r=g+f.shift(),i=v,o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a,h.curveTo(r,i,o,a,g,v);break;case 28:y=u[N],b=u[N+1],f.push((y<<24|b<<16)>>16),N+=2;break;case 29:k=f.pop()+e.gsubrsBias,(O=e.gsubrs[k])&&n(O);break;case 30:for(;f.length>0&&(r=g,i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),h.curveTo(r,i,o,a,g,v),0!==f.length);)r=g+f.shift(),i=v,o=r+f.shift(),a=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),h.curveTo(r,i,o,a,g,v);break;case 31:for(;f.length>0&&(r=g+f.shift(),i=v,o=r+f.shift(),a=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),h.curveTo(r,i,o,a,g,v),0!==f.length);)r=g,i=v+f.shift(),o=r+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),h.curveTo(r,i,o,a,g,v);break;default:I<32?console.log("Glyph "+t.index+": unknown operator "+I):I<247?f.push(I-139):I<251?(y=u[N],N+=1,f.push(256*(I-247)+y+108)):I<255?(y=u[N],N+=1,f.push(256*-(I-251)-y-108)):(y=u[N],b=u[N+1],E=u[N+2],T=u[N+3],N+=4,f.push((y<<24|b<<16|E<<8|T)/65536))}}}(n),t.advanceWidth=w,h}function Le(e,t){var n,r=ue.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+ue.length:(n=ue.length+t.length,t.push(e)),n}function De(e,t,n){for(var r={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.name];void 0===a||Ee(a,o.value)||("SID"===o.type&&(a=Le(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function Fe(e,t){var n=new K.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=De(Ae,e,t),n}function Be(e){var t=new K.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function ze(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var a=void 0,s=void 0,l=n.commands[o];if("Q"===l.type){l={type:"C",x:l.x,y:l.y,x1:1/3*r+2/3*l.x1,y1:1/3*i+2/3*l.y1,x2:1/3*l.x+2/3*l.x1,y2:1/3*l.y+2/3*l.y1}}if("M"===l.type)a=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)a=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var u=Math.round(l.x1-r),c=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),f=Math.round(l.y2-l.y1);a=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:u}),t.push({name:"dy1",type:"NUMBER",value:c}),t.push({name:"dx2",type:"NUMBER",value:h}),t.push({name:"dy2",type:"NUMBER",value:f}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Ge={parse:function(e,t,n,r){n.tables.cff={};var i=function(e,t){var n={};return n.formatMajor=ae.getCard8(e,t),n.formatMinor=ae.getCard8(e,t+1),n.size=ae.getCard8(e,t+2),n.offsetSize=ae.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),o=ke(e,i.endOffset,ae.bytesToString),a=ke(e,o.endOffset),s=ke(e,a.endOffset,ae.bytesToString),l=ke(e,s.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Te(n.gsubrs);var u=Ie(e,t,a.objects,s.objects);if(1!==u.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var h=c.fdArray,f=c.fdSelect;if(0===h||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var p=ke(e,h+=t),d=Ie(e,t,p.objects,s.objects);c._fdArray=d,f+=t,c._fdSelect=function(e,t,n,r){var i,o=[],a=new ae.Parser(e,t),s=a.parseCard8();if(0===s)for(var l=0;l<n;l++){if((i=a.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");o.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var u,c=a.parseCard16(),h=a.parseCard16();if(0!==h)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var f=0;f<c;f++){if(i=a.parseCard8(),u=a.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(u>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;h<u;h++)o.push(i);h=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return o}(e,f,n.numGlyphs,d.length)}var m,g=t+c.private[1],v=Ne(e,g,c.private[0],s.objects);if(n.defaultWidthX=v.defaultWidthX,n.nominalWidthX=v.nominalWidthX,0!==v.subrs){var y=g+v.subrs,b=ke(e,y);n.subrs=b.objects,n.subrsBias=Te(n.subrs)}else n.subrs=[],n.subrsBias=0;r.lowMemory?(m=function(e,t){var n,r,i=[],o=ae.getCard16(e,t);if(0!==o){var a=ae.getByte(e,t+2);n=t+(o+1)*a+2;for(var s=t+3,l=0;l<o+1;l+=1)i.push(ae.getOffset(e,s,a)),s+=a;r=n+i[o]}else r=t+2;return{offsets:i,startOffset:t,endOffset:r}}(e,t+c.charStrings),n.nGlyphs=m.offsets.length):(m=ke(e,t+c.charStrings),n.nGlyphs=m.objects.length);var w=function(e,t,n,r){var i,o,a=new ae.Parser(e,t);n-=1;var s=[".notdef"],l=a.parseCard8();if(0===l)for(var u=0;u<n;u+=1)i=a.parseSID(),s.push(_e(r,i));else if(1===l)for(;s.length<=n;){i=a.parseSID(),o=a.parseCard8();for(var c=0;c<=o;c+=1)s.push(_e(r,i)),i+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;s.length<=n;){i=a.parseSID(),o=a.parseCard16();for(var h=0;h<=o;h+=1)s.push(_e(r,i)),i+=1}}return s}(e,t+c.charset,n.nGlyphs,s.objects);if(0===c.encoding?n.cffEncoding=new me(ce,w):1===c.encoding?n.cffEncoding=new me(he,w):n.cffEncoding=function(e,t,n){var r,i={},o=new ae.Parser(e,t),a=o.parseCard8();if(0===a)for(var s=o.parseCard8(),l=0;l<s;l+=1)i[r=o.parseCard8()]=l;else{if(1!==a)throw new Error("Unknown encoding format "+a);var u=o.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var h=o.parseCard8(),f=o.parseCard8(),p=h;p<=h+f;p+=1)i[p]=r,r+=1}return new me(i,n)}(e,t+c.encoding,w),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Se.GlyphSet(n),r.lowMemory)n._push=function(r){var i=function(e,t,n,r,i){var o=ae.getCard16(n,r),a=0;0!==o&&(a=r+(o+1)*ae.getByte(n,r+2)+2);var s=ae.getBytes(n,a+t[e],a+t[e+1]);return i&&(s=i(s)),s}(r,m.offsets,e,t+c.charStrings);n.glyphs.push(r,Se.cffGlyphLoader(n,r,Ue,i))};else for(var x=0;x<n.nGlyphs;x+=1){var S=m.objects[x];n.glyphs.push(x,Se.cffGlyphLoader(n,x,Ue,S))}},make:function(e,t){for(var n,r=new K.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],s=1;s<e.length;s+=1)n=e.get(s),a.push(n.name);var l=[];r.header=new K.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new K.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var u=Fe(o,l);r.topDictIndex=Be(u),r.globalSubrIndex=new K.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new K.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=Le(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(a,l),r.charStringsIndex=function(e){for(var t=new K.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=ze(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}(e),r.privateDict=function(e,t){var n=new K.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=De(Ce,e,t),n}({},l),r.stringIndex=function(e){var t=new K.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(l);var c=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return o.charset=c,o.encoding=0,o.charStrings=o.charset+r.charsets.sizeOf(),o.private[1]=o.charStrings+r.charStringsIndex.sizeOf(),u=Fe(o,l),r.topDictIndex=Be(u),r}};var je={parse:function(e,t){var n={},r=new ae.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),C.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new K.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var Ve={parse:function(e,t){var n={},r=new ae.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new K.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var He={parse:function(e,t,n,r,i,o,a){a.lowMemory?function(e,t,n,r,i){var o,a;e._hmtxTableData={};for(var s=new ae.Parser(t,n),l=0;l<i;l+=1)l<r&&(o=s.parseUShort(),a=s.parseShort()),e._hmtxTableData[l]={advanceWidth:o,leftSideBearing:a}}(e,t,n,r,i):function(e,t,n,r,i){for(var o,a,s=new ae.Parser(e,t),l=0;l<r;l+=1){l<n&&(o=s.parseUShort(),a=s.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=a}}(t,n,r,i,o)},make:function(e){for(var t=new K.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return t}};var qe={make:function(e){for(var t=new K.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var o=n.indexOf(e[i]);o<0&&(o=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){var n=new ae.Parser(e,t),r=n.parseULong();C.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],a=0;a<i;a++){for(var s="",l=t+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));o.push(s)}return o}};var We={parse:function(e,t){var n={},r=new ae.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new K.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Ye=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Xe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ze={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},$e={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Qe(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return Xe[t];case 3:return $e[t]}}var Ke={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Je={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function et(e,t,n){switch(e){case 0:return"utf-16";case 1:return Je[n]||Ke[t];case 3:if(1===t||10===t)return"utf-16"}}function tt(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function nt(e,t,n,r,i,o){return new K.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function rt(e,t){var n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(t[i+o]!==e[o])continue e;return i}return-1}(e,t);if(n<0){n=t.length;for(var r=0,i=e.length;r<i;++r)t.push(e[r])}return n}var it={parse:function(e,t,n){for(var r={},i=new ae.Parser(e,t),o=i.parseUShort(),a=i.parseUShort(),s=i.offset+i.parseUShort(),l=0;l<a;l++){var u=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),f=i.parseUShort(),p=Ye[f]||f,d=i.parseUShort(),m=i.parseUShort(),g=Qe(u,h,n),v=et(u,c,h);if(void 0!==v&&void 0!==g){var y=void 0;if(y="utf-16"===v?P.UTF16(e,s+m,d):P.MACSTRING(e,s+m,d,v)){var b=r[p];void 0===b&&(b=r[p]={}),b[g]=y}}}return 1===o&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},o=tt(Ye);for(var a in e){var s=o[a];if(void 0===s&&(s=a),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');i[n]=e[a],r.push(n)}for(var l=tt(Xe),u=tt($e),c=[],h=[],f=0;f<r.length;f++){var p=i[n=r[f]];for(var d in p){var m=p[d],g=1,v=l[d],y=Ze[v],b=et(g,y,v),w=N.MACSTRING(m,b);void 0===w&&(g=0,(v=t.indexOf(d))<0&&(v=t.length,t.push(d)),y=4,w=N.UTF16(m));var x=rt(w,h);c.push(nt(g,y,v,n,w.length,x));var S=u[d];if(void 0!==S){var E=N.UTF16(m),T=rt(E,h);c.push(nt(3,1,S,n,E.length,T))}}}c.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var k=new K.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+12*c.length}]),O=0;O<c.length;O++)k.fields.push({name:"record_"+O,type:"RECORD",value:c[O]});return k.fields.push({name:"strings",type:"LITERAL",value:h}),k}},ot=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var at={parse:function(e,t){var n={},r=new ae.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new K.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:ot,getUnicodeRange:function(e){for(var t=0;t<ot.length;t+=1){var n=ot[t];if(e>=n.begin&&e<n.end)return t}return-1}};var st={parse:function(e,t){var n={},r=new ae.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=fe.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=fe.length){var a=r.parseChar();n.names.push(r.parseString(a))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new K.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},lt=new Array(9);lt[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ie.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ie.coverage),substitute:this.parseOffset16List()}:void C.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},lt[2]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),sequences:this.parseListOfLists()}},lt[3]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),alternateSets:this.parseListOfLists()}},lt[4]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var ut={sequenceIndex:ie.uShort,lookupListIndex:ie.uShort};lt[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(ie.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ut)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(ie.coverage),classDef:this.parsePointer(ie.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ut)}}))};if(3===t){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,ie.pointer(ie.coverage)),lookupRecords:this.parseRecordList(r,ut)}}C.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},lt[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ie.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ut)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(ie.coverage),backtrackClassDef:this.parsePointer(ie.classDef),inputClassDef:this.parsePointer(ie.classDef),lookaheadClassDef:this.parsePointer(ie.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ut)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ie.pointer(ie.coverage)),inputCoverage:this.parseList(ie.pointer(ie.coverage)),lookaheadCoverage:this.parseList(ie.pointer(ie.coverage)),lookupRecords:this.parseRecordList(ut)}:void C.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},lt[7]=function(){var e=this.parseUShort();C.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new ie(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:lt[t].call(n)}},lt[8]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ie.coverage),backtrackCoverage:this.parseList(ie.pointer(ie.coverage)),lookaheadCoverage:this.parseList(ie.pointer(ie.coverage)),substitutes:this.parseUShortList()}};var ct=new Array(9);ct[1]=function(e){return 1===e.substFormat?new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new K.Coverage(e.coverage)}].concat(K.ushortList("substitute",e.substitute)))},ct[3]=function(e){return C.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(e.coverage)}].concat(K.tableList("altSet",e.alternateSets,(function(e){return new K.Table("alternateSetTable",K.ushortList("alternate",e))}))))},ct[4]=function(e){return C.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new K.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new K.Coverage(e.coverage)}].concat(K.tableList("ligSet",e.ligatureSets,(function(e){return new K.Table("ligatureSetTable",K.tableList("ligature",e,(function(e){return new K.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(K.ushortList("component",e.components,e.components.length+1)))})))}))))};var ht={parse:function(e,t){var n=new ie(e,t=t||0),r=n.parseVersion(1);return C.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(lt)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(lt),variations:n.parseFeatureVariationsList()}},make:function(e){return new K.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new K.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new K.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new K.LookupList(e.lookups,ct)}])}};var ft={parse:function(e,t){var n=new ae.Parser(e,t),r=n.parseULong();C.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},a=0;a<i;a++){var s=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=P.UTF8(e,t+l,u);o[s]=c}return o},make:function(e){var t=Object.keys(e).length,n="",r=16+12*t,i=new K.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var a=n.length;n+=e[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+a}),i.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}};function pt(e){return Math.log(e)/Math.log(2)|0}function dt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function mt(e,t,n,r){return new K.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function gt(e){var t=new K.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,pt(t.numTables));t.searchRange=16*n,t.entrySelector=pt(n),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],i=[],o=t.sizeOf()+mt().sizeOf()*t.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a];C.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),u=mt(s.tableName,dt(s.encode()),o,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=l,C.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function vt(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(i>0)return e.glyphs.get(i).getMetrics()}return n}function yt(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var bt={make:gt,fontToTable:function(e){for(var t,n=[],r=[],i=[],o=[],a=[],s=[],l=[],u=0,c=0,h=0,f=0,p=0,d=0;d<e.glyphs.length;d+=1){var m=e.glyphs.get(d),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+d+"): advanceWidth is not a number.");(t>g||void 0===t)&&g>0&&(t=g),u<g&&(u=g);var v=at.getUnicodeRange(g);if(v<32)c|=1<<v;else if(v<64)h|=1<<v-32;else if(v<96)f|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<v-96}if(".notdef"!==m.name){var y=m.getMetrics();n.push(y.xMin),r.push(y.yMin),i.push(y.xMax),o.push(y.yMax),s.push(y.leftSideBearing),l.push(y.rightSideBearing),a.push(m.advanceWidth)}}var b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:yt(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};b.ascender=e.ascender,b.descender=e.descender;var w=je.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),x=Ve.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),S=We.make(e.glyphs.length),E=at.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:p,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:vt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:vt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),T=He.make(e.glyphs),k=le.make(e.glyphs),O=e.getEnglishName("fontFamily"),M=e.getEnglishName("fontSubfamily"),_=O+" "+M,R=e.getEnglishName("postScriptName");R||(R=O.replace(/\s/g,"")+"-"+M);var A={};for(var C in e.names)A[C]=e.names[C];A.uniqueID||(A.uniqueID={en:e.getEnglishName("manufacturer")+":"+_}),A.postScriptName||(A.postScriptName={en:R}),A.preferredFamily||(A.preferredFamily=e.names.fontFamily),A.preferredSubfamily||(A.preferredSubfamily=e.names.fontSubfamily);var P=[],N=it.make(A,P),I=P.length>0?qe.make(P):void 0,U=st.make(),L=Ge.make(e.glyphs,{version:e.getEnglishName("version"),fullName:_,familyName:O,weightName:M,postScriptName:R,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),D=e.metas&&Object.keys(e.metas).length>0?ft.make(e.metas):void 0,F=[w,x,S,E,N,k,U,L,T];I&&F.push(I),e.tables.gsub&&F.push(ht.make(e.tables.gsub)),D&&F.push(D);for(var B=gt(F),z=dt(B.encode()),G=B.fields,j=!1,V=0;V<G.length;V+=1)if("head table"===G[V].name){G[V].value.checkSumAdjustment=2981146554-z,j=!0;break}if(!j)throw new Error("Could not find head table with checkSum to adjust.");return B},computeCheckSum:dt};function wt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i].tag;if(o===t)return i;o<t?n=i+1:r=i-1}return-n-1}function xt(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i];if(o===t)return i;o<t?n=i+1:r=i-1}return-n-1}function St(e,t){for(var n,r=0,i=e.length-1;r<=i;){var o=r+i>>>1,a=(n=e[o]).start;if(a===t)return n;a<t?r=o+1:i=o-1}if(r>0)return t>(n=e[r-1]).end?0:n}function Et(e,t){this.font=e,this.tableName=t}function Tt(e){Et.call(this,e,"gpos")}function kt(e){Et.call(this,e,"gsub")}function Ot(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Mt(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===t)return o}if(n)return r.push(n),n}function _t(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function Rt(e,t){if(!e)throw t}function At(e,t,n,r,i){var o;return(t&r)>0?(o=e.parseByte(),0==(t&i)&&(o=-o),o=n+o):o=(t&i)>0?n:n+e.parseShort(),o}function Ct(e,t,n){var r,i,o=new ae.Parser(t,n);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),e.numberOfContours>0){for(var a=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)a.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(o.parseByte());var u=a[a.length-1]+1;r=[];for(var c=0;c<u;c+=1)if(i=o.parseByte(),r.push(i),(8&i)>0)for(var h=o.parseByte(),f=0;f<h;f+=1)r.push(i),c+=1;if(C.argument(r.length===u,"Bad flags."),a.length>0){var p,d=[];if(u>0){for(var m=0;m<u;m+=1)i=r[m],(p={}).onCurve=!!(1&i),p.lastPointOfContour=a.indexOf(m)>=0,d.push(p);for(var g=0,v=0;v<u;v+=1)i=r[v],(p=d[v]).x=At(o,i,g,2,16),g=p.x;for(var y=0,b=0;b<u;b+=1)i=r[b],(p=d[b]).y=At(o,i,y,4,32),y=p.y}e.points=d}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){r=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(x.dx=o.parseShort(),x.dy=o.parseShort()):x.matchedPoints=[o.parseUShort(),o.parseUShort()]:(2&r)>0?(x.dx=o.parseChar(),x.dy=o.parseChar()):x.matchedPoints=[o.parseByte(),o.parseByte()],(8&r)>0?x.xScale=x.yScale=o.parseF2Dot14():(64&r)>0?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):(128&r)>0&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),e.components.push(x),w=!!(32&r)}if(256&r){e.instructionLength=o.parseUShort(),e.instructions=[];for(var S=0;S<e.instructionLength;S+=1)e.instructions.push(o.parseByte())}}}function Pt(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],o={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function Nt(e){var t=new _;if(!e)return t;for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return C.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var i=n[r],o=null,a=i[i.length-1],s=i[0];if(a.onCurve)t.moveTo(a.x,a.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var l={x:.5*(a.x+s.x),y:.5*(a.y+s.y)};t.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(o=a,a=s,s=i[(u+1)%i.length],a.onCurve)t.lineTo(a.x,a.y);else{var c=s;o.onCurve||{x:.5*(a.x+o.x),y:.5*(a.y+o.y)},s.onCurve||(c={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,c.x,c.y)}t.closePath()}return t}function It(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===r.matchedPoints)o=Pt(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=Pt([s],l)[0],l.dx=a.x-s.x,l.dy=a.y-s.y,o=Pt(i.points,l)}t.points=t.points.concat(o)}}return Nt(t.points)}Et.prototype={searchTag:wt,binSearch:xt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,i=wt(n.scripts,e);if(i>=0)return r[i].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var i=wt(r.langSysRecords,t);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(e,t,n,r){var i=this.getLangSysTable(e,t,r);if(i){for(var o,a=i.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<a.length;l++)if((o=s[a[l]]).tag===n)return o.feature;if(r){var u=s.length;return C.assert(0===u||n>=s[u-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(o),a.push(u),o.feature}}},getLookupTables:function(e,t,n,r,i){var o=this.getFeatureTable(e,t,n,i),a=[];if(o){for(var s,l=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)(s=u[l[c]]).lookupType===r&&a.push(s);if(0===a.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=u.length;return u.push(s),l.push(h),[s]}}return a},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=St(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=xt(e.glyphs,t);return n>=0?n:-1;case 2:var r=St(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)t.push(s);return t}},Tt.prototype=Et.prototype,Tt.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Tt.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(a.classDef1,t),f=this.getGlyphClass(a.classDef2,n),p=a.classRecords[h][f];return p.value1&&p.value1.xAdvance||0}}return 0},Tt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},kt.prototype=Et.prototype,kt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},kt.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var l=a[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var h=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+h})}}else{var p=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:p[c]})}}return r},kt.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,h=0;h<u.length;h++)r.push({sub:u[h],by:c[h]});return r},kt.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,h=0;h<u.length;h++)for(var f=u[h],p=c[h],d=0;d<p.length;d++){var m=p[d];r.push({sub:[f].concat(m.components),by:m.ligGlyph})}return r},kt.prototype.addSingle=function(e,t,n,r){var i=Mt(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});C.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=t.sub,a=this.binSearch(i.coverage.glyphs,o);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,o),i.substitute.splice(a,0,0)),i.substitute[a]=t.by},kt.prototype.addAlternate=function(e,t,n,r){var i=Mt(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});C.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=t.sub,a=this.binSearch(i.coverage.glyphs,o);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,o),i.alternateSets.splice(a,0,0)),i.alternateSets[a]=t.by},kt.prototype.addLigature=function(e,t,n,r){var i=this.getLookupTables(n,r,e,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),C.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=t.sub[0],s=t.sub.slice(1),l={ligGlyph:t.by,components:s},u=this.binSearch(o.coverage.glyphs,a);if(u>=0){for(var c=o.ligatureSets[u],h=0;h<c.length;h++)if(Ot(c[h].components,s))return;c.push(l)}else u=-1-u,o.coverage.glyphs.splice(u,0,a),o.ligatureSets.splice(u,0,[l])},kt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n)}},kt.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r)}};var Ut,Lt,Dt,Ft,Bt={getPath:Nt,parse:function(e,t,n,r,i){return i.lowMemory?function(e,t,n,r){var i=new Se.GlyphSet(r);return r._push=function(o){var a=n[o];a!==n[o+1]?i.push(o,Se.ttfGlyphLoader(r,o,Ct,e,t+a,It)):i.push(o,Se.glyphLoader(r,o))},i}(e,t,n,r):function(e,t,n,r){for(var i=new Se.GlyphSet(r),o=0;o<n.length-1;o+=1){var a=n[o];a!==n[o+1]?i.push(o,Se.ttfGlyphLoader(r,o,Ct,e,t+a,It)):i.push(o,Se.glyphLoader(r,o))}return i}(e,t,n,r)}};function zt(e){this.font=e,this.getCommands=function(e){return Bt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Gt(e){return e}function jt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Vt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Ht(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function qt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Wt(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Yt=function(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r},Xt={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,o,a,s,l,u,c;if(!r||r===this)return i=e.xo-t.xo,o=e.xo-n.xo,l=t.x-t.xo,u=n.x-n.xo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(a=Math.abs(i))+(s=Math.abs(o)))?Xt.setRelative(e,e,(l*s+u*a)/c,r,!0):Xt.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){if(r&&r!==this){var o=i?t.xo:t.x,a=i?t.yo:t.y,s=o+n*r.x,l=a+n*r.y;e.x=s+(e.y-l)/r.normalSlope}else e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Zt={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,o,a,s,l,u,c;if(!r||r===this)return i=e.yo-t.yo,o=e.yo-n.yo,l=t.y-t.yo,u=n.y-n.yo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*a)/c);i=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(a=Math.abs(i))+(s=Math.abs(o)))?Zt.setRelative(e,e,(l*s+u*a)/c,r,!0):Zt.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){if(r&&r!==this){var o=i?t.xo:t.x,a=i?t.yo:t.y,s=o+n*r.x,l=a+n*r.y;e.y=l+r.normalSlope*(e.x-s)}else e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function $t(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Qt(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?Xt:0===e&&1===t?Zt:new $t(e,t)}function Kt(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Xt),Object.freeze(Zt),$t.prototype.distance=function(e,t,n,r){return this.x*Xt.distance(e,t,n,r)+this.y*Zt.distance(e,t,n,r)},$t.prototype.interpolate=function(e,t,n,r){var i,o,a,s,l,u,c;a=r.distance(e,t,!0,!0),s=r.distance(e,n,!0,!0),i=r.distance(t,t,!1,!0),o=r.distance(n,n,!1,!0),0!==(c=(l=Math.abs(a))+(u=Math.abs(s)))?this.setRelative(e,e,(i*u+o*l)/c,r,!0):this.setRelative(e,e,(i+o)/2,r,!0)},$t.prototype.setRelative=function(e,t,n,r,i){r=r||this;var o=i?t.xo:t.x,a=i?t.yo:t.y,s=o+n*r.x,l=a+n*r.y,u=r.normalSlope,c=this.slope,h=e.x,f=e.y;e.x=(c*h-u*s+l-f)/(c-u),e.y=c*(e.x-h)+f},$t.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Kt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Kt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Jt=Object.freeze(new Kt(0,0)),en={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function tn(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Xt,this.round=jt}}function nn(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new Kt(0,0)}function rn(e,t){var n,r=e.prog,i=e.ip,o=1;do{if(88===(n=r[++i]))o++;else if(89===n)o--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(n>=176&&n<=183)i+=n-176+1;else if(n>=184&&n<=191)i+=2*(n-184+1);else if(t&&1===o&&27===n)break}while(o>0);e.ip=i}function on(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function an(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function sn(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function ln(e,t){var n,r,i=t.stack,o=i.pop(),a=i.pop(),s=t.z2[o],l=t.z1[a];exports.DEBUG&&console.log("SPVTL["+e+"]",o,a),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.pv=t.dpv=Qt(n,r)}function un(e,t){var n,r,i=t.stack,o=i.pop(),a=i.pop(),s=t.z2[o],l=t.z1[a];exports.DEBUG&&console.log("SFVTL["+e+"]",o,a),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.fv=Qt(n,r)}function cn(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function hn(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,o=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var a=o.distance(r,Jt);e&&(a=t.round(a)),i.setRelative(r,Jt,a,o),i.touch(r),t.rp0=t.rp1=n}function fn(e,t){var n,r,i,o=t.z2,a=o.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<a;s++)n=o[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function pn(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,s=t.loop,l=t.z2;s--;){var u=n.pop(),c=l[u],h=a.distance(i,i,!1,!0);o.setRelative(c,c,h,a),o.touch(c),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function dn(e,t){var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],o=t.fv,a=t.pv,s=n.pop(),l=t.z2[t.contours[s]],u=l;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",s);var c=a.distance(i,i,!1,!0);do{u!==i&&o.setRelative(u,u,c,a),u=u.nextPointOnContour}while(u!==l)}function mn(e,t){var n,r,i=t.stack,o=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[o],s=t.fv,l=t.pv,u=i.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",u),u){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var c=l.distance(a,a,!1,!0),h=n.length-2,f=0;f<h;f++)r=n[f],s.setRelative(r,r,c,l)}function gn(e,t){var n=t.stack,r=n.pop()/64,i=n.pop(),o=t.z1[i],a=t.z0[t.rp0],s=t.fv,l=t.pv;s.setRelative(o,a,r,l),s.touch(o),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",r,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function vn(e,t){var n=t.stack,r=n.pop(),i=n.pop(),o=t.z0[i],a=t.fv,s=t.pv,l=t.cvt[r];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",r,"(",l,")",i);var u=s.distance(o,Jt);e&&(Math.abs(u-l)<t.cvCutIn&&(u=l),u=t.round(u)),a.setRelative(o,Jt,u,s),0===t.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),t.rp0=t.rp1=i}function yn(e,t){var n=t.stack,r=n.pop(),i=t.z2[r];exports.DEBUG&&console.log(t.step,"GC["+e+"]",r),n.push(64*t.dpv.distance(i,Jt,e,!1))}function bn(e,t){var n=t.stack,r=n.pop(),i=n.pop(),o=t.z1[r],a=t.z0[i],s=t.dpv.distance(a,o,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",r,i,"->",s),t.stack.push(Math.round(64*s))}function wn(e,t){var n=t.stack,r=n.pop(),i=t.fv,o=t.pv,a=t.ppem,s=t.deltaBase+16*(e-1),l=t.deltaShift,u=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",r,n);for(var c=0;c<r;c++){var h=n.pop(),f=n.pop();if(s+((240&f)>>4)===a){var p=(15&f)-8;p>=0&&p++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",h,"by",p*l);var d=u[h];i.setRelative(d,d,p*l,o)}}}function xn(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),n.push(64*t.round(r/64))}function Sn(e,t){var n=t.stack,r=n.pop(),i=t.ppem,o=t.deltaBase+16*(e-1),a=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",r,n);for(var s=0;s<r;s++){var l=n.pop(),u=n.pop();if(o+((240&u)>>4)===i){var c=(15&u)-8;c>=0&&c++;var h=c*a;exports.DEBUG&&console.log(t.step,"DELTACFIX",l,"by",h),t.cvt[l]+=h}}}function En(e,t){var n,r,i=t.stack,o=i.pop(),a=i.pop(),s=t.z2[o],l=t.z1[a];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",o,a),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.dpv=Qt(n,r)}function Tn(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)n.push(r[++i]);t.ip=i}function kn(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var a=r[++n]<<8|r[++n];32768&a&&(a=-(1+(65535^a))),i.push(a)}t.ip=n}function On(e,t,n,r,i,o){var a,s,l,u,c=o.stack,h=e&&c.pop(),f=c.pop(),p=o.rp0,d=o.z0[p],m=o.z1[f],g=o.minDis,v=o.fv,y=o.dpv;l=(s=a=y.distance(m,d,!0,!0))>=0?1:-1,s=Math.abs(s),e&&(u=o.cvt[h],r&&Math.abs(s-u)<o.cvCutIn&&(s=u)),n&&s<g&&(s=g),r&&(s=o.round(s)),v.setRelative(m,d,l*s,y),v.touch(m),exports.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?h+"("+o.cvt[h]+","+u+")":"",f,"(d =",a,"->",l*s,")"),o.rp1=o.rp0,o.rp2=f,t&&(o.rp0=f)}function Mn(e){this.char=e,this.state={},this.activeState=null}function _n(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function Rn(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function An(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Cn(e){this.eventId=e,this.subscribers=[]}function Pn(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach((function(e){Object.defineProperty(t.events,e,{value:new Cn(e)})})),e&&n.forEach((function(n){var r=e[n];"function"==typeof r&&t.events[n].subscribe(r)}));["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function Nn(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Pn.call(this,e)}function In(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Un(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Ln(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Dn(e){return/[A-z]/.test(e)}function Fn(e){this.font=e,this.features={}}function Bn(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function zn(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i=n[r];if(e>=i.start&&e<=i.end){var o=e-i.start;return i.index+o}}break;default:return-1}return-1}function Gn(e,t){return-1===zn(e,t.coverage)?null:e+t.deltaGlyphId}function jn(e,t){var n=zn(e,t.coverage);return-1===n?null:t.substitute[n]}function Vn(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.current,a=zn(o=Array.isArray(o)?o[0]:o,i);-1!==a&&n.push(a)}return n.length!==e.length?-1:n}function Hn(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=Vn(t.inputCoverage,e);if(-1===r)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(i);o.length&&Ln(o[0].char);)o.shift();var a=new An(o,0),s=Vn(t.lookaheadCoverage,a),l=[].concat(e.backtrack);for(l.reverse();l.length&&Ln(l[0].char);)l.shift();if(l.length<t.backtrackCoverage.length)return[];var u=new An(l,0),c=Vn(t.backtrackCoverage,u),h=[];if(r.length===t.inputCoverage.length&&s.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length)for(var f=0;f<t.lookupRecords.length;f++)for(var p=t.lookupRecords[f].lookupListIndex,d=this.getLookupByIndex(p),m=0;m<d.subtables.length;m++){var g=d.subtables[m],v=this.getLookupMethod(d,g);if("12"===this.getSubstitutionType(d,g))for(var y=0;y<r.length;y++){var b=v(e.get(y));b&&h.push(b)}}return h}function qn(e,t){var n,r=zn(e.current,t.coverage);if(-1===r)return null;for(var i=t.ligatureSets[r],o=0;o<i.length;o++){n=i[o];for(var a=0;a<n.components.length;a++){if(e.lookahead[a]!==n.components[a])break;if(a===n.components.length-1)return n}}return null}function Wn(e,t){var n=zn(e,t.coverage);return-1===n?null:t.sequences[n]}zt.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){tn.prototype=en,(i=this._fpgmState=new tn("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Lt(i)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}tn.prototype=i,(r=this._prepState=new tn("prep",n.tables.prep)).ppem=t;var o=n.tables.cvt;if(o)for(var a=r.cvt=new Array(o.length),s=t/n.unitsPerEm,l=0;l<o.length;l++)a[l]=o[l]*s;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Lt(r)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return Dt(e,r)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Dt=function(e,t){var n,r,i,o=t.ppem/t.font.unitsPerEm,a=o,s=e.components;if(tn.prototype=t,s){var l=t.font;r=[],n=[];for(var u=0;u<s.length;u++){var c=s[u],h=l.glyphs.get(c.glyphIndex);i=new tn("glyf",h.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),i.step=-1),Ft(h,i,o,a);for(var f=Math.round(c.dx*o),p=Math.round(c.dy*a),d=i.gZone,m=i.contours,g=0;g<d.length;g++){var v=d[g];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+f,v.yo=v.y=v.y+p}var y=r.length;r.push.apply(r,d);for(var b=0;b<m.length;b++)n.push(m[b]+y)}e.instructions&&!i.inhibitGridFit&&((i=new tn("glyf",e.instructions)).gZone=i.z0=i.z1=i.z2=r,i.contours=n,r.push(new Kt(0,0),new Kt(Math.round(e.advanceWidth*o),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),Lt(i),r.length-=2)}else i=new tn("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),Ft(e,i,o,a),r=i.gZone;return r},Ft=function(e,t,n,r){for(var i,o,a,s=e.points||[],l=s.length,u=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],h=0;h<l;h++)i=s[h],u[h]=new Kt(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var f=0;f<l;f++)i=u[f],o||(o=i,c.push(f)),i.lastPointOfContour?(i.nextPointOnContour=o,o.prevPointOnContour=i,o=void 0):(a=u[f+1],i.nextPointOnContour=a,a.prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var p=0;p<l;p++)console.log(p,u[p].x,u[p].y)}if(u.push(new Kt(0,0),new Kt(Math.round(e.advanceWidth*n),0)),Lt(t),u.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var d=0;d<l;d++)console.log(d,u[d].x,u[d].y)}}},Lt=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=Ut[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Ut=[on.bind(void 0,Zt),on.bind(void 0,Xt),an.bind(void 0,Zt),an.bind(void 0,Xt),sn.bind(void 0,Zt),sn.bind(void 0,Xt),ln.bind(void 0,0),ln.bind(void 0,1),un.bind(void 0,0),un.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Qt(r,n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Qt(r,n)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop(),o=t.pop(),a=t.pop(),s=e.z0,l=e.z1,u=s[n],c=s[r],h=l[i],f=l[o],p=e.z2[a];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,a);var d=u.x,m=u.y,g=c.x,v=c.y,y=h.x,b=h.y,w=f.x,x=f.y,S=(d-g)*(b-x)-(m-v)*(y-w),E=d*v-m*g,T=y*x-b*w;p.x=(E*(y-w)-T*(d-g))/S,p.y=(E*(b-x)-T*(m-v))/S},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||nn(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||nn(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||nn(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||nn(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=jt},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Ht},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),rn(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},cn,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var i=e.ip,o=e.prog;e.prog=e.funcs[n];for(var a=0;a<r;a++)Lt(e),exports.DEBUG&&console.log(++e.step,a+1<r?"next loopcall":"done loopcall",a);e.ip=i,e.prog=o},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,r=e.prog;e.prog=e.funcs[t],Lt(e),e.ip=n,e.prog=r,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,i=t.pop(),o=r;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);45!==n[++r];);e.ip=r,e.funcs[i]=n.slice(o+1,r)},void 0,hn.bind(void 0,0),hn.bind(void 0,1),fn.bind(void 0,Zt),fn.bind(void 0,Xt),pn.bind(void 0,0),pn.bind(void 0,1),dn.bind(void 0,0),dn.bind(void 0,1),mn.bind(void 0,0),mn.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,o=e.z2;n--;){var a=t.pop(),s=o[a];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",a,i),r.setRelative(s,s,i),r.touch(s)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,o=e.z0[n],a=e.z1[r],s=e.fv,l=e.dpv,u=e.z2;i--;){var c=t.pop(),h=u[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",c,n,"<->",r),s.interpolate(h,o,a,l),s.touch(h)}e.loop=1},gn.bind(void 0,0),gn.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],i=e.loop,o=e.fv,a=e.pv,s=e.z1;i--;){var l=t.pop(),u=s[l];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(u,r,0,a),o.touch(u)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Vt},vn.bind(void 0,0),vn.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var a=n[++t]<<8|n[++t];32768&a&&(a=-(1+(65535^a))),r.push(a)}e.ip=t},function(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",r,i),n[i]=r},function(e){var t=e.stack,n=e.store,r=t.pop();exports.DEBUG&&console.log(e.step,"RS",r);var i=n&&n[r]||0;t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},yn.bind(void 0,0),yn.bind(void 0,1),void 0,bn.bind(void 0,0),bn.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,r),t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,r),t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,r),t.push(r>n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,r),t.push(r>=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,r),t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,r),t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(rn(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,r),t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,r),t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)},wn.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,r),t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,r),t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,r),t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,r),t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},xn.bind(void 0,0),xn.bind(void 0,1),xn.bind(void 0,2),xn.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},wn.bind(void 0,2),wn.bind(void 0,3),Sn.bind(void 0,1),Sn.bind(void 0,2),Sn.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=Yt,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=Yt,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Gt},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=qt},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Wt},cn,cn,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},En.bind(void 0,0),En.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,r),t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,r),t.push(Math.min(r,n))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Tn.bind(void 0,1),Tn.bind(void 0,2),Tn.bind(void 0,3),Tn.bind(void 0,4),Tn.bind(void 0,5),Tn.bind(void 0,6),Tn.bind(void 0,7),Tn.bind(void 0,8),kn.bind(void 0,1),kn.bind(void 0,2),kn.bind(void 0,3),kn.bind(void 0,4),kn.bind(void 0,5),kn.bind(void 0,6),kn.bind(void 0,7),kn.bind(void 0,8),On.bind(void 0,0,0,0,0,0),On.bind(void 0,0,0,0,0,1),On.bind(void 0,0,0,0,0,2),On.bind(void 0,0,0,0,0,3),On.bind(void 0,0,0,0,1,0),On.bind(void 0,0,0,0,1,1),On.bind(void 0,0,0,0,1,2),On.bind(void 0,0,0,0,1,3),On.bind(void 0,0,0,1,0,0),On.bind(void 0,0,0,1,0,1),On.bind(void 0,0,0,1,0,2),On.bind(void 0,0,0,1,0,3),On.bind(void 0,0,0,1,1,0),On.bind(void 0,0,0,1,1,1),On.bind(void 0,0,0,1,1,2),On.bind(void 0,0,0,1,1,3),On.bind(void 0,0,1,0,0,0),On.bind(void 0,0,1,0,0,1),On.bind(void 0,0,1,0,0,2),On.bind(void 0,0,1,0,0,3),On.bind(void 0,0,1,0,1,0),On.bind(void 0,0,1,0,1,1),On.bind(void 0,0,1,0,1,2),On.bind(void 0,0,1,0,1,3),On.bind(void 0,0,1,1,0,0),On.bind(void 0,0,1,1,0,1),On.bind(void 0,0,1,1,0,2),On.bind(void 0,0,1,1,0,3),On.bind(void 0,0,1,1,1,0),On.bind(void 0,0,1,1,1,1),On.bind(void 0,0,1,1,1,2),On.bind(void 0,0,1,1,1,3),On.bind(void 0,1,0,0,0,0),On.bind(void 0,1,0,0,0,1),On.bind(void 0,1,0,0,0,2),On.bind(void 0,1,0,0,0,3),On.bind(void 0,1,0,0,1,0),On.bind(void 0,1,0,0,1,1),On.bind(void 0,1,0,0,1,2),On.bind(void 0,1,0,0,1,3),On.bind(void 0,1,0,1,0,0),On.bind(void 0,1,0,1,0,1),On.bind(void 0,1,0,1,0,2),On.bind(void 0,1,0,1,0,3),On.bind(void 0,1,0,1,1,0),On.bind(void 0,1,0,1,1,1),On.bind(void 0,1,0,1,1,2),On.bind(void 0,1,0,1,1,3),On.bind(void 0,1,1,0,0,0),On.bind(void 0,1,1,0,0,1),On.bind(void 0,1,1,0,0,2),On.bind(void 0,1,1,0,0,3),On.bind(void 0,1,1,0,1,0),On.bind(void 0,1,1,0,1,1),On.bind(void 0,1,1,0,1,2),On.bind(void 0,1,1,0,1,3),On.bind(void 0,1,1,1,0,0),On.bind(void 0,1,1,1,0,1),On.bind(void 0,1,1,1,0,2),On.bind(void 0,1,1,1,0,3),On.bind(void 0,1,1,1,1,0),On.bind(void 0,1,1,1,1,1),On.bind(void 0,1,1,1,1,2),On.bind(void 0,1,1,1,1,3)],Mn.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},Mn.prototype.getState=function(e){return this.state[e]||null},Nn.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},Nn.prototype.composeRUD=function(e){var t=this,n=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(!0))})),r=function(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")};if(n.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(r)};this.dispatch("composeRUD",[n.filter((function(e){return!r(e)}))])},Nn.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every((function(e){return e instanceof Mn}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[o,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Nn.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Mn){var r=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[r[0],t]}return{FAIL:"replaceToken: invalid token or index."}},Nn.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},Nn.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}return{FAIL:"removeToken: invalid token index."}},Nn.prototype.insertToken=function(e,t,n){return e.every((function(e){return e instanceof Mn}))?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},Nn.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe((function(r,i){var o=[r,i],a=[r,i];if(null===t||!0===t.apply(this,o)){var s=n.apply(this,a);r.setState(e,s)}})),this.registeredModifiers.push(e)},Cn.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Cn.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},An.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},An.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},Nn.prototype.rangeToText=function(e){if(e instanceof _n)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},Nn.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},Nn.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null},Nn.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null},Nn.prototype.dispatch=function(e,t){var n=this,r=this.events[e];r instanceof Cn&&r.subscribers.forEach((function(e){e.apply(n,t||[])}))},Nn.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof n)return{FAIL:"missing context end check."};var r=new Rn(e,t,n);return this.registeredContexts[e]=r,this.contextCheckers.push(r),r},Nn.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},Nn.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},Nn.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e){if(e.hasOwnProperty(t))e[t].ranges=[]}},Nn.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var n=new An(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Nn.prototype.setEndOffset=function(e,t){var n=new _n(this.getContext(t).openRange.startIndex,e,t),r=this.getContext(t).ranges;return n.rangeId=t+"."+r.length,r.push(n),this.getContext(t).openRange=null,n},Nn.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach((function(r){var i=r.contextName,o=t.getContext(i).openRange;if(!o&&r.checkStart(e)&&(o=new _n(n,null,i),t.getContext(i).openRange=o,t.dispatch("contextStart",[i,n])),o&&r.checkEnd(e)){var a=n-o.startIndex+1,s=t.setEndOffset(a,i);t.dispatch("contextEnd",[i,s])}}))},Nn.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new An(t,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new Mn(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens},Fn.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},Fn.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a.tag===e)return a.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Fn.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,o=e[r].feature;n[i]=o}this.features[t].tags=n},Fn.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub;return t=n.map((function(e){return r.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},Fn.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},Fn.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return Gn.apply(n,[e,t])};case"12":return function(e){return jn.apply(n,[e,t])};case"63":return function(e){return Hn.apply(n,[e,t])};case"41":return function(e){return qn.apply(n,[e,t])};case"21":return function(e){return Wn.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},Fn.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(t.context),a=0;a<i.length;a++)for(var s=i[a],l=this.getLookupSubtables(s),u=0;u<l.length;u++){var c=l[u],h=this.getSubstitutionType(s,c),f=this.getLookupMethod(s,c),p=void 0;switch(h){case"11":(p=f(t.current))&&o.splice(n,1,new Bn({id:11,tag:e.tag,substitution:p}));break;case"12":(p=f(t.current))&&o.splice(n,1,new Bn({id:12,tag:e.tag,substitution:p}));break;case"63":p=f(t),Array.isArray(p)&&p.length&&o.splice(n,1,new Bn({id:63,tag:e.tag,substitution:p}));break;case"41":(p=f(t))&&o.splice(n,1,new Bn({id:41,tag:e.tag,substitution:p}));break;case"21":(p=f(t.current))&&o.splice(n,1,new Bn({id:21,tag:e.tag,substitution:p}))}t=new An(o,n),Array.isArray(p)&&!p.length||(p=null)}return o.length?o:null},Fn.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&n},Fn.prototype.getLookupSubtables=function(e){return e.subtables||null},Fn.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},Fn.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Fn.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var Yn={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&In(t)||!In(n)&&In(t)},endCheck:function(e){var t=e.get(1);return null===t||!In(t)}};var Xn={startCheck:function(e){var t=e.current,n=e.get(-1);return(In(t)||Ln(t))&&!In(n)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!In(t)&&!Ln(t):var n=/\s/.test(t);if(!n)return!0;if(n){if(!e.lookahead.some((function(e){return In(e)||Ln(e)})))return!0}break;default:return!1}}};var Zn={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(e,t,n){e.substitution.forEach((function(r,i){t[n+i].setState(e.tag,r)}))},41:function(e,t,n){var r=t[n];r.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,o=0;o<i;o++)(r=t[n+o+1]).setState("deleted",!0)}};function $n(e,t,n){e instanceof Bn&&Zn[e.id]&&Zn[e.id](e,t,n)}function Qn(e){var t=this,n=this.featuresTags.arab,r=this.tokenizer.getRangeTokens(e);if(1!==r.length){var i=new An(r.map((function(e){return e.getState("glyphIndex")})),0),o=new An(r.map((function(e){return e.char})),0);r.forEach((function(e,a){if(!Ln(e.char)){i.setCurrentIndex(a),o.setCurrentIndex(a);var s,l=0;switch(function(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var r=t[n],i=Un(r),o=Ln(r);if(!i&&!o)return!0;if(i)return!1}return!1}(o)&&(l|=1),function(e){if(Un(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){if(!Ln(e.lookahead[t]))return!0}return!1}(o)&&(l|=2),l){case 1:s="fina";break;case 2:s="init";break;case 3:s="medi"}if(-1!==n.indexOf(s)){var u=t.query.lookupFeature({tag:s,script:"arab",contextParams:i});if(u instanceof Error)return console.info(u.message);u.forEach((function(e,t){e instanceof Bn&&($n(e,r,t),i.context[t]=e.substitution)}))}}}))}}function Kn(e,t){return new An(e.map((function(e){return e.activeState.value})),t||0)}function Jn(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=Kn(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var o=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:r});o.length&&(o.forEach((function(e){return $n(e,n,i)})),r=Kn(n))}))}var er={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&Dn(t)||!Dn(n)&&Dn(t)},endCheck:function(e){var t=e.get(1);return null===t||!Dn(t)}};function tr(e,t){return new An(e.map((function(e){return e.activeState.value})),t||0)}function nr(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=tr(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var o=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:r});o.length&&(o.forEach((function(e){return $n(e,n,i)})),r=tr(n))}))}function rr(e){this.baseDir=e||"ltr",this.tokenizer=new Nn,this.featuresTags={}}function ir(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function or(){return ir.call(this,"latinWord"),ir.call(this,"arabicWord"),ir.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ar(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var n=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,n.reverse())}))}function sr(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function lr(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(sr.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Qn.call(e,t)})))}function ur(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(-1!==this.featuresTags.arab.indexOf("rlig")&&(sr.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Jn.call(e,t)}))))}function cr(){var e=this;this.featuresTags.hasOwnProperty("latn")&&(-1!==this.featuresTags.latn.indexOf("liga")&&(sr.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){nr.call(e,t)}))))}function hr(e){(e=e||{}).tables=e.tables||{},e.empty||(Rt(e.familyName,"When creating a new Font object, familyName is required."),Rt(e.styleName,"When creating a new Font object, styleName is required."),Rt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Rt(e.ascender,"When creating a new Font object, ascender is required."),Rt(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Se.GlyphSet(this,e.glyphs||[]),this.encoding=new pe(this),this.position=new Tt(this),this.substitution=new kt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new zt(this):void 0}})}function fr(e,t){var n=JSON.stringify(e),r=256;for(var i in t){var o=parseInt(i);if(o&&!(o<256)){if(JSON.stringify(t[i])===n)return o;r<=o&&(r=o+1)}}return t[r]=e,r}function pr(e,t,n){var r=fr(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function dr(e,t,n){var r={},i=new ae.Parser(e,t);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function mr(e,t,n,r){for(var i=[{name:"nameID_"+e,type:"USHORT",value:fr(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<n.length;++o){var a=n[o].tag;i.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return i}function gr(e,t,n,r){var i={},o=new ae.Parser(e,t);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<n.length;++a)i.coordinates[n[a].tag]=o.parseFixed();return i}rr.prototype.setText=function(e){this.text=e},rr.prototype.contextChecks={latinWordCheck:er,arabicWordCheck:Yn,arabicSentenceCheck:Xn},rr.prototype.registerFeatures=function(e,t){var n=this,r=t.filter((function(t){return n.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(r):this.featuresTags[e]=r},rr.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Fn(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},rr.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},rr.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},rr.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(lr.call(this),ur.call(this)),this.checkContextReady("latinWord")&&cr.call(this),this.checkContextReady("arabicSentence")&&ar.call(this)},rr.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),or.call(this),this.applyFeaturesToContexts())},rr.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},rr.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t},hr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},hr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},hr.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},hr.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},hr.prototype.stringToGlyphs=function(e,t){var n=this,r=new rr;r.registerModifier("glyphIndex",null,(function(e){return n.charToGlyphIndex(e.char)}));var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;r.applyFeatures(this,i);for(var o=r.getTextGlyphs(e),a=o.length,s=new Array(a),l=this.glyphs.get(0),u=0;u<a;u+=1)s[u]=this.glyphs.get(o[u])||l;return s},hr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},hr.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},hr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},hr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},hr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},hr.prototype.forEachGlyph=function(e,t,n,r,i,o){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var a,s=1/this.unitsPerEm*r,l=this.stringToGlyphs(e,i);if(i.kerning){var u=i.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(u,i.language)}for(var c=0;c<l.length;c+=1){var h=l[c];if(o.call(this,h,t,n,r,i),h.advanceWidth&&(t+=h.advanceWidth*s),i.kerning&&c<l.length-1)t+=(a?this.position.getKerningValue(a,h.index,l[c+1].index):this.getKerningValue(h,l[c+1]))*s;i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},hr.prototype.getPath=function(e,t,n,r,i){var o=new _;return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var a=e.getPath(t,n,r,i,this);o.extend(a)})),o},hr.prototype.getPaths=function(e,t,n,r,i){var o=[];return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var a=e.getPath(t,n,r,i,this);o.push(a)})),o},hr.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},hr.prototype.draw=function(e,t,n,r,i,o){this.getPath(t,n,r,i,o).draw(e)},hr.prototype.drawPoints=function(e,t,n,r,i,o){this.forEachGlyph(t,n,r,i,o,(function(t,n,r,i){t.drawPoints(e,n,r,i)}))},hr.prototype.drawMetrics=function(e,t,n,r,i,o){this.forEachGlyph(t,n,r,i,o,(function(t,n,r,i){t.drawMetrics(e,n,r,i)}))},hr.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},hr.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},hr.prototype.toTables=function(){return bt.fontToTable(this)},hr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},hr.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},hr.prototype.download=function(t){var r=this.getEnglishName("fontFamily"),i=this.getEnglishName("fontSubfamily");t=t||r.replace(/\s/g,"")+"-"+i+".otf";var o=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(o),s=new Blob([a],{type:"font/opentype"}),l=document.createElement("a");l.href=window.URL.createObjectURL(s),l.download=t;var u=document.createEvent("MouseEvents");u.initEvent("click",!0,!1),l.dispatchEvent(u)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var c=n(11),h=function(t){for(var n=new e(t.byteLength),r=new Uint8Array(t),i=0;i<n.length;++i)n[i]=r[i];return n}(o);c.writeFileSync(t,h)}},hr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},hr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},hr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var vr={make:function(e,t){var n=new K.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields=n.fields.concat(pr(r,e.axes[r],t));for(var i=0;i<e.instances.length;i++)n.fields=n.fields.concat(mr(i,e.instances[i],e.axes,t));return n},parse:function(e,t,n){var r=new ae.Parser(e,t),i=r.parseULong();C.argument(65536===i,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var a=r.parseUShort(),s=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],h=0;h<a;h++)c.push(dr(e,t+o+h*s,n));for(var f=[],p=t+o+a*s,d=0;d<l;d++)f.push(gr(e,p+d*u,c,n));return{axes:c,instances:f}}},yr=new Array(10);yr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ie.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ie.coverage),values:this.parseValueRecordList()}:void C.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},yr[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();C.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(ie.coverage),r=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,pairSets:this.parseList(ie.pointer(ie.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}}))))};if(2===t){var o=this.parsePointer(ie.classDef),a=this.parsePointer(ie.classDef),s=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,classDef1:o,classDef2:a,class1Count:s,class2Count:l,classRecords:this.parseList(s,ie.list(l,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}})))}}},yr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},yr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},yr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},yr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},yr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},yr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},yr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var br=new Array(10);var wr={parse:function(e,t){var n=new ie(e,t=t||0),r=n.parseVersion(1);return C.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(yr)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(yr),variations:n.parseFeatureVariationsList()}},make:function(e){return new K.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new K.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new K.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new K.LookupList(e.lookups,br)}])}};var xr={parse:function(e,t){var n=new ae.Parser(e,t),r=n.parseUShort();if(0===r)return function(e){var t={};e.skip("uShort");var n=e.parseUShort();C.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}return t}(n);if(1===r)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=255&e.parseUShort();if(e.skip("uShort"),0===n){var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}}return t}(n);throw new Error("Unsupported kern table version ("+r+").")}};var Sr={parse:function(e,t,n,r){for(var i=new ae.Parser(e,t),o=r?i.parseUShort:i.parseULong,a=[],s=0;s<n+1;s+=1){var l=o.call(i);r&&(l*=2),a.push(l)}return a}};function Er(e,t){n(11).readFile(e,(function(e,n){if(e)return t(e.message);t(null,_t(n))}))}function Tr(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function kr(e,t){for(var n=[],r=12,i=0;i<t;i+=1){var o=ae.getTag(e,r),a=ae.getULong(e,r+4),s=ae.getULong(e,r+8),l=ae.getULong(e,r+12);n.push({tag:o,checksum:a,offset:s,length:l,compression:!1}),r+=16}return n}function Or(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(k(n,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:e,offset:t.offset}}function Mr(e,t){var n,r;t=null==t?{}:t;var i,o,a,s,l,u,c,h,f,p,d,m,g=new hr({empty:!0}),v=new DataView(e,0),y=[],b=ae.getTag(v,0);if(b===String.fromCharCode(0,1,0,0)||"true"===b||"typ1"===b)g.outlinesFormat="truetype",y=kr(v,i=ae.getUShort(v,4));else if("OTTO"===b)g.outlinesFormat="cff",y=kr(v,i=ae.getUShort(v,4));else{if("wOFF"!==b)throw new Error("Unsupported OpenType signature "+b);var w=ae.getTag(v,4);if(w===String.fromCharCode(0,1,0,0))g.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+b);g.outlinesFormat="cff"}y=function(e,t){for(var n=[],r=44,i=0;i<t;i+=1){var o=ae.getTag(e,r),a=ae.getULong(e,r+4),s=ae.getULong(e,r+8),l=ae.getULong(e,r+12),u=void 0;u=s<l&&"WOFF",n.push({tag:o,offset:a,compression:u,compressedLength:s,length:l}),r+=20}return n}(v,i=ae.getUShort(v,12))}for(var x=0;x<i;x+=1){var S=y[x],E=void 0;switch(S.tag){case"cmap":E=Or(v,S),g.tables.cmap=le.parse(E.data,E.offset),g.encoding=new de(g.tables.cmap);break;case"cvt ":E=Or(v,S),m=new ae.Parser(E.data,E.offset),g.tables.cvt=m.parseShortList(S.length/2);break;case"fvar":a=S;break;case"fpgm":E=Or(v,S),m=new ae.Parser(E.data,E.offset),g.tables.fpgm=m.parseByteList(S.length);break;case"head":E=Or(v,S),g.tables.head=je.parse(E.data,E.offset),g.unitsPerEm=g.tables.head.unitsPerEm,n=g.tables.head.indexToLocFormat;break;case"hhea":E=Or(v,S),g.tables.hhea=Ve.parse(E.data,E.offset),g.ascender=g.tables.hhea.ascender,g.descender=g.tables.hhea.descender,g.numberOfHMetrics=g.tables.hhea.numberOfHMetrics;break;case"hmtx":c=S;break;case"ltag":E=Or(v,S),r=qe.parse(E.data,E.offset);break;case"maxp":E=Or(v,S),g.tables.maxp=We.parse(E.data,E.offset),g.numGlyphs=g.tables.maxp.numGlyphs;break;case"name":p=S;break;case"OS/2":E=Or(v,S),g.tables.os2=at.parse(E.data,E.offset);break;case"post":E=Or(v,S),g.tables.post=st.parse(E.data,E.offset),g.glyphNames=new ge(g.tables.post);break;case"prep":E=Or(v,S),m=new ae.Parser(E.data,E.offset),g.tables.prep=m.parseByteList(S.length);break;case"glyf":s=S;break;case"loca":f=S;break;case"CFF ":o=S;break;case"kern":h=S;break;case"GPOS":l=S;break;case"GSUB":u=S;break;case"meta":d=S}}var T=Or(v,p);if(g.tables.name=it.parse(T.data,T.offset,r),g.names=g.tables.name,s&&f){var k=0===n,O=Or(v,f),M=Sr.parse(O.data,O.offset,g.numGlyphs,k),_=Or(v,s);g.glyphs=Bt.parse(_.data,_.offset,M,g,t)}else{if(!o)throw new Error("Font doesn't contain TrueType or CFF outlines.");var R=Or(v,o);Ge.parse(R.data,R.offset,g,t)}var A=Or(v,c);if(He.parse(g,A.data,A.offset,g.numberOfHMetrics,g.numGlyphs,g.glyphs,t),ve(g,t),h){var C=Or(v,h);g.kerningPairs=xr.parse(C.data,C.offset)}else g.kerningPairs={};if(l){var P=Or(v,l);g.tables.gpos=wr.parse(P.data,P.offset),g.position.init()}if(u){var N=Or(v,u);g.tables.gsub=ht.parse(N.data,N.offset)}if(a){var I=Or(v,a);g.tables.fvar=vr.parse(I.data,I.offset,g.names)}if(d){var U=Or(v,d);g.tables.meta=ft.parse(U.data,U.offset),g.metas=g.tables.meta}return g}function _r(e,t,n){var r="undefined"==typeof window?Er:Tr;return new Promise((function(i,o){r(e,(function(e,r){if(e){if(t)return t(e);o(e)}var a;try{a=Mr(r,n)}catch(e){if(t)return t(e,null);o(e)}if(t)return t(null,a);i(a)}))}))}}).call(this,n(44).Buffer)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(48)},function(e,t,n){
/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Dependencies that are used for multiple exports are required here only once
 */
var r=n(23);
/*!
 * test utility
 */t.test=n(24),
/*!
 * type utility
 */
t.type=n(9),
/*!
 * expectTypes utility
 */
t.expectTypes=n(25),
/*!
 * message utility
 */
t.getMessage=n(26),
/*!
 * actual utility
 */
t.getActual=n(14),
/*!
 * Inspect util
 */
t.inspect=n(10),
/*!
 * Object Display util
 */
t.objDisplay=n(15),
/*!
 * Flag utility
 */
t.flag=n(2),
/*!
 * Flag transferring utility
 */
t.transferFlags=n(4),
/*!
 * Deep equal utility
 */
t.eql=n(28),
/*!
 * Deep path info
 */
t.getPathInfo=r.getPathInfo,
/*!
 * Check if a property exists
 */
t.hasProperty=r.hasProperty,
/*!
 * Function name
 */
t.getName=n(16),
/*!
 * add Property
 */
t.addProperty=n(29),
/*!
 * add Method
 */
t.addMethod=n(30),
/*!
 * overwrite Property
 */
t.overwriteProperty=n(31),
/*!
 * overwrite Method
 */
t.overwriteMethod=n(32),
/*!
 * Add a chainable method
 */
t.addChainableMethod=n(33),
/*!
 * Overwrite chainable method
 */
t.overwriteChainableMethod=n(34),
/*!
 * Compare by inspect method
 */
t.compareByInspect=n(35),
/*!
 * Get own enumerable property symbols method
 */
t.getOwnEnumerablePropertySymbols=n(18),
/*!
 * Get own enumerable properties method
 */
t.getOwnEnumerableProperties=n(36),
/*!
 * Checks error against a given set of criteria
 */
t.checkError=n(37),
/*!
 * Proxify util
 */
t.proxify=n(8),
/*!
 * addLengthGuard util
 */
t.addLengthGuard=n(7),
/*!
 * isProxyEnabled helper
 */
t.isProxyEnabled=n(6),
/*!
 * isNaN method
 */
t.isNaN=n(38)},function(e,t,n){"use strict";function r(e,t){return null!=e&&t in Object(e)}function i(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map((function(e){var t=/^\[(\d+)\]$/.exec(e);return t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}}))}function o(e,t,n){var r=e,i=null;n=void 0===n?t.length:n;for(var o=0;o<n;o++){var a=t[o];r&&(r=void 0===a.p?r[a.i]:r[a.p],o===n-1&&(i=r))}return i}function a(e,t){var n=i(t),a=n[n.length-1],s={parent:n.length>1?o(e,n,n.length-1):e,name:a.p||a.i,value:o(e,n)};return s.exists=r(s.parent,s.name),s}e.exports={hasProperty:r,getPathInfo:a,getPathValue:function(e,t){return a(e,t).value},setPathValue:function(e,t,n){return function(e,t,n){for(var r=e,i=n.length,o=null,a=0;a<i;a++){var s=null,l=null;if(o=n[a],a===i-1)r[s=void 0===o.p?o.i:o.p]=t;else if(void 0!==o.p&&r[o.p])r=r[o.p];else if(void 0!==o.i&&r[o.i])r=r[o.i];else{var u=n[a+1];s=void 0===o.p?o.i:o.p,l=void 0===u.p?[]:{},r[s]=l,r=r[s]}}}(e,n,i(t)),e}}},function(e,t,n){
/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(2);e.exports=function(e,t){var n=r(e,"negate"),i=t[0];return n?!i:i}},function(e,t,n){
/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(12),i=n(2),o=n(9);e.exports=function(e,t){var n=i(e,"message"),a=i(e,"ssfi");n=n?n+": ":"",e=i(e,"object"),(t=t.map((function(e){return e.toLowerCase()}))).sort();var s=t.map((function(e,n){var r=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a";return(t.length>1&&n===t.length-1?"or ":"")+r+" "+e})).join(", "),l=o(e).toLowerCase();if(!t.some((function(e){return l===e})))throw new r(n+"object tested must be "+s+", but "+l+" given",void 0,a)}},function(e,t,n){
/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(2),i=n(14),o=n(15);e.exports=function(e,t){var n=r(e,"negate"),a=r(e,"object"),s=t[3],l=i(e,t),u=n?t[2]:t[1],c=r(e,"message");return"function"==typeof u&&(u=u()),u=(u=u||"").replace(/#\{this\}/g,(function(){return o(a)})).replace(/#\{act\}/g,(function(){return o(l)})).replace(/#\{exp\}/g,(function(){return o(s)})),c?c+": "+u:u}},function(e,t){
/*!
 * Chai - getEnumerableProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},function(e,t,n){"use strict";
/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var r=n(9);function i(){this._key="chai/deep-eql__"+Math.random()+Date.now()}i.prototype={get:function(e){return e[this._key]},set:function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})}};var o="function"==typeof WeakMap?WeakMap:i;
/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function a(e,t,n){if(!n||g(e)||g(t))return null;var r=n.get(e);if(r){var i=r.get(t);if("boolean"==typeof i)return i}return null}
/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function s(e,t,n,r){if(n&&!g(e)&&!g(t)){var i=n.get(e);i?i.set(t,r):((i=new o).set(t,r),n.set(e,i))}}
/*!
 * Primary Export
 */function l(e,t,n){if(n&&n.comparator)return c(e,t,n);var r=u(e,t);return null!==r?r:c(e,t,n)}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t||!g(e)&&!g(t)&&null}
/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function c(e,t,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new o);var i=n&&n.comparator,c=a(e,t,n.memoize);if(null!==c)return c;var g=a(t,e,n.memoize);if(null!==g)return g;if(i){var v=i(e,t);if(!1===v||!0===v)return s(e,t,n.memoize,v),v;var y=u(e,t);if(null!==y)return y}var b=r(e);if(b!==r(t))return s(e,t,n.memoize,!1),!1;s(e,t,n.memoize,!0);var w=function(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return l(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return f(e,t,r);case"RegExp":
/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */
return function(e,t){return e.toString()===t.toString()}
/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */(e,t);case"Generator":
/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(e,t,n){return f(d(e),d(t),n)}
/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */(e,t,r);case"DataView":return f(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return f(new Uint8Array(e),new Uint8Array(t),r);case"Set":case"Map":return h(e,t,r);default:
/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(e,t,n){var r=m(e),i=m(t);if(r.length&&r.length===i.length)return r.sort(),i.sort(),!1!==f(r,i)&&
/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
function(e,t,n,r){var i=n.length;if(0===i)return!0;for(var o=0;o<i;o+=1)if(!1===l(e[n[o]],t[n[o]],r))return!1;return!0}(e,t,r,n);var o=p(e),a=p(t);if(o.length&&o.length===a.length)return o.sort(),a.sort(),f(o,a,n);if(0===r.length&&0===o.length&&0===i.length&&0===a.length)return!0;return!1}
/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */(e,t,r)}}(e,t,b,n);return s(e,t,n.memoize,w),w}function h(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var r=[],i=[];return e.forEach((function(e,t){r.push([e,t])})),t.forEach((function(e,t){i.push([e,t])})),f(r.sort(),i.sort(),n)}
/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function f(e,t,n){var r=e.length;if(r!==t.length)return!1;if(0===r)return!0;for(var i=-1;++i<r;)if(!1===l(e[i],t[i],n))return!1;return!0}
/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */
function p(e){if(function(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&void 0!==Symbol.iterator&&"function"==typeof e[Symbol.iterator]}(e))try{return d(e[Symbol.iterator]())}catch(e){return[]}return[]}
/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function d(e){for(var t=e.next(),n=[t.value];!1===t.done;)t=e.next(),n.push(t.value);return n}
/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function m(e){var t=[];for(var n in e)t.push(n);return t}function g(e){return null===e||"object"!=typeof e}e.exports=l,e.exports.MemoizeMap=o},function(e,t,n){
/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(3),i=n(2),o=n(6),a=n(4);e.exports=function(e,t,n){n=void 0===n?function(){}:n,Object.defineProperty(e,t,{get:function e(){o()||i(this,"lockSsfi")||i(this,"ssfi",e);var t=n.call(this);if(void 0!==t)return t;var s=new r.Assertion;return a(this,s),s},configurable:!0})}},function(e,t,n){
/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(7),i=n(3),o=n(2),a=n(8),s=n(4);e.exports=function(e,t,n){var l=function(){o(this,"lockSsfi")||o(this,"ssfi",l);var e=n.apply(this,arguments);if(void 0!==e)return e;var t=new i.Assertion;return s(this,t),t};r(l,t,!1),e[t]=a(l,t)}},function(e,t,n){
/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(3),i=n(2),o=n(6),a=n(4);e.exports=function(e,t,n){var s=Object.getOwnPropertyDescriptor(e,t),l=function(){};s&&"function"==typeof s.get&&(l=s.get),Object.defineProperty(e,t,{get:function e(){o()||i(this,"lockSsfi")||i(this,"ssfi",e);var t=i(this,"lockSsfi");i(this,"lockSsfi",!0);var s=n(l).call(this);if(i(this,"lockSsfi",t),void 0!==s)return s;var u=new r.Assertion;return a(this,u),u},configurable:!0})}},function(e,t,n){
/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(7),i=n(3),o=n(2),a=n(8),s=n(4);e.exports=function(e,t,n){var l=e[t],u=function(){throw new Error(t+" is not a function")};l&&"function"==typeof l&&(u=l);var c=function(){o(this,"lockSsfi")||o(this,"ssfi",c);var e=o(this,"lockSsfi");o(this,"lockSsfi",!0);var t=n(u).apply(this,arguments);if(o(this,"lockSsfi",e),void 0!==t)return t;var r=new i.Assertion;return s(this,r),r};r(c,t,!1),e[t]=a(c,t)}},function(e,t,n){
/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(7),i=n(3),o=n(2),a=n(8),s=n(4),l="function"==typeof Object.setPrototypeOf,u=function(){},c=Object.getOwnPropertyNames(u).filter((function(e){var t=Object.getOwnPropertyDescriptor(u,e);return"object"!=typeof t||!t.configurable})),h=Function.prototype.call,f=Function.prototype.apply;e.exports=function(e,t,n,u){"function"!=typeof u&&(u=function(){});var p={method:n,chainingBehavior:u};e.__methods||(e.__methods={}),e.__methods[t]=p,Object.defineProperty(e,t,{get:function(){p.chainingBehavior.call(this);var n=function(){o(this,"lockSsfi")||o(this,"ssfi",n);var e=p.method.apply(this,arguments);if(void 0!==e)return e;var t=new i.Assertion;return s(this,t),t};if(r(n,t,!0),l){var u=Object.create(this);u.call=h,u.apply=f,Object.setPrototypeOf(n,u)}else{Object.getOwnPropertyNames(e).forEach((function(t){if(-1===c.indexOf(t)){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r)}}))}return s(this,n),a(n)},configurable:!0})}},function(e,t,n){
/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(3),i=n(4);e.exports=function(e,t,n,o){var a=e.__methods[t],s=a.chainingBehavior;a.chainingBehavior=function(){var e=o(s).call(this);if(void 0!==e)return e;var t=new r.Assertion;return i(this,t),t};var l=a.method;a.method=function(){var e=n(l).apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return i(this,t),t}}},function(e,t,n){
/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(10);e.exports=function(e,t){return r(e)<r(t)?-1:1}},function(e,t,n){
/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var r=n(18);e.exports=function(e){return Object.keys(e).concat(r(e))}},function(e,t,n){"use strict";var r=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function i(e){var t="";if(void 0===e.name){var n=String(e).match(r);n&&(t=n[1])}else t=e.name;return t}e.exports={compatibleInstance:function(e,t){return t instanceof Error&&e===t},compatibleConstructor:function(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:(t.prototype instanceof Error||t===Error)&&(e.constructor===t||e instanceof t)},compatibleMessage:function(e,t){var n="string"==typeof e?e:e.message;return t instanceof RegExp?t.test(n):"string"==typeof t&&-1!==n.indexOf(t)},getMessage:function(e){var t="";return e&&e.message?t=e.message:"string"==typeof e&&(t=e),t},getConstructorName:function(e){var t=e;return e instanceof Error?t=i(e.constructor):"function"==typeof e&&(t=i(e).trim()||i(new e)),t}}},function(e,t){e.exports=Number.isNaN||
/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */
function(e){return e!=e}},function(e,t,n){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=n(5);e.exports=function(e,t){
/*!
   * Module dependencies.
   */
var n=e.AssertionError,i=t.flag;
/*!
   * Module export.
   */
/*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * `Assertion` objects contain metadata in the form of flags. Three flags can
   * be assigned during instantiation by passing arguments to this constructor:
   *
   * - `object`: This flag contains the target of the assertion. For example, in
   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
   *   contain `numKittens` so that the `equal` assertion can reference it when
   *   needed.
   *
   * - `message`: This flag contains an optional custom error message to be
   *   prepended to the error message that's generated by the assertion when it
   *   fails.
   *
   * - `ssfi`: This flag stands for "start stack function indicator". It
   *   contains a function reference that serves as the starting point for
   *   removing frames from the stack trace of the error that's created by the
   *   assertion when it fails. The goal is to provide a cleaner stack trace to
   *   end users by removing Chai's internal functions. Note that it only works
   *   in environments that support `Error.captureStackTrace`, and only when
   *   `Chai.config.includeStack` hasn't been set to `false`.
   *
   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
   *   should retain its current value, even as assertions are chained off of
   *   this object. This is usually set to `true` when creating a new assertion
   *   from within another assertion. It's also temporarily set to `true` before
   *   an overwritten assertion gets called by the overwriting assertion.
   *
   * @param {Mixed} obj target of the assertion
   * @param {String} msg (optional) custom error message
   * @param {Function} ssfi (optional) starting point for removing stack frames
   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
   * @api private
   */
function o(e,n,r,a){return i(this,"ssfi",r||o),i(this,"lockSsfi",a),i(this,"object",e),i(this,"message",n),t.proxify(this)}e.Assertion=o,Object.defineProperty(o,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=e}}),Object.defineProperty(o,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=e}}),o.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},o.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},o.addChainableMethod=function(e,n,r){t.addChainableMethod(this.prototype,e,n,r)},o.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},o.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},o.overwriteChainableMethod=function(e,n,r){t.overwriteChainableMethod(this.prototype,e,n,r)},o.prototype.assert=function(e,o,a,s,l,u){var c=t.test(this,arguments);if(!1!==u&&(u=!0),void 0===s&&void 0===l&&(u=!1),!0!==r.showDiff&&(u=!1),!c){o=t.getMessage(this,arguments);var h=t.getActual(this,arguments);throw new n(o,{actual:h,expected:s,showDiff:u},r.includeStack?this.assert:i(this,"ssfi"))}},
/*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */
Object.defineProperty(o.prototype,"_obj",{get:function(){return i(this,"object")},set:function(e){i(this,"object",e)}})}},function(e,t){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion,r=e.AssertionError,i=t.flag;function o(e,n){n&&i(this,"message",n),e=e.toLowerCase();var r=i(this,"object"),o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(r).toLowerCase(),"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e)}function a(e,n){return t.isNaN(e)&&t.isNaN(n)||e===n}function s(){i(this,"contains",!0)}function l(e,o){o&&i(this,"message",o);var s=i(this,"object"),l=t.type(s).toLowerCase(),u=i(this,"message"),c=i(this,"negate"),h=i(this,"ssfi"),f=i(this,"deep"),p=f?"deep ":"";u=u?u+": ":"";var d=!1;switch(l){case"string":d=-1!==s.indexOf(e);break;case"weakset":if(f)throw new r(u+"unable to use .deep.include with WeakSet",void 0,h);d=s.has(e);break;case"map":var m=f?t.eql:a;s.forEach((function(t){d=d||m(t,e)}));break;case"set":f?s.forEach((function(n){d=d||t.eql(n,e)})):d=s.has(e);break;case"array":d=f?s.some((function(n){return t.eql(n,e)})):-1!==s.indexOf(e);break;default:if(e!==Object(e))throw new r(u+"object tested must be an array, a map, an object, a set, a string, or a weakset, but "+l+" given",void 0,h);var g=Object.keys(e),v=null,y=0;if(g.forEach((function(o){var a=new n(s);if(t.transferFlags(this,a,!0),i(a,"lockSsfi",!0),c&&1!==g.length)try{a.property(o,e[o])}catch(e){if(!t.checkError.compatibleConstructor(e,r))throw e;null===v&&(v=e),y++}else a.property(o,e[o])}),this),c&&g.length>1&&y===g.length)throw v;return}this.assert(d,"expected #{this} to "+p+"include "+t.inspect(e),"expected #{this} to not "+p+"include "+t.inspect(e))}function u(){var e=i(this,"object"),n=t.type(e);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function c(e,t){t&&i(this,"message",t);var n=i(this,"object");if(i(this,"deep")){var r=i(this,"lockSsfi");i(this,"lockSsfi",!0),this.eql(e),i(this,"lockSsfi",r)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function h(e,n){n&&i(this,"message",n),this.assert(t.eql(e,i(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function f(e,o){o&&i(this,"message",o);var a,s=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=t.type(s).toLowerCase(),p=t.type(e).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(s,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p)if("number"===p||!l&&"number"!==f)if(l||"date"===f||"number"===f)d=!1;else{a=c+"expected "+("string"===f?"'"+s+"'":s)+" to be a number or a date"}else a=c+"the argument to above must be a number";else a=c+"the argument to above must be a date";if(d)throw new r(a,void 0,h);if(l){var m,g="length";"map"===f||"set"===f?(g="size",m=s.size):m=s.length,this.assert(m>e,"expected #{this} to have a "+g+" above #{exp} but got #{act}","expected #{this} to not have a "+g+" above #{exp}",e,m)}else this.assert(s>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}function p(e,o){o&&i(this,"message",o);var a,s=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=t.type(s).toLowerCase(),p=t.type(e).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(s,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p)if("number"===p||!l&&"number"!==f)if(l||"date"===f||"number"===f)d=!1;else{a=c+"expected "+("string"===f?"'"+s+"'":s)+" to be a number or a date"}else a=c+"the argument to least must be a number";else a=c+"the argument to least must be a date";if(d)throw new r(a,void 0,h);if(l){var m,g="length";"map"===f||"set"===f?(g="size",m=s.size):m=s.length,this.assert(m>=e,"expected #{this} to have a "+g+" at least #{exp} but got #{act}","expected #{this} to have a "+g+" below #{exp}",e,m)}else this.assert(s>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}function d(e,o){o&&i(this,"message",o);var a,s=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=t.type(s).toLowerCase(),p=t.type(e).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(s,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p)if("number"===p||!l&&"number"!==f)if(l||"date"===f||"number"===f)d=!1;else{a=c+"expected "+("string"===f?"'"+s+"'":s)+" to be a number or a date"}else a=c+"the argument to below must be a number";else a=c+"the argument to below must be a date";if(d)throw new r(a,void 0,h);if(l){var m,g="length";"map"===f||"set"===f?(g="size",m=s.size):m=s.length,this.assert(m<e,"expected #{this} to have a "+g+" below #{exp} but got #{act}","expected #{this} to not have a "+g+" below #{exp}",e,m)}else this.assert(s<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}function m(e,o){o&&i(this,"message",o);var a,s=i(this,"object"),l=i(this,"doLength"),u=i(this,"message"),c=u?u+": ":"",h=i(this,"ssfi"),f=t.type(s).toLowerCase(),p=t.type(e).toLowerCase(),d=!0;if(l&&"map"!==f&&"set"!==f&&new n(s,u,h,!0).to.have.property("length"),l||"date"!==f||"date"===p)if("number"===p||!l&&"number"!==f)if(l||"date"===f||"number"===f)d=!1;else{a=c+"expected "+("string"===f?"'"+s+"'":s)+" to be a number or a date"}else a=c+"the argument to most must be a number";else a=c+"the argument to most must be a date";if(d)throw new r(a,void 0,h);if(l){var m,g="length";"map"===f||"set"===f?(g="size",m=s.size):m=s.length,this.assert(m<=e,"expected #{this} to have a "+g+" at most #{exp} but got #{act}","expected #{this} to have a "+g+" above #{exp}",e,m)}else this.assert(s<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}function g(e,n){n&&i(this,"message",n);var o=i(this,"object"),a=i(this,"ssfi"),s=i(this,"message");try{var l=o instanceof e}catch(n){if(n instanceof TypeError)throw new r((s=s?s+": ":"")+"The instanceof assertion needs a constructor but "+t.type(e)+" was given.",void 0,a);throw n}var u=t.getName(e);null===u&&(u="an unnamed constructor"),this.assert(l,"expected #{this} to be an instance of "+u,"expected #{this} to not be an instance of "+u)}function v(e,n,o){o&&i(this,"message",o);var a=i(this,"nested"),s=i(this,"own"),l=i(this,"message"),u=i(this,"object"),c=i(this,"ssfi"),h=typeof e;if(l=l?l+": ":"",a){if("string"!==h)throw new r(l+"the argument to property must be a string when using nested syntax",void 0,c)}else if("string"!==h&&"number"!==h&&"symbol"!==h)throw new r(l+"the argument to property must be a string, number, or symbol",void 0,c);if(a&&s)throw new r(l+'The "nested" and "own" flags cannot be combined.',void 0,c);if(null==u)throw new r(l+"Target cannot be null or undefined.",void 0,c);var f,p=i(this,"deep"),d=i(this,"negate"),m=a?t.getPathInfo(u,e):null,g=a?m.value:u[e],v="";p&&(v+="deep "),s&&(v+="own "),a&&(v+="nested "),v+="property ",f=s?Object.prototype.hasOwnProperty.call(u,e):a?m.exists:t.hasProperty(u,e),d&&1!==arguments.length||this.assert(f,"expected #{this} to have "+v+t.inspect(e),"expected #{this} to not have "+v+t.inspect(e)),arguments.length>1&&this.assert(f&&(p?t.eql(n,g):n===g),"expected #{this} to have "+v+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+v+t.inspect(e)+" of #{act}",n,g),i(this,"object",g)}function y(e,t,n){i(this,"own",!0),v.apply(this,arguments)}function b(e,n,r){"string"==typeof n&&(r=n,n=null),r&&i(this,"message",r);var o=i(this,"object"),a=Object.getOwnPropertyDescriptor(Object(o),e);a&&n?this.assert(t.eql(n,a),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(a),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,a,!0):this.assert(a,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),i(this,"object",a)}function w(){i(this,"doLength",!0)}function x(e,r){r&&i(this,"message",r);var o,a=i(this,"object"),s=t.type(a).toLowerCase(),l=i(this,"message"),u=i(this,"ssfi"),c="length";switch(s){case"map":case"set":c="size",o=a.size;break;default:new n(a,l,u,!0).to.have.property("length"),o=a.length}this.assert(o==e,"expected #{this} to have a "+c+" of #{exp} but got #{act}","expected #{this} to not have a "+c+" of #{act}",e,o)}function S(e,t){t&&i(this,"message",t);var n=i(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function E(e){var n,o,a=i(this,"object"),s=t.type(a),l=t.type(e),u=i(this,"ssfi"),c=i(this,"deep"),h="",f=!0,p=i(this,"message"),d=(p=p?p+": ":"")+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===s||"Set"===s)h=c?"deeply ":"",o=[],a.forEach((function(e,t){o.push(t)})),"Array"!==l&&(e=Array.prototype.slice.call(arguments));else{switch(o=t.getOwnEnumerableProperties(a),l){case"Array":if(arguments.length>1)throw new r(d,void 0,u);break;case"Object":if(arguments.length>1)throw new r(d,void 0,u);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map((function(e){return"symbol"==typeof e?e:String(e)}))}if(!e.length)throw new r(p+"keys required",void 0,u);var m=e.length,g=i(this,"any"),v=i(this,"all"),y=e;if(g||v||(v=!0),g&&(f=y.some((function(e){return o.some((function(n){return c?t.eql(e,n):e===n}))}))),v&&(f=y.every((function(e){return o.some((function(n){return c?t.eql(e,n):e===n}))})),i(this,"contains")||(f=f&&e.length==o.length)),m>1){var b=(e=e.map((function(e){return t.inspect(e)}))).pop();v&&(n=e.join(", ")+", and "+b),g&&(n=e.join(", ")+", or "+b)}else n=t.inspect(e[0]);n=(m>1?"keys ":"key ")+n,n=(i(this,"contains")?"contain ":"have ")+n,this.assert(f,"expected #{this} to "+h+n,"expected #{this} to not "+h+n,y.slice(0).sort(t.compareByInspect),o.sort(t.compareByInspect),!0)}function T(e,r,o){o&&i(this,"message",o);var a,s=i(this,"object"),l=i(this,"ssfi"),u=i(this,"message"),c=i(this,"negate")||!1;new n(s,u,l,!0).is.a("function"),(e instanceof RegExp||"string"==typeof e)&&(r=e,e=null);try{s()}catch(e){a=e}var h=void 0===e&&void 0===r,f=Boolean(e&&r),p=!1,d=!1;if(h||!h&&!c){var m="an error";e instanceof Error?m="#{exp}":e&&(m=t.checkError.getConstructorName(e)),this.assert(a,"expected #{this} to throw "+m,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),a instanceof Error?a.toString():"string"==typeof a?a:a&&t.checkError.getConstructorName(a))}if(e&&a){if(e instanceof Error)t.checkError.compatibleInstance(a,e)===c&&(f&&c?p=!0:this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a&&!c?" but #{act} was thrown":""),e.toString(),a.toString()));t.checkError.compatibleConstructor(a,e)===c&&(f&&c?p=!0:this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),a instanceof Error?a.toString():a&&t.checkError.getConstructorName(a)))}if(a&&null!=r){var g="including";r instanceof RegExp&&(g="matching"),t.checkError.compatibleMessage(a,r)===c&&(f&&c?d=!0:this.assert(c,"expected #{this} to throw error "+g+" #{exp} but got #{act}","expected #{this} to throw error not "+g+" #{exp}",r,t.checkError.getMessage(a)))}p&&d&&this.assert(c,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),a instanceof Error?a.toString():a&&t.checkError.getConstructorName(a)),i(this,"object",a)}function k(e,n){n&&i(this,"message",n);var r=i(this,"object"),o=i(this,"itself"),a="function"!=typeof r||o?r[e]:r.prototype[e];this.assert("function"==typeof a,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function O(e,n){n&&i(this,"message",n);var r=e(i(this,"object"));this.assert(r,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),!i(this,"negate"),r)}function M(e,t,o){o&&i(this,"message",o);var a=i(this,"object"),s=i(this,"message"),l=i(this,"ssfi");if(new n(a,s,l,!0).is.a("number"),"number"!=typeof e||"number"!=typeof t)throw new r((s=s?s+": ":"")+"the arguments to closeTo or approximately must be numbers",void 0,l);this.assert(Math.abs(a-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function _(e,t,r){r&&i(this,"message",r);var o,a=i(this,"object"),s=i(this,"message"),l=i(this,"ssfi");new n(a,s,l,!0).is.a("function"),t?(new n(e,s,l,!0).to.have.property(t),o=e[t]):(new n(e,s,l,!0).is.a("function"),o=e()),a();var u=null==t?e():e[t],c=null==t?o:"."+t;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","change"),i(this,"realDelta",u!==o),this.assert(o!==u,"expected "+c+" to change","expected "+c+" to not change")}function R(e,t,r){r&&i(this,"message",r);var o,a=i(this,"object"),s=i(this,"message"),l=i(this,"ssfi");new n(a,s,l,!0).is.a("function"),t?(new n(e,s,l,!0).to.have.property(t),o=e[t]):(new n(e,s,l,!0).is.a("function"),o=e()),new n(o,s,l,!0).is.a("number"),a();var u=null==t?e():e[t],c=null==t?o:"."+t;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","increase"),i(this,"realDelta",u-o),this.assert(u-o>0,"expected "+c+" to increase","expected "+c+" to not increase")}function A(e,t,r){r&&i(this,"message",r);var o,a=i(this,"object"),s=i(this,"message"),l=i(this,"ssfi");new n(a,s,l,!0).is.a("function"),t?(new n(e,s,l,!0).to.have.property(t),o=e[t]):(new n(e,s,l,!0).is.a("function"),o=e()),new n(o,s,l,!0).is.a("number"),a();var u=null==t?e():e[t],c=null==t?o:"."+t;i(this,"deltaMsgObj",c),i(this,"initialDeltaValue",o),i(this,"finalDeltaValue",u),i(this,"deltaBehavior","decrease"),i(this,"realDelta",o-u),this.assert(u-o<0,"expected "+c+" to decrease","expected "+c+" to not decrease")}["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still"].forEach((function(e){n.addProperty(e)})),n.addProperty("not",(function(){i(this,"negate",!0)})),n.addProperty("deep",(function(){i(this,"deep",!0)})),n.addProperty("nested",(function(){i(this,"nested",!0)})),n.addProperty("own",(function(){i(this,"own",!0)})),n.addProperty("ordered",(function(){i(this,"ordered",!0)})),n.addProperty("any",(function(){i(this,"any",!0),i(this,"all",!1)})),n.addProperty("all",(function(){i(this,"all",!0),i(this,"any",!1)})),n.addChainableMethod("an",o),n.addChainableMethod("a",o),n.addChainableMethod("include",l,s),n.addChainableMethod("contain",l,s),n.addChainableMethod("contains",l,s),n.addChainableMethod("includes",l,s),n.addProperty("ok",(function(){this.assert(i(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")})),n.addProperty("true",(function(){this.assert(!0===i(this,"object"),"expected #{this} to be true","expected #{this} to be false",!i(this,"negate"))})),n.addProperty("false",(function(){this.assert(!1===i(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!i(this,"negate"))})),n.addProperty("null",(function(){this.assert(null===i(this,"object"),"expected #{this} to be null","expected #{this} not to be null")})),n.addProperty("undefined",(function(){this.assert(void 0===i(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")})),n.addProperty("NaN",(function(){this.assert(t.isNaN(i(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")})),n.addProperty("exist",(function(){var e=i(this,"object");this.assert(null!=e,"expected #{this} to exist","expected #{this} to not exist")})),n.addProperty("empty",(function(){var e,n=i(this,"object"),o=i(this,"ssfi"),a=i(this,"message");switch(a=a?a+": ":"",t.type(n).toLowerCase()){case"array":case"string":e=n.length;break;case"map":case"set":e=n.size;break;case"weakmap":case"weakset":throw new r(a+".empty was passed a weak collection",void 0,o);case"function":var s=a+".empty was passed a function "+t.getName(n);throw new r(s.trim(),void 0,o);default:if(n!==Object(n))throw new r(a+".empty was passed non-string primitive "+t.inspect(n),void 0,o);e=Object.keys(n).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")})),n.addProperty("arguments",u),n.addProperty("Arguments",u),n.addMethod("equal",c),n.addMethod("equals",c),n.addMethod("eq",c),n.addMethod("eql",h),n.addMethod("eqls",h),n.addMethod("above",f),n.addMethod("gt",f),n.addMethod("greaterThan",f),n.addMethod("least",p),n.addMethod("gte",p),n.addMethod("below",d),n.addMethod("lt",d),n.addMethod("lessThan",d),n.addMethod("most",m),n.addMethod("lte",m),n.addMethod("within",(function(e,o,a){a&&i(this,"message",a);var s,l=i(this,"object"),u=i(this,"doLength"),c=i(this,"message"),h=c?c+": ":"",f=i(this,"ssfi"),p=t.type(l).toLowerCase(),d=t.type(e).toLowerCase(),m=t.type(o).toLowerCase(),g=!0,v="date"===d&&"date"===m?e.toUTCString()+".."+o.toUTCString():e+".."+o;if(u&&"map"!==p&&"set"!==p&&new n(l,c,f,!0).to.have.property("length"),u||"date"!==p||"date"===d&&"date"===m)if("number"===d&&"number"===m||!u&&"number"!==p)if(u||"date"===p||"number"===p)g=!1;else{s=h+"expected "+("string"===p?"'"+l+"'":l)+" to be a number or a date"}else s=h+"the arguments to within must be numbers";else s=h+"the arguments to within must be dates";if(g)throw new r(s,void 0,f);if(u){var y,b="length";"map"===p||"set"===p?(b="size",y=l.size):y=l.length,this.assert(y>=e&&y<=o,"expected #{this} to have a "+b+" within "+v,"expected #{this} to not have a "+b+" within "+v)}else this.assert(l>=e&&l<=o,"expected #{this} to be within "+v,"expected #{this} to not be within "+v)})),n.addMethod("instanceof",g),n.addMethod("instanceOf",g),n.addMethod("property",v),n.addMethod("ownProperty",y),n.addMethod("haveOwnProperty",y),n.addMethod("ownPropertyDescriptor",b),n.addMethod("haveOwnPropertyDescriptor",b),n.addChainableMethod("length",x,w),n.addChainableMethod("lengthOf",x,w),n.addMethod("match",S),n.addMethod("matches",S),n.addMethod("string",(function(e,r){r&&i(this,"message",r);var o=i(this,"object"),a=i(this,"message"),s=i(this,"ssfi");new n(o,a,s,!0).is.a("string"),this.assert(~o.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))})),n.addMethod("keys",E),n.addMethod("key",E),n.addMethod("throw",T),n.addMethod("throws",T),n.addMethod("Throw",T),n.addMethod("respondTo",k),n.addMethod("respondsTo",k),n.addProperty("itself",(function(){i(this,"itself",!0)})),n.addMethod("satisfy",O),n.addMethod("satisfies",O),n.addMethod("closeTo",M),n.addMethod("approximately",M),n.addMethod("members",(function(e,r){r&&i(this,"message",r);var o=i(this,"object"),a=i(this,"message"),s=i(this,"ssfi");new n(o,a,s,!0).to.be.an("array"),new n(e,a,s,!0).to.be.an("array");var l,u,c,h=i(this,"contains"),f=i(this,"ordered");h?(u="expected #{this} to be "+(l=f?"an ordered superset":"a superset")+" of #{exp}",c="expected #{this} to not be "+l+" of #{exp}"):(u="expected #{this} to have the same "+(l=f?"ordered members":"members")+" as #{exp}",c="expected #{this} to not have the same "+l+" as #{exp}");var p=i(this,"deep")?t.eql:void 0;this.assert(function(e,t,n,r,i){if(!r){if(e.length!==t.length)return!1;t=t.slice()}return e.every((function(e,o){if(i)return n?n(e,t[o]):e===t[o];if(!n){var a=t.indexOf(e);return-1!==a&&(r||t.splice(a,1),!0)}return t.some((function(i,o){return!!n(e,i)&&(r||t.splice(o,1),!0)}))}))}(e,o,p,h,f),u,c,e,o,!0)})),n.addMethod("oneOf",(function(e,t){t&&i(this,"message",t);var r=i(this,"object"),o=i(this,"message"),a=i(this,"ssfi");new n(e,o,a,!0).to.be.an("array"),this.assert(e.indexOf(r)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,r)})),n.addMethod("change",_),n.addMethod("changes",_),n.addMethod("increase",R),n.addMethod("increases",R),n.addMethod("decrease",A),n.addMethod("decreases",A),n.addMethod("by",(function(e,t){t&&i(this,"message",t);var n,r=i(this,"deltaMsgObj"),o=i(this,"initialDeltaValue"),a=i(this,"finalDeltaValue"),s=i(this,"deltaBehavior"),l=i(this,"realDelta");n="change"===s?Math.abs(a-o)===Math.abs(e):l===Math.abs(e),this.assert(n,"expected "+r+" to "+s+" by "+e,"expected "+r+" to not "+s+" by "+e)})),n.addProperty("extensible",(function(){var e=i(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")})),n.addProperty("sealed",(function(){var e=i(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")})),n.addProperty("frozen",(function(){var e=i(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})),n.addProperty("finite",(function(e){var t=i(this,"object");this.assert("number"==typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}))}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,r,i){throw arguments.length<2&&(r=t,t=void 0),r=r||"expect.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:i},e.expect.fail)}}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion;function r(){Object.defineProperty(Object.prototype,"should",{set:function(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})},get:function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol?new n(this.valueOf(),null,e):new n(this,null,e)},configurable:!0});var t={fail:function(n,r,i,o){throw arguments.length<2&&(i=n,n=void 0),i=i||"should.fail()",new e.AssertionError(i,{actual:n,expected:r,operator:o},t.fail)},equal:function(e,t,r){new n(e,r).to.equal(t)},Throw:function(e,t,r,i){new n(e,i).to.Throw(t,r)},exist:function(e,t){new n(e,t).to.exist},not:{}};return t.not.equal=function(e,t,r){new n(e,r).to.not.equal(t)},t.not.Throw=function(e,t,r,i){new n(e,i).to.not.Throw(t,r)},t.not.exist=function(e,t){new n(e,t).to.not.exist},t.throw=t.Throw,t.not.throw=t.not.Throw,t}e.should=r,e.Should=r}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){
/*!
   * Chai dependencies.
   */
var n=e.Assertion,r=t.flag,i=e.assert=function(t,r){new n(null,null,e.assert,!0).assert(t,r,"[ negation message unavailable ]")};
/*!
   * Module export.
   */i.fail=function(t,n,r,o){throw arguments.length<2&&(r=t,t=void 0),r=r||"assert.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:o},i.fail)},i.isOk=function(e,t){new n(e,t,i.isOk,!0).is.ok},i.isNotOk=function(e,t){new n(e,t,i.isNotOk,!0).is.not.ok},i.equal=function(e,t,o){var a=new n(e,o,i.equal,!0);a.assert(t==r(a,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},i.notEqual=function(e,t,o){var a=new n(e,o,i.notEqual,!0);a.assert(t!=r(a,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},i.strictEqual=function(e,t,r){new n(e,r,i.strictEqual,!0).to.equal(t)},i.notStrictEqual=function(e,t,r){new n(e,r,i.notStrictEqual,!0).to.not.equal(t)},i.deepEqual=i.deepStrictEqual=function(e,t,r){new n(e,r,i.deepEqual,!0).to.eql(t)},i.notDeepEqual=function(e,t,r){new n(e,r,i.notDeepEqual,!0).to.not.eql(t)},i.isAbove=function(e,t,r){new n(e,r,i.isAbove,!0).to.be.above(t)},i.isAtLeast=function(e,t,r){new n(e,r,i.isAtLeast,!0).to.be.least(t)},i.isBelow=function(e,t,r){new n(e,r,i.isBelow,!0).to.be.below(t)},i.isAtMost=function(e,t,r){new n(e,r,i.isAtMost,!0).to.be.most(t)},i.isTrue=function(e,t){new n(e,t,i.isTrue,!0).is.true},i.isNotTrue=function(e,t){new n(e,t,i.isNotTrue,!0).to.not.equal(!0)},i.isFalse=function(e,t){new n(e,t,i.isFalse,!0).is.false},i.isNotFalse=function(e,t){new n(e,t,i.isNotFalse,!0).to.not.equal(!1)},i.isNull=function(e,t){new n(e,t,i.isNull,!0).to.equal(null)},i.isNotNull=function(e,t){new n(e,t,i.isNotNull,!0).to.not.equal(null)},i.isNaN=function(e,t){new n(e,t,i.isNaN,!0).to.be.NaN},i.isNotNaN=function(e,t){new n(e,t,i.isNotNaN,!0).not.to.be.NaN},i.exists=function(e,t){new n(e,t,i.exists,!0).to.exist},i.notExists=function(e,t){new n(e,t,i.notExists,!0).to.not.exist},i.isUndefined=function(e,t){new n(e,t,i.isUndefined,!0).to.equal(void 0)},i.isDefined=function(e,t){new n(e,t,i.isDefined,!0).to.not.equal(void 0)},i.isFunction=function(e,t){new n(e,t,i.isFunction,!0).to.be.a("function")},i.isNotFunction=function(e,t){new n(e,t,i.isNotFunction,!0).to.not.be.a("function")},i.isObject=function(e,t){new n(e,t,i.isObject,!0).to.be.a("object")},i.isNotObject=function(e,t){new n(e,t,i.isNotObject,!0).to.not.be.a("object")},i.isArray=function(e,t){new n(e,t,i.isArray,!0).to.be.an("array")},i.isNotArray=function(e,t){new n(e,t,i.isNotArray,!0).to.not.be.an("array")},i.isString=function(e,t){new n(e,t,i.isString,!0).to.be.a("string")},i.isNotString=function(e,t){new n(e,t,i.isNotString,!0).to.not.be.a("string")},i.isNumber=function(e,t){new n(e,t,i.isNumber,!0).to.be.a("number")},i.isNotNumber=function(e,t){new n(e,t,i.isNotNumber,!0).to.not.be.a("number")},i.isFinite=function(e,t){new n(e,t,i.isFinite,!0).to.be.finite},i.isBoolean=function(e,t){new n(e,t,i.isBoolean,!0).to.be.a("boolean")},i.isNotBoolean=function(e,t){new n(e,t,i.isNotBoolean,!0).to.not.be.a("boolean")},i.typeOf=function(e,t,r){new n(e,r,i.typeOf,!0).to.be.a(t)},i.notTypeOf=function(e,t,r){new n(e,r,i.notTypeOf,!0).to.not.be.a(t)},i.instanceOf=function(e,t,r){new n(e,r,i.instanceOf,!0).to.be.instanceOf(t)},i.notInstanceOf=function(e,t,r){new n(e,r,i.notInstanceOf,!0).to.not.be.instanceOf(t)},i.include=function(e,t,r){new n(e,r,i.include,!0).include(t)},i.notInclude=function(e,t,r){new n(e,r,i.notInclude,!0).not.include(t)},i.deepInclude=function(e,t,r){new n(e,r,i.deepInclude,!0).deep.include(t)},i.notDeepInclude=function(e,t,r){new n(e,r,i.notDeepInclude,!0).not.deep.include(t)},i.nestedInclude=function(e,t,r){new n(e,r,i.nestedInclude,!0).nested.include(t)},i.notNestedInclude=function(e,t,r){new n(e,r,i.notNestedInclude,!0).not.nested.include(t)},i.deepNestedInclude=function(e,t,r){new n(e,r,i.deepNestedInclude,!0).deep.nested.include(t)},i.notDeepNestedInclude=function(e,t,r){new n(e,r,i.notDeepNestedInclude,!0).not.deep.nested.include(t)},i.ownInclude=function(e,t,r){new n(e,r,i.ownInclude,!0).own.include(t)},i.notOwnInclude=function(e,t,r){new n(e,r,i.notOwnInclude,!0).not.own.include(t)},i.deepOwnInclude=function(e,t,r){new n(e,r,i.deepOwnInclude,!0).deep.own.include(t)},i.notDeepOwnInclude=function(e,t,r){new n(e,r,i.notDeepOwnInclude,!0).not.deep.own.include(t)},i.match=function(e,t,r){new n(e,r,i.match,!0).to.match(t)},i.notMatch=function(e,t,r){new n(e,r,i.notMatch,!0).to.not.match(t)},i.property=function(e,t,r){new n(e,r,i.property,!0).to.have.property(t)},i.notProperty=function(e,t,r){new n(e,r,i.notProperty,!0).to.not.have.property(t)},i.propertyVal=function(e,t,r,o){new n(e,o,i.propertyVal,!0).to.have.property(t,r)},i.notPropertyVal=function(e,t,r,o){new n(e,o,i.notPropertyVal,!0).to.not.have.property(t,r)},i.deepPropertyVal=function(e,t,r,o){new n(e,o,i.deepPropertyVal,!0).to.have.deep.property(t,r)},i.notDeepPropertyVal=function(e,t,r,o){new n(e,o,i.notDeepPropertyVal,!0).to.not.have.deep.property(t,r)},i.ownProperty=function(e,t,r){new n(e,r,i.ownProperty,!0).to.have.own.property(t)},i.notOwnProperty=function(e,t,r){new n(e,r,i.notOwnProperty,!0).to.not.have.own.property(t)},i.ownPropertyVal=function(e,t,r,o){new n(e,o,i.ownPropertyVal,!0).to.have.own.property(t,r)},i.notOwnPropertyVal=function(e,t,r,o){new n(e,o,i.notOwnPropertyVal,!0).to.not.have.own.property(t,r)},i.deepOwnPropertyVal=function(e,t,r,o){new n(e,o,i.deepOwnPropertyVal,!0).to.have.deep.own.property(t,r)},i.notDeepOwnPropertyVal=function(e,t,r,o){new n(e,o,i.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,r)},i.nestedProperty=function(e,t,r){new n(e,r,i.nestedProperty,!0).to.have.nested.property(t)},i.notNestedProperty=function(e,t,r){new n(e,r,i.notNestedProperty,!0).to.not.have.nested.property(t)},i.nestedPropertyVal=function(e,t,r,o){new n(e,o,i.nestedPropertyVal,!0).to.have.nested.property(t,r)},i.notNestedPropertyVal=function(e,t,r,o){new n(e,o,i.notNestedPropertyVal,!0).to.not.have.nested.property(t,r)},i.deepNestedPropertyVal=function(e,t,r,o){new n(e,o,i.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,r)},i.notDeepNestedPropertyVal=function(e,t,r,o){new n(e,o,i.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,r)},i.lengthOf=function(e,t,r){new n(e,r,i.lengthOf,!0).to.have.lengthOf(t)},i.hasAnyKeys=function(e,t,r){new n(e,r,i.hasAnyKeys,!0).to.have.any.keys(t)},i.hasAllKeys=function(e,t,r){new n(e,r,i.hasAllKeys,!0).to.have.all.keys(t)},i.containsAllKeys=function(e,t,r){new n(e,r,i.containsAllKeys,!0).to.contain.all.keys(t)},i.doesNotHaveAnyKeys=function(e,t,r){new n(e,r,i.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},i.doesNotHaveAllKeys=function(e,t,r){new n(e,r,i.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},i.hasAnyDeepKeys=function(e,t,r){new n(e,r,i.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},i.hasAllDeepKeys=function(e,t,r){new n(e,r,i.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},i.containsAllDeepKeys=function(e,t,r){new n(e,r,i.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},i.doesNotHaveAnyDeepKeys=function(e,t,r){new n(e,r,i.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},i.doesNotHaveAllDeepKeys=function(e,t,r){new n(e,r,i.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},i.throws=function(e,t,o,a){("string"==typeof t||t instanceof RegExp)&&(o=t,t=null);var s=new n(e,a,i.throws,!0).to.throw(t,o);return r(s,"object")},i.doesNotThrow=function(e,t,r,o){("string"==typeof t||t instanceof RegExp)&&(r=t,t=null),new n(e,o,i.doesNotThrow,!0).to.not.throw(t,r)},i.operator=function(o,a,s,l){var u;switch(a){case"==":u=o==s;break;case"===":u=o===s;break;case">":u=o>s;break;case">=":u=o>=s;break;case"<":u=o<s;break;case"<=":u=o<=s;break;case"!=":u=o!=s;break;case"!==":u=o!==s;break;default:throw l=l?l+": ":l,new e.AssertionError(l+'Invalid operator "'+a+'"',void 0,i.operator)}var c=new n(u,l,i.operator,!0);c.assert(!0===r(c,"object"),"expected "+t.inspect(o)+" to be "+a+" "+t.inspect(s),"expected "+t.inspect(o)+" to not be "+a+" "+t.inspect(s))},i.closeTo=function(e,t,r,o){new n(e,o,i.closeTo,!0).to.be.closeTo(t,r)},i.approximately=function(e,t,r,o){new n(e,o,i.approximately,!0).to.be.approximately(t,r)},i.sameMembers=function(e,t,r){new n(e,r,i.sameMembers,!0).to.have.same.members(t)},i.notSameMembers=function(e,t,r){new n(e,r,i.notSameMembers,!0).to.not.have.same.members(t)},i.sameDeepMembers=function(e,t,r){new n(e,r,i.sameDeepMembers,!0).to.have.same.deep.members(t)},i.notSameDeepMembers=function(e,t,r){new n(e,r,i.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},i.sameOrderedMembers=function(e,t,r){new n(e,r,i.sameOrderedMembers,!0).to.have.same.ordered.members(t)},i.notSameOrderedMembers=function(e,t,r){new n(e,r,i.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},i.sameDeepOrderedMembers=function(e,t,r){new n(e,r,i.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},i.notSameDeepOrderedMembers=function(e,t,r){new n(e,r,i.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},i.includeMembers=function(e,t,r){new n(e,r,i.includeMembers,!0).to.include.members(t)},i.notIncludeMembers=function(e,t,r){new n(e,r,i.notIncludeMembers,!0).to.not.include.members(t)},i.includeDeepMembers=function(e,t,r){new n(e,r,i.includeDeepMembers,!0).to.include.deep.members(t)},i.notIncludeDeepMembers=function(e,t,r){new n(e,r,i.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},i.includeOrderedMembers=function(e,t,r){new n(e,r,i.includeOrderedMembers,!0).to.include.ordered.members(t)},i.notIncludeOrderedMembers=function(e,t,r){new n(e,r,i.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},i.includeDeepOrderedMembers=function(e,t,r){new n(e,r,i.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},i.notIncludeDeepOrderedMembers=function(e,t,r){new n(e,r,i.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},i.oneOf=function(e,t,r){new n(e,r,i.oneOf,!0).to.be.oneOf(t)},i.changes=function(e,t,r,o){3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.changes,!0).to.change(t,r)},i.changesBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.changesBy,!0).to.change(t,r).by(o)},i.doesNotChange=function(e,t,r,o){return 3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.doesNotChange,!0).to.not.change(t,r)},i.changesButNotBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.changesButNotBy,!0).to.change(t,r).but.not.by(o)},i.increases=function(e,t,r,o){return 3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.increases,!0).to.increase(t,r)},i.increasesBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.increasesBy,!0).to.increase(t,r).by(o)},i.doesNotIncrease=function(e,t,r,o){return 3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.doesNotIncrease,!0).to.not.increase(t,r)},i.increasesButNotBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.increasesButNotBy,!0).to.increase(t,r).but.not.by(o)},i.decreases=function(e,t,r,o){return 3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.decreases,!0).to.decrease(t,r)},i.decreasesBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.decreasesBy,!0).to.decrease(t,r).by(o)},i.doesNotDecrease=function(e,t,r,o){return 3===arguments.length&&"function"==typeof t&&(o=r,r=null),new n(e,o,i.doesNotDecrease,!0).to.not.decrease(t,r)},i.doesNotDecreaseBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);return new n(e,a,i.doesNotDecreaseBy,!0).to.not.decrease(t,r).by(o)},i.decreasesButNotBy=function(e,t,r,o,a){if(4===arguments.length&&"function"==typeof t){var s=o;o=r,a=s}else 3===arguments.length&&(o=r,r=null);new n(e,a,i.decreasesButNotBy,!0).to.decrease(t,r).but.not.by(o)}
/*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */,i.ifError=function(e){if(e)throw e},i.isExtensible=function(e,t){new n(e,t,i.isExtensible,!0).to.be.extensible},i.isNotExtensible=function(e,t){new n(e,t,i.isNotExtensible,!0).to.not.be.extensible},i.isSealed=function(e,t){new n(e,t,i.isSealed,!0).to.be.sealed},i.isNotSealed=function(e,t){new n(e,t,i.isNotSealed,!0).to.not.be.sealed},i.isFrozen=function(e,t){new n(e,t,i.isFrozen,!0).to.be.frozen},i.isNotFrozen=function(e,t){new n(e,t,i.isNotFrozen,!0).to.not.be.frozen},i.isEmpty=function(e,t){new n(e,t,i.isEmpty,!0).to.be.empty},i.isNotEmpty=function(e,t){new n(e,t,i.isNotEmpty,!0).to.not.be.empty},
/*!
   * Aliases.
   */
function e(t,n){return i[n]=i[t],e}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(45),i=n(46),o=n(47);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return j(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return j(G(t),e,n,r)}function T(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(13))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(19),o=n(50);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,h=null,f={onError:function(e){l=!0,u=e}};function p(e,t,n,r,i,o,a,c,h){l=!1,u=null,s.apply(f,arguments)}var d=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,s,f,d){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&x(u[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],E={},T={},k={};function O(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var M=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_=null,R=null,A=null;function C(e){if(e=m(e)){if("function"!=typeof _)throw Error(a(280));var t=e.stateNode;t&&(t=d(t),_(e.stateNode,e.type,t))}}function P(e){R?A?A.push(e):A=[e]:R=e}function N(){if(R){var e=R,t=A;if(A=R=null,C(e),t)for(e=0;e<t.length;e++)C(t[e])}}function I(e,t){return e(t)}function U(e,t,n,r,i){return e(t,n,r,i)}function L(){}var D=I,F=!1,B=!1;function z(){null===R&&null===A||(L(),N())}function G(e,t,n){if(B)return e(t,n);B=!0;try{return D(e,t,n)}finally{B=!1,z()}}var j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,H={},q={};function W(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Z);Y[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Z);Y[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Z);Y[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(q,e)||!V.call(H,e)&&(j.test(e)?q[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var K=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,pe=J?Symbol.for("react.block"):60121,de="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=de&&e[de]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(K,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Me(e,t.type,n):t.hasOwnProperty("defaultValue")&&Me(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Me(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function _e(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Pe(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ie="http://www.w3.org/1999/xhtml",Ue="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ue||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ge(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var je={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},Ve={},He={};function qe(e){if(Ve[e])return Ve[e];if(!je[e])return e;var t,n=je[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ve[e]=n[t];return e}M&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete je.animationend.animation,delete je.animationiteration.animation,delete je.animationstart.animation),"TransitionEvent"in window||delete je.transitionend.transition);var We=qe("animationend"),Ye=qe("animationiteration"),Xe=qe("animationstart"),Ze=qe("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"==typeof WeakMap?WeakMap:Map);function Ke(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=h,c=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!M)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=rt(s,u))}st(s)}}function dt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,gt,vt,yt=!1,bt=[],wt=null,xt=null,St=null,Et=new Map,Tt=new Map,kt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _t(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Rt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=_t(t,n,r,i,o),null!==t&&(null!==(t=_n(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Ct(e){var t=Mn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=_n(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Nt(e,t,n){Pt(e)&&n.delete(t)}function It(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=_n(e.blockedOn))&&mt(e);break}var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Pt(wt)&&(wt=null),null!==xt&&Pt(xt)&&(xt=null),null!==St&&Pt(St)&&(St=null),Et.forEach(Nt),Tt.forEach(Nt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,It)))}function Lt(e){function t(t){return Ut(t,e)}if(0<bt.length){Ut(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Ut(wt,e),null!==xt&&Ut(xt,e),null!==St&&Ut(St,e),Et.forEach(t),Tt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Ct(n),null===n.blockedOn&&kt.shift()}var Dt={},Ft=new Map,Bt=new Map,zt=["abort","abort",We,"animationEnd",Ye,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ze,"transitionEnd","waiting","waiting"];function Gt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,o),Dt[i]=o}}Gt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Gt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Gt(zt,2);for(var jt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<jt.length;Vt++)Bt.set(jt[Vt],0);var Ht=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Wt=!0;function Yt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Zt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Zt(e,t,n,r){F||L();var i=Qt,o=F;F=!0;try{U(i,e,t,n,r)}finally{(F=o)||z()}}function $t(e,t,n,r){qt(Ht,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Wt)if(0<bt.length&&-1<Ot.indexOf(e))e=_t(null,e,t,n,r),bt.push(e);else{var i=Kt(e,t,n,r);if(null===i)Rt(e,r);else if(-1<Ot.indexOf(e))e=_t(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=At(wt,e,t,n,r,i),!0;case"dragenter":return xt=At(xt,e,t,n,r,i),!0;case"mouseover":return St=At(St,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,At(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tt.set(o,At(Tt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Rt(e,r),e=ft(e,r,null,t);try{G(pt,e)}finally{ht(e)}}}}function Kt(e,t,n,r){if(null!==(n=Mn(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{G(pt,e)}finally{ht(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ie;function ln(e,t){var n=Ke(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)dt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,kn="__reactEventHandlers$"+En,On="__reactContainere$"+En;function Mn(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Tn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function _n(e){return!(e=e[Tn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[kn]||null}function Cn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pn(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Nn(e,t,n){(t=Pn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function In(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Cn(t);for(t=n.length;0<t--;)Nn(n[t],"captured",e);for(t=0;t<n.length;t++)Nn(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Pn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function Dn(e){it(e,In)}var Fn=null,Bn=null,zn=null;function Gn(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function jn(){return!0}function Vn(){return!1}function Hn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?jn:Vn,this.isPropagationStopped=Vn,this}function qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Wn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=qn,e.release=Wn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){this.isPersistent=jn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Hn);var Xn=Hn.extend({data:null}),Zn=Hn.extend({data:null}),$n=[9,13,27,32],Qn=M&&"CompositionEvent"in window,Kn=null;M&&"documentMode"in document&&(Kn=document.documentMode);var Jn=M&&"TextEvent"in window&&!Kn,er=M&&(!Qn||Kn&&8<Kn&&11>=Kn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Qn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Gn()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Xn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Dn(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&ir(e,t)?(e=Gn(),zn=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Zn.getPooled(nr.beforeInput,t,n,r)).data=e,Dn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Hn.getPooled(cr.change,e,t,n)).type="change",P(n),Dn(e),e}var fr=null,pr=null;function dr(e){st(e)}function mr(e){if(xe(Rn(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;function yr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(e){if("value"===e.propertyName&&mr(pr))if(e=hr(pr,e,lt(e)),F)st(e);else{F=!0;try{I(dr,e)}finally{F=!1,z()}}}function wr(e,t,n){"focus"===e?(yr(),pr=n,(fr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function Sr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}M&&(vr=ut("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?Rn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gr;else if(ur(i))if(vr)a=Er;else{a=xr;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Sr);if(a&&(a=a(e,t)))return hr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Me(i,"number",i.value)}},kr=Hn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function _r(){return Mr}var Rr=0,Ar=0,Cr=!1,Pr=!1,Nr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:_r,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Rr;return Rr=e.screenX,Cr?"mousemove"===e.type?e.screenX-t:0:(Cr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,Pr?"mousemove"===e.type?e.screenY-t:0:(Pr=!0,0)}}),Ir=Nr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Nr,l=Ur.mouseLeave,u=Ur.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ir,l=Ur.pointerLeave,u=Ur.pointerEnter,c="pointer");if(e=null==a?o:Rn(a),o=null==t?o:Rn(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Cn(e))a++;for(e=0,t=u;t;t=Cn(t))e++;for(;0<a-e;)s=Cn(s),a--;for(;0<e-a;)u=Cn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Cn(s),u=Cn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Cn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Cn(c);for(c=0;c<s.length;c++)Un(s[c],"bubbled",l);for(c=r.length;0<c--;)Un(r[c],"captured",n);return 0==(64&i)?[l]:[l,n]}};var Dr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(Dr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Dr(e[n[r]],t[n[r]]))return!1;return!0}var zr=M&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},jr=null,Vr=null,Hr=null,qr=!1;function Wr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qr||null==jr||jr!==cn(n)?null:("selectionStart"in(n=jr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Br(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Gr.select,Vr,e,t)).type="select",e.target=jr,Dn(e),e))}var Yr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ke(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Rn(t):window,e){case"focus":(ur(i)||"true"===i.contentEditable)&&(jr=i,Vr=t,Hr=null);break;case"blur":Hr=Vr=jr=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Wr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Wr(n,r)}return null}},Xr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$r=kr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=kr.extend({key:function(e){if(e.key){var t=Kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:_r,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Nr.extend({dataTransfer:null}),ni=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:_r}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Nr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Dt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=$r;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case We:case Ye:case Xe:e=Xr;break;case Ze:e=ri;break;case"scroll":e=kr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ir;break;default:e=Hn}return Dn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=An,m=_n,g=Rn,O({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Tr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var ci={},hi={current:ci},fi={current:!1},pi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function gi(){li(fi),li(hi)}function vi(e,t,n){if(hi.current!==ci)throw Error(a(168));ui(hi,t),ui(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,pi=hi.current,ui(hi,e),ui(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(hi),ui(hi,e)):li(fi),ui(fi,n)}var xi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,ki=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,_i=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Ci=o.unstable_IdlePriority,Pi={},Ni=o.unstable_shouldYield,Ii=void 0!==Ti?Ti:function(){},Ui=null,Li=null,Di=!1,Fi=ki(),Bi=1e4>Fi?ki:function(){return ki()-Fi};function zi(){switch(Oi()){case Mi:return 99;case _i:return 98;case Ri:return 97;case Ai:return 96;case Ci:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Mi;case 98:return _i;case 97:return Ri;case 96:return Ai;case 95:return Ci;default:throw Error(a(332))}}function ji(e,t){return e=Gi(e),xi(e,t)}function Vi(e,t,n){return e=Gi(e),Si(e,t,n)}function Hi(e){return null===Ui?(Ui=[e],Li=Si(Mi,Wi)):Ui.push(e),Pi}function qi(){if(null!==Li){var e=Li;Li=null,Ei(e)}Wi()}function Wi(){if(!Di&&null!==Ui){Di=!0;var e=0;try{var t=Ui;ji(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Mi,qi),t}finally{Di=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zi={current:null},$i=null,Qi=null,Ki=null;function Ji(){Ki=Qi=$i=null}function eo(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){$i=e,Ki=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function ro(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===$i)throw Error(a(308));Qi=t,$i.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,h=null,f=null,p=null;if(null!==l)for(var d=l;;){if((s=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=m,h=u):p=p.next=m,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ol(s,d.suspenseConfig);e:{var g=e,v=d;switch(s=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=v.payload)?g.call(m,u,s):g))break e;u=i({},u,s);break e;case 2:io=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===l){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=u:p.next=f,o.baseState=h,o.baseQueue=p,al(c),e.expirationTime=c,e.memoizedState=u}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var fo=$.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=fo.suspense;(i=so(r=Ys(r,e,i),i)).payload=t,null!=n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=fo.suspense;(i=so(r=Ys(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ws(),r=fo.suspense;(r=so(n=Ys(n,e,r),r)).tag=2,null!=t&&(r.callback=t),lo(e,r),Xs(e,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function yo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=mi(t)?pi:hi.current,o=(r=null!=(r=t.contextTypes))?di(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=mi(t)?pi:hi.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=_l(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case te:return(t=Al(t,e.mode,n)).return=e,t}if(xo(t)||me(t))return(t=_l(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(xo(n)||me(n))return null!==i?null:h(e,t,n,r,null);Eo(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||me(r))return h(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(i,h,s[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===s.length)return n(i,h),u;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],l))&&(a=o(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<s.length;m++)null!==(g=d(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,s,l,u){var c=me(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=d(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=So(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=_l(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Ml(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Al(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Rl(o,e.mode,l)).return=e,e=r),s(e);if(xo(o))return m(e,r,o,l);if(me(o))return g(e,r,o,l);if(c&&Eo(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ko=To(!0),Oo=To(!1),Mo={},_o={current:Mo},Ro={current:Mo},Ao={current:Mo};function Co(e){if(e===Mo)throw Error(a(174));return e}function Po(e,t){switch(ui(Ao,t),ui(Ro,e),ui(_o,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(_o),ui(_o,t)}function No(){li(_o),li(Ro),li(Ao)}function Io(e){Co(Ao.current);var t=Co(_o.current),n=De(t,e.type);t!==n&&(ui(Ro,e),ui(_o,n))}function Uo(e){Ro.current===e&&(li(_o),li(Ro))}var Lo={current:0};function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Bo=$.ReactCurrentDispatcher,zo=$.ReactCurrentBatchConfig,Go=0,jo=null,Vo=null,Ho=null,qo=!1;function Wo(){throw Error(a(321))}function Yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function Xo(e,t,n,r,i,o){if(Go=o,jo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:ya,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=Vo=null,t.updateQueue=null,Bo.current=ba,e=n(r,i)}while(t.expirationTime===Go)}if(Bo.current=ga,t=null!==Vo&&null!==Vo.next,Go=0,Ho=Vo=jo=null,qo=!1,t)throw Error(a(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?jo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function $o(){if(null===Vo){var e=jo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Ho?jo.memoizedState:Ho.next;if(null!==t)Ho=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Ho?jo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function Qo(e,t){return"function"==typeof t?t(e):t}function Ko(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<Go){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,c>jo.expirationTime&&(jo.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,Dr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Dr(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Zo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ma.bind(null,jo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=jo.updateQueue)?(t={lastEffect:null},jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return $o().memoizedState}function ra(e,t,n,r){var i=Zo();jo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=$o();r=void 0===r?null:r;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ta(t,n,o,r)}jo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function ca(){}function ha(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function da(e,t,n){var r=zi();ji(98>r?98:r,(function(){e(!0)})),ji(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function ma(e,t,n){var r=Ws(),i=fo.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===jo||null!==o&&o===jo)qo=!0,i.expirationTime=Go,jo.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Dr(s,a))return}catch(e){}Xs(e,r)}}var ga={readContext:ro,useCallback:Wo,useContext:Wo,useEffect:Wo,useImperativeHandle:Wo,useLayoutEffect:Wo,useMemo:Wo,useReducer:Wo,useRef:Wo,useState:Wo,useDebugValue:Wo,useResponder:Wo,useDeferredValue:Wo,useTransition:Wo},va={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,jo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ha(da.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:pa,useReducer:Ko,useRef:na,useState:function(){return Ko(Qo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Ko(Qo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ko(Qo),n=t[0];return t=t[1],[fa(da.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Qo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[fa(da.bind(null,t,e),[t,e]),n]}},wa=null,xa=null,Sa=!1;function Ea(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Sa){var t=xa;if(t){var n=t;if(!Ta(e,t)){if(!(t=xn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(wa=e);Ea(wa,n)}wa=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,wa=e}}function Oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Ma(e){if(e!==wa)return!1;if(!Sa)return Oa(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=xa;t;)Ea(e,t),t=xn(t.nextSibling);if(Oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=wa?xn(e.stateNode.nextSibling):null;return!0}function _a(){xa=wa=null,Sa=!1}var Ra=$.ReactCurrentOwner,Aa=!1;function Ca(e,t,n,r){t.child=null===e?Oo(t,null,n,r):ko(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Xo(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,Ca(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Na(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||kl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ia(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ia(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):La(e,t,n,r,o)}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?pi:hi.current;return o=di(t,o),no(t,i),n=Xo(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,Ca(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ro(u):u=di(t,u=mi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),l=t.memoizedState,s!==r||f!==l||fi.current||io?("function"==typeof c&&(mo(t,n,c,r),l=t.memoizedState),(s=io||vo(t,n,s,r,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ro(u):u=di(t,u=mi(n)?pi:hi.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1,l=t.memoizedState,a.state=l,co(t,r,a,i),f=t.memoizedState,s!==r||l!==f||fi.current||io?("function"==typeof c&&(mo(t,n,c,r),f=t.memoizedState),(c=io||vo(t,n,s,r,l,f,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&wi(t,n,!1),Xa(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Ca(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Po(e,t.containerInfo)}var za,Ga,ja,Va={dehydrated:null,retryTime:0};function Ha(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(Lo,1&a),null===e){if(void 0!==o.fallback&&ka(t),s){if(s=o.fallback,(o=_l(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=_l(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Oo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ol(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=ko(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=_l(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=_l(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=ko(t,e,o.children,n)}function qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Wa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ca(e,t,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n);else if(19===e.tag)qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Lo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o,t.lastEffect);break;case"together":Wa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return No(),li(fi),li(hi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),null;case 5:Uo(t),n=Co(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ga(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Co(_o.current),Ma(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[kn]=s,o){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Yt($e[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Ee(r,s),Yt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),ln(n,"onChange");break;case"textarea":Ce(r,s),Yt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":we(r),Oe(r,s,!0);break;case"textarea":we(r),Ne(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[Tn]=t,e[kn]=r,za(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":Yt("load",e),u=r;break;case"video":case"audio":for(u=0;u<$e.length;u++)Yt($e[u],e);u=r;break;case"source":Yt("error",e),u=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),u=r;break;case"form":Yt("reset",e),Yt("submit",e),u=r;break;case"details":Yt("toggle",e),u=r;break;case"input":Ee(e,r),u=Se(e,r),Yt("invalid",e),ln(n,"onChange");break;case"option":u=_e(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Yt("invalid",e),ln(n,"onChange");break;case"textarea":Ce(e,r),u=Ae(e,r),Yt("invalid",e),ln(n,"onChange");break;default:u=r}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Be(e,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&ze(e,h):"number"==typeof h&&ze(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&Q(e,s,h,l))}switch(o){case"input":we(e),Oe(e,r,!1);break;case"textarea":we(e),Ne(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Re(e,!!r.multiple,n,!1):null!=r.defaultValue&&Re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ja(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Co(Ao.current),Co(_o.current),Ma(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return li(Lo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?Ms===ws&&(Ms=xs):(Ms!==ws&&Ms!==xs||(Ms=Ss),0!==Ps&&null!==Ts&&(Nl(Ts,Os),Il(Ts,Ps)))),(n||r)&&(t.effectTag|=4),null);case 4:return No(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(li(Lo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Za(r,!1);else if(Ms!==ws||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Do(s))){for(t.effectTag|=64,Za(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ui(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Do(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Za(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Lo.current,ui(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(No(),li(fi),li(hi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Uo(e),null;case 13:return li(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Lo),null;case 4:return No(),null;case 10:return eo(e),null;default:return null}}function Ka(e,t){return{value:e,source:t,stack:ve(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Co(_o.current),e=null,n){case"input":a=Se(u,a),r=Se(u,r),e=[];break;case"option":a=_e(u,a),r=_e(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),r=Ae(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},ja=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Sl&&Sl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ji(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){yl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,h=u;;)if(as(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?ze(n,l):Q(n,s,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Re(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Re(n,!!r.multiple,r.defaultValue,!0):Re(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Is=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(a(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=wl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Ds=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,vs=Math.ceil,ys=$.ReactCurrentDispatcher,bs=$.ReactCurrentOwner,ws=0,xs=3,Ss=4,Es=0,Ts=null,ks=null,Os=0,Ms=ws,_s=null,Rs=1073741823,As=1073741823,Cs=null,Ps=0,Ns=!1,Is=0,Us=null,Ls=!1,Ds=null,Fs=null,Bs=!1,zs=null,Gs=90,js=null,Vs=0,Hs=null,qs=0;function Ws(){return 0!=(48&Es)?1073741821-(Bi()/10|0):0!==qs?qs:qs=1073741821-(Bi()/10|0)}function Ys(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=zi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Es))return Os;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===Os&&--e,e}function Xs(e,t){if(50<Vs)throw Vs=0,Hs=null,Error(a(185));if(null!==(e=Zs(e,t))){var n=zi();1073741823===t?0!=(8&Es)&&0==(48&Es)?Js(e):(Qs(e),0===Es&&qi()):Qs(e),0==(4&Es)||98!==n&&99!==n||(null===js?js=new Map([[e,t]]):(void 0===(n=js.get(e))||n>t)&&js.set(e,t))}}function Zs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ts===i&&(al(t),Ms===Ss&&Nl(i,Os)),Il(i,t)),i}function $s(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Pl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(Js.bind(null,e));else{var t=$s(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ws();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Pi&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Hi(Js.bind(null,e)):Vi(r,Ks.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Ks(e,t){if(qs=0,t)return Ul(e,t=Ws()),Qs(e),null;var n=$s(e);if(0!==n){if(t=e.callbackNode,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&n===Os||nl(e,n),null!==ks){var r=Es;Es|=16;for(var i=il();;)try{ll();break}catch(t){rl(e,t)}if(Ji(),Es=r,ys.current=i,1===Ms)throw t=_s,nl(e,n),Nl(e,n),Qs(e),t;if(null===ks)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ms,Ts=null,r){case ws:case 1:throw Error(a(345));case 2:Ul(e,2<n?2:n);break;case xs:if(Nl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),1073741823===Rs&&10<(i=Is+500-Bi())){if(Ns){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=$s(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(fl.bind(null,e),i);break}fl(e);break;case Ss:if(Nl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),Ns&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=$s(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==As?r=10*(1073741821-As)-Bi():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(fl.bind(null,e),r);break}fl(e);break;case 5:if(1073741823!==Rs&&null!==Cs){o=Rs;var s=Cs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Nl(e,n),e.timeoutHandle=bn(fl.bind(null,e),r);break}}fl(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Ks.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Es))throw Error(a(327));if(ml(),e===Ts&&t===Os||nl(e,t),null!==ks){var n=Es;Es|=16;for(var r=il();;)try{sl();break}catch(t){rl(e,t)}if(Ji(),Es=n,ys.current=r,1===Ms)throw n=_s,nl(e,t),Nl(e,t),Qs(e),n;if(null!==ks)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,fl(e),Qs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&qi()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&qi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:No(),li(fi),li(hi);break;case 5:Uo(r);break;case 4:No();break;case 13:case 19:li(Lo);break;case 10:eo(r)}n=n.return}Ts=e,ks=Ol(e.current,null),Os=t,Ms=ws,_s=null,As=Rs=1073741823,Cs=null,Ps=0,Ns=!1}function rl(e,t){for(;;){try{if(Ji(),Bo.current=ga,qo)for(var n=jo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Ho=Vo=jo=null,qo=!1,null===ks||null===ks.return)return Ms=1,_s=t,ks=null;e:{var i=e,o=ks.return,a=ks,s=t;if(t=Os,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Lo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(f){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,i,l,a);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Ms&&(Ms=2),s=Ka(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,uo(h,ds(h,l,t));break e;case 1:l=s;var w=h.type,x=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Fs||!Fs.has(x)))){h.effectTag|=4096,h.expirationTime=t,uo(h,ms(h,l,t));break e}}h=h.return}while(null!==h)}ks=cl(ks)}catch(e){t=e;continue}break}}function il(){var e=ys.current;return ys.current=ga,null===e?ga:e}function ol(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<As&&2<e&&(As=e,Cs=t)}function al(e){e>Ps&&(Ps=e)}function sl(){for(;null!==ks;)ks=ul(ks)}function ll(){for(;null!==ks&&!Ni();)ks=ul(ks)}function ul(e){var t=gs(e.alternate,e,Os);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){ks=e;do{var t=ks.alternate;if(e=ks.return,0==(2048&ks.effectTag)){if(t=$a(t,ks,Os),1===Os||1!==ks.childExpirationTime){for(var n=0,r=ks.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ks.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ks.firstEffect),e.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ks:e.firstEffect=ks,e.lastEffect=ks))}else{if(null!==(t=Qa(ks)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ks.sibling))return t;ks=e}while(null!==ks);return Ms===ws&&(Ms=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=zi();return ji(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==zs);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=hl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(ks=Ts=null,Os=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,bs.current=null,mn=Wt;var s=pn();if(dn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var f=0,p=-1,d=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(p=f+c),v!==h||0!==u&&3!==v.nodeType||(d=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===c&&(p=f),y===h&&++g===u&&(d=f),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===d?null:{start:p,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},Wt=!1,Us=i;do{try{dl()}catch(e){if(null===Us)throw Error(a(330));yl(Us,e),Us=Us.nextEffect}}while(null!==Us);Us=i;do{try{for(s=e,l=t;null!==Us;){var w=Us.effectTag;if(16&w&&ze(Us.stateNode,""),128&w){var x=Us.alternate;if(null!==x){var S=x.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(1038&w){case 2:us(Us),Us.effectTag&=-3;break;case 6:us(Us),Us.effectTag&=-3,hs(Us.alternate,Us);break;case 1024:Us.effectTag&=-1025;break;case 1028:Us.effectTag&=-1025,hs(Us.alternate,Us);break;case 4:hs(Us.alternate,Us);break;case 8:cs(s,c=Us,l),ss(c)}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(a(330));yl(Us,e),Us=Us.nextEffect}}while(null!==Us);if(S=gn,x=pn(),w=S.focusedElem,l=S.selectionRange,x!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==l&&dn(w)&&(x=l.start,void 0===(S=l.end)&&(S=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(S,w.value.length)):(S=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(S=S.getSelection(),c=w.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!S.extend&&s>l&&(c=l,l=s,s=c),c=fn(w,s),h=fn(w,l),c&&h&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==h.node||S.focusOffset!==h.offset)&&((x=x.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),s>l?(S.addRange(x),S.extend(h.node,h.offset)):(x.setEnd(h.node,h.offset),S.addRange(x))))),x=[];for(S=w;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(S=x[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Wt=!!mn,gn=mn=null,e.current=n,Us=i;do{try{for(w=e;null!==Us;){var E=Us.effectTag;if(36&E&&os(w,Us.alternate,Us),128&E){x=void 0;var T=Us.ref;if(null!==T){var k=Us.stateNode;switch(Us.tag){case 5:x=k;break;default:x=k}"function"==typeof T?T(x):T.current=x}}Us=Us.nextEffect}}catch(e){if(null===Us)throw Error(a(330));yl(Us,e),Us=Us.nextEffect}}while(null!==Us);Us=null,Ii(),Es=o}else e.current=n;if(Bs)Bs=!1,zs=e,Gs=t;else for(Us=i;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,Us=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Hs?Vs++:(Vs=0,Hs=e):Vs=0,"function"==typeof xl&&xl(n.stateNode,r),Qs(e),Ls)throw Ls=!1,e=Ds,Ds=null,e;return 0!=(8&Es)||qi(),null}function dl(){for(;null!==Us;){var e=Us.effectTag;0!=(256&e)&&ns(Us.alternate,Us),0==(512&e)||Bs||(Bs=!0,Vi(97,(function(){return ml(),null}))),Us=Us.nextEffect}}function ml(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,ji(e,gl)}}function gl(){if(null===zs)return!1;var e=zs;if(zs=null,0!=(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,qi(),!0}function vl(e,t,n){lo(e,t=ds(e,t=Ka(n,t),1073741823)),null!==(e=Zs(e,1073741823))&&Qs(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){lo(n,e=ms(n,e=Ka(t,e),1073741823)),null!==(n=Zs(n,1073741823))&&Qs(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ts===e&&Os===n?Ms===Ss||Ms===xs&&1073741823===Rs&&Bi()-Is<500?nl(e,Os):Ns=!0:Pl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function wl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=Ws(),e,null)),null!==(e=Zs(e,t))&&Qs(e)}gs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:Ba(t),_a();break;case 5:if(Io(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ui(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ha(e,t,n):(ui(Lo,1&Lo.current),null!==(t=Xa(e,t,n))?t.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ya(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(Lo,Lo.current),!r)return null}return Xa(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=di(t,hi.current),no(t,n),i=Xo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Ca(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return kl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Da(null,t,i,e,n);break e;case 11:t=Pa(null,t,i,e,n);break e;case 14:t=Na(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)_a(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),wa=t,i=Sa=!0),i)for(n=Oo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ca(e,t,r,n),_a();t=t.child}return t;case 5:return Io(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Ua(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ca(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Ha(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ca(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Zi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Dr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ca(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Ca(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Na(e,t,i,o=Xi(i.type,o),r,n);case 15:return Ia(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),yo(t,r,i),wo(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Ya(e,t,n)}throw Error(a(156,t.tag))};var xl=null,Sl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)kl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return _l(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Tl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ue:return(e=Tl(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Tl(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case fe:s=16,r=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function _l(e,t,n,r){return(e=Tl(7,e,r,t)).expirationTime=n,e}function Rl(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Al(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Pl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Nl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Il(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ul(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ll(e,t,n,r){var i=t.current,o=Ws(),s=fo.suspense;o=Ys(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=yi(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Xs(i,o),o}function Dl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function zl(e,t,n){var r=new Cl(e,t,n=null!=n&&!0===n.hydrate),i=Tl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=Ke(t);Ot.forEach((function(e){dt(e,t,n)})),Mt.forEach((function(e){dt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Gl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function jl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Dl(a);s.call(e)}}Ll(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Dl(a);l.call(e)}}tl((function(){Ll(t,a,e,i)}))}return Dl(a)}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gl(t))throw Error(a(200));return Vl(e,t,null,n)}zl.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=Yi(Ws(),150,100);Xs(e,t),Bl(e,t)}},gt=function(e){13===e.tag&&(Xs(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=Ws();Xs(e,t=Ys(t,e,null)),Bl(e,t)}},_=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=An(r);if(!i)throw Error(a(90));xe(r),ke(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},I=el,U=function(e,t,n,r,i){var o=Es;Es|=4;try{return ji(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&qi()}},L=function(){0==(49&Es)&&(function(){if(null!==js){var e=js;js=null,e.forEach((function(e,t){Ul(t,e),Qs(t)})),qi()}}(),ml())},D=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&qi()}};var ql,Wl,Yl={Events:[_n,Rn,An,O,E,Dn,function(e){it(e,Ln)},P,N,Qt,st,ml,{current:!1}]};Wl=(ql={findFiberByHostInstance:Mn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Sl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},ql,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Wl?Wl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,t.createPortal=Hl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return ji(99,e.bind(null,t))}finally{Es=n,qi()}},t.hydrate=function(e,t,n){if(!Gl(t))throw Error(a(200));return jl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Gl(t))throw Error(a(200));return jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){jl(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Hl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return jl(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(19),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var E=S.prototype=new x;E.constructor=S,r(E,w.prototype),E.isPureReactComponent=!0;var T={current:null},k=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var R=/\/+/g,A=[];function C(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+I(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+I(s=t[u],u);l+=e(s,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+I(s,u++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,(function(e){return e})):null!=e&&(_(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function D(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),N(e,L,t=C(t,o,r,i)),P(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(v(321));return e}var z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,U,t=C(null,null,t,n)),P(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return D(e,t,null,(function(e){return e})),t},only:function(e){if(!_(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=u,t.PureComponent=S,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(51)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var y=!1,b=null,w=-1,x=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+x;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(e){throw T.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,T.postMessage(null))},i=function(e,n){w=d((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>_(a,n))void 0!==l&&0>_(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>_(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],A=[],C=1,P=null,N=3,I=!1,U=!1,L=!1;function D(e){for(var t=O(A);null!==t;){if(null===t.callback)M(A);else{if(!(t.startTime<=e))break;M(A),t.sortIndex=t.expirationTime,k(R,t)}t=O(A)}}function F(e){if(L=!1,D(e),!U)if(null!==O(R))U=!0,r(B);else{var t=O(A);null!==t&&i(F,t.startTime-e)}}function B(e,n){U=!1,L&&(L=!1,o()),I=!0;var r=N;try{for(D(n),P=O(R);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,N=P.priorityLevel;var l=s(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?P.callback=l:P===O(R)&&M(R),D(n)}else M(R);P=O(R)}if(null!==P)var u=!0;else{var c=O(A);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{P=null,N=r,I=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){U||I||(U=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return O(R)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:z(e)}else a=z(e),l=s;return e={id:C++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,k(A,e),null===O(R)&&e===O(A)&&(L?o():L=!0,i(F,l-s))):(e.sortIndex=a,k(R,e),U||I||(U=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=O(R);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){var r=n(53),i=n(54);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var h=s(c),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(a[h].references++,a[h].updater(f)):a.push({identifier:c,updater:g(f,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,h=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=d||(d=u(t)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){(t=n(55)(!1)).push([e.i,"html,\r\nbody,\r\n#root {\r\n  margin: 0;\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.r(t);class r{constructor(){this[Symbol.toStringTag]="Map",this._map=new Map,this._size=0}toString(){return"{"+Array.from(this.entries2()).map(({key:e,value:t})=>e+":"+t).join(", ")+"}"}forEach(e,t){for(const n of this._map.values())for(const{key:r,value:i}of n)e.call(t,i,r,this)}*keys(){for(const e of this._map.values())for(const{key:t}of e)yield t}*values(){for(const e of this._map.values())for(const{value:t}of e)yield t}[Symbol.iterator](){return this.entries()}set(e,t){return this.set2(e,t),this}set2(e,t){const n=e.hashCode(),r=this._map.get(n);if(r){const n=r.findIndex(t=>t.key.equals(e));if(-1!=n)return r[n].value=t,!1;r.push({key:e,value:t})}else this._map.set(n,[{key:e,value:t}]);return this._size++,!0}has(e){const t=e.hashCode(),n=this._map.get(t);return void 0!==n&&n.some(t=>t.key.equals(e))}get(e){const t=e.hashCode(),n=this._map.get(t),r=n&&n.find(t=>t.key.equals(e));return r&&r.value}getLike(e){for(const t of e.hashCodes()){const n=this._map.get(t),r=n&&n.find(t=>t.key.like(e));if(r)return r}}setLike(e,t){return!this.getLike(e)&&this.set(e,t)}delete(e){const t=e.hashCode(),n=this._map.get(t);if(n){const r=n.findIndex(t=>t.key.equals(e));if(-1!=r)return 1==n.length?this._map.delete(t):n.splice(r,1),this._size--,!0}return!1}deleteLike(e){for(const t of e.hashCodes()){const n=this._map.get(t);if(n){const r=n.findIndex(t=>t.key.like(e));if(-1!=r){const e=n[r];return 1==n.length?this._map.delete(t):n.splice(r,1),this._size--,e}}}}*entries2(){for(const e of this._map.values())yield*e}*entries(){for(const e of this._map.values())for(const{key:t,value:n}of e)yield[t,n]}clear(){this._map.clear(),this._size=0}get size(){return this._size}}const i=Math.PI;console.log("NLA_PRECISION",1/(1<<26)),console.log("NLA_DEBUG",!1);function o(e,...t){0}function a(e,t,n){return e*(1-n)+t*n}const s=Number.prototype.toString;Number.prototype.toString=function(e){return i==this?"PI":s.call(this,e)};const l=(e,t=1/(1<<26))=>Math.abs(e)<=t,u=(e,t,n=1/(1<<26))=>Math.abs(e-t)<=n,c=(e,t,n=1/(1<<26))=>e-t<-n,h=u;function f(e,t,n){if(void 0===n||0==+n)return e(t);if(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0)return NaN;let r=t.toString().split("e");return r=(t=e(+(r[0]+"e"+(r[1]?+r[1]-n:-n)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+n:n))}f.bind(void 0,Math.round),f.bind(void 0,Math.floor),f.bind(void 0,Math.ceil),Math.sqrt(5);function p(e,t,n){return Math.max(t,Math.min(n,e))}function d(e,t,...n){Object.getOwnPropertyNames(t).forEach(r=>{n.includes(r)||(e.hasOwnProperty(r)&&console.warn("target ",e," already has property ",r,e[r]),Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r)))})}let m=e=>e;const g=.017453292519943295;function v(e){switch(typeof e){case"undefined":return"undefined";case"function":return e.toString();case"number":return""+e;case"string":return JSON.stringify(e);case"object":return null==e?"null":e.sce;default:throw new Error}}function y(e,t,n,r){if(l(e))return l(t)?[-r/n]:function(e,t){const n=e*e/4-t;if(n<-1/(1<<26))return[];if(n<=1/(1<<26))return[-e/2];{const t=Math.sqrt(n);return[-e/2-t,-e/2+t]}}(n/t,r/t);const i=e;e=t/i;const o=(3*(t=n/i)-e*e)/3/3,a=o*o*o,s=(2*e*e*e-9*e*t+27*(n=r/i))/27,u=s/2,c=u*u+a;if(c<-1/(1<<26)/8){const t=Math.sqrt(-a),n=-s/(2*t),r=n<-1?-1:n>1?1:n,i=Math.acos(r),o=2*Math.cbrt(t);return[o*Math.cos(i/3)-e/3,o*Math.cos((i+2*Math.PI)/3)-e/3,o*Math.cos((i+4*Math.PI)/3)-e/3]}if(c<=1/(1<<26)/8){if(0==u)return[-e/3];const t=u<0?Math.cbrt(-u):-Math.cbrt(u);return[2*t-e/3,-t-e/3]}{const t=Math.sqrt(c);return[Math.cbrt(-u+t)-Math.cbrt(u+t)-e/3]}}function b(e,...t){return e+"("+t.map(v).join(",")+")"}function w(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function x(e,t,n,r,i){for(r+=i,i+=t;i-- >t;)n[--r]=e[i];return n}function S(e,t,n,r,i,o,a){let s=t+a*n,l=i+a*o;for(;s>t;)r[l-=o]=e[s-=n]}function E(e,t){const n=new Array(e);let r=e;for(;r--;)n[r]=t(r,e);return n}function T(e){let t=e.length,n=-1/0;for(;t--;){const r=e[t];n<r&&(n=r)}return n}Object.map=function(e,t,n){const r={};for(const i in e)r[i]=t.call(n,e[i],i,e);return r},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.equals=function(e){return this==e},Object.defineProperty(Object.prototype,"sce",{get:function(){return this.toSource()}}),Object.defineProperty(Object.prototype,"str",{get:function(){return this.toString()}});class k{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static random(){return new k(Math.random(),Math.random(),Math.random())}static parallel(e,t){return e.dot(t)-e.length()*t.length()}static randomUnit(){const e=2*Math.random()*Math.PI,t=2*Math.random()-1,n=Math.sqrt(1-Math.pow(t,2));return new k(n*Math.cos(e),n*Math.sin(e),t)}static fromAngles(e,t){throw new Error}static fromFunction(e){return new k(e(0),e(1),e(2))}static min(e,t){return new k(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.min(e.z,t.z))}static max(e,t){return new k(Math.max(e.x,t.x),Math.max(e.y,t.y),Math.max(e.z,t.z))}static lerp(e,t,n){return new k(e.x*(1-n)+t.x*n,e.y*(1-n)+t.y*n,e.z*(1-n)+t.z*n)}static fromArray(e){return new k(e[0],e[1],e[2])}static angleBetween(e,t){return e.angleTo(t)}static zip(e,...t){return new k(e.apply(void 0,t.map(e=>e.x)),e.apply(void 0,t.map(e=>e.y)),e.apply(void 0,t.map(e=>e.z)))}static normalOnPoints(e,t,n){return A(e,t,n),e.to(t).cross(e.to(n))}static add(...e){A(...e);let t=0,n=0,r=0,i=e.length;for(;i--;)t+=e[i].x,n+=e[i].y,r+=e[i].z;return new k(t,n,r)}static sub(...e){A(...e);let t=e[0].x,n=e[0].y,r=e[0].z,i=e.length;for(;i--;)t-=e[i].x,n-=e[i].y,r-=e[i].z;return new k(t,n,r)}static pack(e,t,n=0,r=0,i=e.length-n){const o=t||new Float32Array(3*i);o.length,o.length;let a=i,s=n,l=r;for(;a--;){const t=e[s++];o[l++]=t.x,o[l++]=t.y,o[l++]=t.z}return o}static unpack(e,t,n=0,r=0,i=(e.length-n)/3){(t=t||new Array(i)).length;let o=i,a=n,s=r;for(;o--;)t[s++]=new k(e[a++],e[a++],e[a++]);return t}static packXY(e,t,n=0,r=0,i=e.length-n){const o=t||new Float32Array(2*i);o.length;let a=i,s=n,l=r;for(;a--;){const t=e[s++];o[l++]=t.x,o[l++]=t.y}return o}static unpackXY(e,t,n=0,r=0,i=Math.min(e.length/2,t&&t.length||1/0)-r){(t=t||new Array(i)).length,e.length;let o=i,a=n,s=r;for(;o--;)t[s++]=new k(e[a++],e[a++],0);return t}static perturbed(e,t){return e.perturbed(t)}static polar(e,t,n=0){return new k(e*Math.cos(t),e*Math.sin(t),n)}static sphere(e,t,n=1){return new k(n*Math.cos(t)*Math.cos(e),n*Math.cos(t)*Math.sin(e),n*Math.sin(t))}static inverseLerp(e,t,n){const r=e.to(t);return e.to(n).dot(r)/r.squared()}get 0(){return this.x}get 1(){return this.y}get 2(){return this.z}get u(){return this.x}get v(){return this.y}perturbed(e=1/(1<<26)*.8){return this.map(t=>t+(Math.random()-.5)*e)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}e(e){return 0==e?this.x:1==e?this.y:this.z}negated(){return new k(-this.x,-this.y,-this.z)}abs(){return new k(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}plus(e){return A(e),new k(this.x+e.x,this.y+e.y,this.z+e.z)}schur(e){return new k(this.x*e.x,this.y*e.y,this.z*e.z)}divv(e){return new k(this.x/e.x,this.y/e.y,this.z/e.z)}minus(e){return A(e),new k(this.x-e.x,this.y-e.y,this.z-e.z)}to(e){return A(e),e.minus(this)}times(e){return new k(this.x*e,this.y*e,this.z*e)}div(e){return new k(this.x/e,this.y/e,this.z/e)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lerp(e,t){return A(e),k.lerp(this,e,t)}squared(){return this.dot(this)}distanceTo(e){return A(e),Math.hypot(this.x-e.x,this.y-e.y,this.z-e.z)}distanceToSquared(e){return A(e),this.minus(e).squared()}toSource(){return k.NAMEMAP.get(this)||this.toString()}nonParallelVector(){const e=this.abs();return e.x<=e.y&&e.x<=e.z?k.X:e.y<=e.x&&e.y<=e.z?k.Y:k.Z}slerp(e,t){A(e);const n=Math.sin,r=this.angleTo(e);return this.times(n((1-t)*r)/n(r)).plus(e.times(n(t*r)/n(r)))}min(e){return new k(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z))}max(e){return new k(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z))}equals(e){return this==e||this.x==e.x&&this.y==e.y&&this.z==e.z}cross(e){return new k(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}minElement(){return Math.min(this.x,this.y,this.z)}maxElement(){return Math.max(this.x,this.y,this.z)}toArray(e=3){return[this.x,this.y,this.z].slice(0,e)}getPerpendicular(){if(l(this.x)&&l(this.y)){if(l(this.z))throw new Error("zero vector");return k.Y}return new k(-this.y,this.x,0)}dim(){return 3}els(){return[this.x,this.y,this.z]}angleXY(){return Math.atan2(this.y,this.x)}lengthXY(){return Math.hypot(this.x,this.y)}squaredXY(){return this.x*this.x+this.y*this.y}xy(){return new k(this.x,this.y,0)}map(e){return new k(e(this.x,"x"),e(this.y,"y"),e(this.z,"z"))}toString(e){return e=e||m,k.NAMEMAP.get(this)||"V("+[this.x,this.y,this.z].map(e).join(", ")+")"}angleTo(e){return arguments.length,A(e),this.likeO(),e.likeO(),Math.acos(Math.min(1,this.dot(e)/this.length()/e.length()))}angleRelativeNormal(e,t){return arguments.length,A(e,t),o(),Math.atan2(this.cross(e).dot(t),this.dot(e))}isParallelTo(e){A(e),this.likeO(),e.likeO();const t=this.dot(e);return u(this.squared()*e.squared(),t*t)}isPerpendicularTo(e){return A(e),this.likeO(),e.likeO(),l(this.dot(e))}isReverseDirTo(e){A(e),this.likeO(),e.likeO();const t=this.dot(e);return u(Math.sqrt(this.squared()*e.squared()),t)}length(){return Math.hypot(this.x,this.y,this.z)}likeO(){return this.like(k.O)}like(e){return e===this||e instanceof k&&(u(this.x,e.x)&&u(this.y,e.y)&&u(this.z,e.z))}likeOrReversed(e){return u(Math.abs(this.dot(e)),Math.sqrt(this.squared()*e.squared()))}unit(){return this.likeO(),this.div(this.length())}normalized(){throw new Error("documentation stub. use .unit()")}toLength(e){return this.times(e/this.length())}projectedOn(e){return A(e),e.times(this.dot(e)/e.dot(e))}rejectedFrom(e){return A(e),this.minus(e.times(this.dot(e)/e.dot(e)))}rejectedFrom1(e){return A(e),e.hasLength(1),this.minus(e.times(this.dot(e)))}rejectedLength(e){return A(e),Math.sqrt(this.dot(this)-Math.pow(this.dot(e),2)/e.dot(e))}rejected1Length(e){return A(e),e.hasLength(1),Math.sqrt(this.dot(this)-Math.pow(this.dot(e),2))}hasLength(e){return u(e,this.length())}absSum(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}minAbsElement(){return Math.min(Math.abs(this.x),Math.abs(this.y),Math.min(this.z))}maxAbsElement(){return Math.max(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}maxAbsDim(){const e=Math.abs(this.x),t=Math.abs(this.y),n=Math.abs(this.z);return e>=t?e>=n?0:2:t>=n?1:2}minAbsDim(){const e=Math.abs(this.x),t=Math.abs(this.y),n=Math.abs(this.z);return e<t?e<n?0:2:t<n?1:2}withElement(e,t){return["x","y","z"].includes(e),"x"==e?new k(t,this.y,this.z):"y"==e?new k(this.x,t,this.z):new k(this.x,this.y,t)}hashCode(){function e(e){return~~(e*(1<<28))}return~~(31*(31*e(this.x)+e(this.y))+e(this.z))}hashCodes(){const e=~~(31*(31*~~(this.x*(1<<28)-.5)+~~(this.y*(1<<28)-.5))+~~(this.z*(1<<28)-.5));return[~~e,~~(e+961),~~(e+31),~~(e+31+961),~~(e+1),~~(e+1+961),~~(e+1+31),~~(e+1+31+961)]}compareTo(e){return this.x!=e.x?this.x-e.x:this.y!=e.y?this.y-e.y:this.z-e.z}compareTo2(e,t=1/(1<<26)){return h(this.x,e.x,t)?h(this.y,e.y,t)?h(this.z,e.z,t)?0:this.z-e.z:this.y-e.y:this.x-e.x}toAngles(){return{theta:Math.atan2(this.y,this.x),phi:Math.asin(this.z/this.length())}}}function O(e,t,n){if(3==arguments.length)return new k(parseFloat(e),parseFloat(t),parseFloat(n));if(2==arguments.length)return new k(parseFloat(e),parseFloat(t),0);if(1==arguments.length&&"object"==typeof e){if(e instanceof k)return e;if(e instanceof Array||e instanceof Float32Array||e instanceof Float64Array){if(2==e.length)return new k(parseFloat(e[0]),parseFloat(e[1]),0);if(3==e.length)return new k(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]))}else if("x"in e&&"y"in e)return new k(parseFloat(e.x),parseFloat(e.y),"z"in e?parseFloat(e.z):0)}throw new Error("invalid arguments"+arguments)}k.O=new k(0,0,0),k.X=new k(1,0,0),k.Y=new k(0,1,0),k.Z=new k(0,0,1),k.XY=new k(1,1,0),k.XYZ=new k(1,1,1),k.INF=new k(1/0,1/0,1/0),k.UNITS=[k.X,k.Y,k.Z],k.NAMEMAP=(new r).set(k.O,"V3.O").set(k.X,"V3.X").set(k.Y,"V3.Y").set(k.Z,"V3.Z").set(k.XYZ,"V3.XYZ").set(k.INF,"V3.INF");class M{constructor(e){this.v=e,Float64Array}static fromFunction(e,t){const n=new Float64Array(e);let r=e;for(;r--;)n[r]=t(r);return new M(n)}static random(e){return M.fromFunction(e,e=>Math.random())}static from(...e){return e[0]instanceof Float64Array||e.every(e=>"number"==typeof e),new M(e[0]instanceof Float64Array?e[0]:Float64Array.from(e))}static Zero(e){let t=0;const n=new Float64Array(e);for(;t--;)n[t]=0;return new M(n)}static Unit(e,t){let n=0;const r=new Float64Array(e);for(;n--;)r[n]=+(n==t);return new M(r)}static pack(e,t,n=0,r=0,i=e.length-n){const o=e[0].dim(),a=t||new Float32Array(o*i);a.length,a.length;let s=i,l=n,u=r;for(;s--;){const t=e[l++];for(let e=0;e<o;e++)a[u++]=t.v[e]}return a}static lerp(e,t,n){e.dim(),t.dim();const r=new Float64Array(e.v.length);let i=e.v.length;for(;i--;)r[i]=e.v[i]*(1-n)+t.v[i]*n;return new M(r)}static add(...e){const t=e[0].v.length,n=new Float64Array(t);let r=e.length;for(;r--;){let i=t;for(;i--;)n[i]+=e[r].v[i]}return new M(n)}static fromV3AndWeight(e,t){return new M(new Float64Array([e.x*t,e.y*t,e.z*t,t]))}get x(){return this.v[0]}get y(){return this.v[1]}get z(){return this.v[2]}get w(){return this.v[3]}[Symbol.iterator](){return this.v[Symbol.iterator]()}dim(){return this.v.length}e(e){if(0>e||e>=this.v.length)throw new Error("array index out of bounds");return this.v[e]}plus(e){const t=this.v,n=e.v,r=new Float64Array(t.length);let i=t.length;for(;i--;)r[i]=t[i]+n[i];return new M(r)}minus(e){const t=this.v,n=e.v,r=new Float64Array(t.length);let i=t.length;for(;i--;)r[i]=t[i]-n[i];return new M(r)}times(e){const t=this.v,n=new Float64Array(t.length);let r=t.length;for(;r--;)n[r]=t[r]*e;return new M(n)}div(e){const t=this.v,n=new Float64Array(t.length);let r=t.length;for(;r--;)n[r]=t[r]/e;return new M(n)}dot(e){this.dim,e.dim;let t=0;const n=this.v,r=e.v;let i=n.length;for(;i--;)t+=n[i]*r[i];return t}cross(e){const t=new Float64Array(3);return t[0]=this.v[1]*e.v[2]-this.v[2]*e.v[1],t[1]=this.v[2]*e.v[0]-this.v[0]*e.v[2],t[2]=this.v[0]*e.v[1]-this.v[1]*e.v[0],new M(t)}schur(e){const t=this.v,n=e.v,r=new Float64Array(t.length);let i=t.length;for(;i--;)r[i]=t[i]*n[i];return new M(r)}equals(e){if(e===this)return!0;if(e.constructor!==M)return!1;if(this.v.length!=e.v.length)return!1;let t=this.v.length;for(;t--;)if(this.v[t]!==e.v[t])return!1;return!0}like(e){if(e===this)return!0;if(e.constructor!==M)return!1;if(this.v.length!=e.v.length)return!1;let t=this.v.length;for(;t--;)if(!u(this.v[t],e.v[t]))return!1;return!0}map(e){return new M(this.v.map(e))}toString(e){return e=e||(e=>+e.toFixed(6)),"Vector("+this.v.map(e).join(", ")+")"}toSource(){return b("VV",...this.v)}angleTo(e){return this.isZero(),e.isZero(),Math.acos(p(this.dot(e)/this.length()/e.length(),-1,1))}isParallelTo(e){return this.isZero(),e.isZero(),u(Math.sqrt(this.lengthSquared()*e.lengthSquared()),Math.abs(this.dot(e)))}isPerpendicularTo(e){return this.isZero(),e.isZero(),l(this.dot(e))}isZero(){return l(this.length())}length(){return Math.hypot.apply(void 0,this.v)}lengthSquared(){let e=0;const t=this.v;let n=t.length;for(;n--;)e+=t[n]*t[n];return e}unit(){const e=this.length();if(l(e))throw new Error("cannot normalize zero vector");return this.div(this.length())}normalized(){throw new Error("documentation stub. use .unit()")}asRowMatrix(){return new R(this.v.length,1,this.v)}asColMatrix(){return new R(1,this.v.length,this.v)}projectedOn(e){return e.times(this.dot(e)/e.dot(e))}rejectedOn(e){return this.minus(e.times(this.dot(e)/e.dot(e)))}to(e){return e.minus(this)}hasLength(e){return u(e,this.length())}V3(){return new k(this.v[0],this.v[1],this.v[2])}p3(){this.v.length;const e=this.v[3];return new k(this.v[0]/e,this.v[1]/e,this.v[2]/e)}transposed(){return new R(this.v.length,1,this.v)}}function _(...e){return new M(new Float64Array(e))}class R{constructor(e,t,n){this.width=e,this.height=t,this.m=n,o(),o(),n.length,n.length}static random(e,t){return R.fromFunction(e,t,()=>Math.random())}static fromFunction(e,t,n){const r=new Float64Array(t*e);let i=t*e;for(;i--;)r[i]=n(Math.floor(i/e),i%e,i);return new R(e,t,r)}static identityN(e){const t=new Float64Array(e*e);let n=e*(e+1);for(;n;)n-=e+1,t[n]=1;return new R(e,e,t)}static permutation(e,t,n){o(),o();const r=new Float64Array(e*e);let i=e*(e+1);for(;i;)i-=e+1,r[i]=1;return r[t*e+t]=0,r[n*e+n]=0,r[t*e+n]=1,r[n*e+t]=1,new R(e,e,r)}static fromRowArrays(...e){if(0==e.length)throw new Error("cannot have 0 vector");const t=e.length,n=e[0].length,r=new Float64Array(t*n);x(e[0],0,r,0,n);for(let i=1;i<t;i++){if(e[i].length!=n)throw new Error("all row arrays must be the same length");x(e[i],0,r,i*n,n)}return this.new(n,t,r)}static fromColVectors(e){return R.fromColArrays(...e.map(e=>e.v))}static forWidthHeight(e,t){return new R(e,t,new Float64Array(e*t))}static fromColArrays(...e){if(0==e.length)throw new Error("cannot have 0 vector");const t=e.length,n=e[0].length,r=new Float64Array(n*t);S(e[0],0,1,r,0,t,n);for(let i=1;i<t;i++){if(e[i].length!=n)throw new Error("all col arrays must be the same length");S(e[i],0,1,r,i,t,n)}return this.new(t,n,r)}static product(...e){const[t,n]=Array.isArray(e[0])?[e[0],e[1]]:[e,void 0];if(0==t.length)throw new Error("Can't guess matrix size.");return 1==t.length?R.copy(t[0],n):R.copy(t.reduce((e,t)=>e.times(t)),n)}static jacobi(e,t,n=e(t),r=1e-6){const i=R.forWidthHeight(t.length,n.length);for(let o=0;o<t.length;o++){t[o]+=r;const a=e(t);for(let e=0;e<n.length;e++){const t=(a[e]-n[e])/r;i.setEl(e,o,t)}t[o]-=r}return i}static copy(e,t=e.new()){e.width,t.width,e.height,t.height;const n=e.m,r=t.m;let i=n.length;for(;i--;)r[i]=n[i];return t}static new(e,t,n){return new R(e,t,n)}copy(){return R.copy(this)}e(e,t){return 0<=e&&this.height,0<=t&&this.width,this.m[e*this.width+t]}setEl(e,t,n){0<=e&&this.height,0<=t&&this.width,this.m[e*this.width+t]=n}plus(e){this.width,e.width,this.height,e.height;const t=this.new();let n=this.m.length;for(;n--;)t.m[n]=this.m[n]+e.m[n];return t}minus(e){this.width,e.width,this.height,e.height;const t=this.new();let n=this.m.length;for(;n--;)t.m[n]=this.m[n]-e.m[n];return t}mulScalar(e){const t=this.new();let n=this.m.length;for(;n--;)t.m[n]=this.m[n]*e;return t}divScalar(e){const t=this.new();let n=this.m.length;for(;n--;)t.m[n]=this.m[n]/e;return t}new(){return new R(this.width,this.height,new Float64Array(this.width*this.height))}toString(e,t,n){(e=e||(e=>e.toFixed(6)))(0),e(0),!t||(t.length,this.width),!n||(n.length,this.height);const r=Array.from(this.m).map(e),i=E(this.height,e=>r.slice(e*this.width,(e+1)*this.width));t&&i.unshift(Array.from(t)),n&&i.forEach((e,r)=>e.unshift(n[r-(t?1:0)]||""));const o=E(this.width,e=>T(i.map(t=>t[e].length)));return i.map((e,r)=>e.map((e,i)=>(0==r&&t||0==i&&n?String.prototype.padEnd:String.prototype.padStart).call(e,o[i])).join("  ")).map(e=>e+"\n").join("")}row(e){0<=e&&this.height;const t=new Float64Array(this.width);return x(this.m,e*this.width,t,0,this.width),new M(t)}col(e){0<=e&&this.width;const t=new Float64Array(this.height);return S(this.m,e,this.width,t,0,1,this.height),new M(t)}dim(){return{width:this.width,height:this.height}}dimString(){return this.width+"x"+this.height}equals(e){if(e.constructor!=this.constructor)return!1;if(this.width!=e.width||this.height!=e.height)return!1;let t=this.m.length;for(;t--;)if(this.m[t]!=e.m[t])return!1;return!0}equalsMatrix(e,t=1/(1<<26)){if(this.width!=e.width||this.height!=e.height)return!1;let n=this.m.length;for(;n--;)if(Math.abs(this.m[n]-e.m[n])>=t)return!1;return!0}hashCode(){let e=0,t=this.m.length;for(;t--;)e=31*e+~~(this.m[t]*(1<<28));return e}isZero(){let e=this.m.length;for(;e--;)if(!l(this.m[e]))return!1;return!0}isOrthogonal(){return this.isSquare()&&this.transposed().times(this).equalsMatrix(R.identityN(this.width))}luDecomposition(){o(0,this.dim().toSource());const e=this.width,t=this.asRowArrays(Float64Array),n=E(e,t=>new Float64Array(e)),r=R.identityN(e).asRowArrays(Float64Array);let i=0;for(let o=0;o<e;o++){let a=0,s=-1,l=0;for(let n=i;n<e;n++){const e=t[n][o];l+=+(0!=e),Math.abs(e)>a&&(a=Math.abs(e),s=n)}if(0!=a){if(w(t,i,s),w(n,i,s),w(r,i,s),n[o][o]=1,1<l)for(let r=i+1;r<e;r++){const a=t[r][o]/t[i][o];n[r][o]=a;for(let n=o;n<e;n++)t[r][n]-=a*t[i][n]}i++}}return{L:R.fromRowArrays(...n),U:R.fromRowArrays(...t),P:R.fromRowArrays(...r)}}gauss(){const e=this.width,t=this.height,n=this.asRowArrays(Float64Array),r=E(t,t=>new Float64Array(e)),i=R.identityN(t).asRowArrays(Float64Array);let o=0;for(let a=0;a<e;a++){let s=0,l=-1,u=0;for(let e=o;e<t;e++){const t=n[e][a];u+=+(0!=t),Math.abs(t)>s&&(s=Math.abs(t),l=e)}if(0!=s){if(w(n,o,l),w(r,o,l),w(i,o,l),r[o][a]=1,1<u)for(let i=o+1;i<t;i++){const t=n[i][a]/n[o][a];r[i][a]=t;for(let r=a;r<e;r++)n[i][r]-=t*n[o][r]}o++}}return{L:R.fromRowArrays(...r),U:R.fromRowArrays(...n),P:R.fromRowArrays(...i)}}qrDecompositionGivensRotation(){const e=this.copy();function t(e,t,n,r,i){const o=R.identityN(e);return o.setEl(t,t,r),o.setEl(n,n,r),o.setEl(t,n,i),o.setEl(n,t,-i),o}let n=R.identityN(this.height);for(let r=0;r<this.width;r++)for(let i=r+1;i<this.height;i++){const o=e.e(r,r),a=e.e(i,r);if(0==a)continue;const s=Math.hypot(o,a),l=o/s,u=a/s;for(let t=r;t<this.width;t++){const n=e.e(r,t)*l+e.e(i,t)*u,o=e.e(i,t)*l-e.e(r,t)*u;e.setEl(r,t,n),e.setEl(i,t,o)}n=t(this.height,r,i,l,u).times(n)}return{Q:n.transposed(),R:e}}isPermutation(){if(!this.isSquare())return!1;if(this.m.some(e=>!l(e)&&!u(1,e)))return!1;return!this.asRowArrays(Array).some(e=>1!=e.filter(e=>u(1,e)).length)&&!this.asColArrays(Array).some(e=>1!=e.filter(e=>u(1,e)).length)}isDiagonal(e){let t=this.m.length;for(;t--;)if(0!=t%(this.width+1)&&!l(this.m[t]))return!1;return!0}isIdentity(e){return this.isLowerUnitriangular(e)&&this.isUpperTriangular(e)}isUpperTriangular(e=1/(1<<26)){if(!this.isSquare())return!1;for(let t=1;t<this.height;t++)for(let n=0;n<t;n++)if(!l(this.m[t*this.width+n],e))return!1;return!0}isSymmetric(e=1/(1<<26)){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let n=t+1;n<this.width;n++){const r=this.m[t*this.width+n],i=this.m[n*this.width+t];if(!u(r,i,e))return!1}return!0}solveLinearSystem(e){const{L:t,U:n,P:r}=this.luDecomposition(),i=t.solveForwards(r.timesVector(e));return n.solveBackwards(i)}isLowerUnitriangular(e=1/(1<<26)){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let n=t;n<this.width;n++){const r=this.m[t*this.width+n];if(t==n?!u(1,r,e):!l(r,e))return!1}return!0}isLowerTriangular(e=1/(1<<26)){if(!this.isSquare())return!1;for(let t=0;t<this.height-1;t++)for(let n=t+1;n<this.width;n++)if(!l(this.m[t*this.width+n],e))return!1;return!0}solveBackwards(e){A(e),this.height,e.dim(),this.isUpperTriangular(),this.str;const t=new Float64Array(this.width);let n=this.height;for(;n--;){let r=e.v[n];for(let e=n+1;e<this.width;e++)r-=t[e]*this.e(n,e);t[n]=r/this.e(n,n)}return new M(t)}solveBackwardsMatrix(e){const t=new Array(e.width);let n=e.width;for(;n--;)t[n]=this.solveBackwards(e.col(n));return R.fromColVectors(t)}solveForwardsMatrix(e){const t=new Array(e.width);let n=e.width;for(;n--;)t[n]=this.solveForwards(e.col(n));return R.fromColVectors(t)}solveForwards(e){A(e),this.height,e.dim(),o(0,this.toString());const t=new Float64Array(this.width);for(let n=0;n<this.height;n++){let r=e.v[n];for(let e=0;e<n;e++)r-=t[e]*this.e(n,e);t[n]=r/this.e(n,n)}return new M(t)}rank(){const e=this.gauss().U;let t=this.height;for(;t--&&e.row(t).isZero(););return t+1}rowsIndependent(){return this.height==this.rank()}colsIndependent(){return this.width==this.rank()}asRowArrays(e=Float64Array){return E(this.height,t=>this.rowArray(t,e))}asColArrays(e=Float64Array){return E(this.width,t=>this.colArray(t,e))}rowArray(e,t=Float64Array){const n=new t(this.width);return x(this.m,e*this.width,n,0,this.width)}colArray(e,t=Float64Array){const n=new t(this.width);return S(this.m,e,this.height,n,0,1,this.height),n}subMatrix(e,t,n,r){e+t<=this.width&&this.height;const i=new Float64Array(t*r);return function(e,t,n,r,i,o,a,s){for(let l=0;l<s;l++)x(e,t+n*l,r,i+o*l,a)}(this.m,e,this.width,i,0,t,r,t),new R(t,r,i)}map(e){return new R(this.width,this.height,this.m.map(e))}dimEquals(e){return this.width==e.width&&this.height==e.height}inversed(){if(this.isSquare()){if(2==this.width)return this.inversed2();if(3==this.width)return this.inversed3();if(4==this.width)return this.inversed4()}const{L:e,U:t,P:n}=this.luDecomposition(),r=e.solveForwardsMatrix(n);return t.solveBackwardsMatrix(r)}inversed2(){o();const e=R.forWidthHeight(2,2),t=this.m,n=e.m,r=t[0]*t[3]-t[1]*n[2];return n[0]=t[3]/r,n[1]=-t[2]/r,n[2]=-t[1]/r,n[3]=t[0]/r,e}inversed3(e=R.forWidthHeight(3,3)){o(),o();const t=this.m,n=e.m;n[0]=t[4]*t[8]-t[5]*t[7],n[1]=-t[1]*t[8]+t[2]*t[7],n[2]=t[1]*t[5]-t[2]*t[4],n[3]=-t[3]*t[8]+t[5]*t[6],n[4]=t[0]*t[8]-t[2]*t[6],n[5]=-t[0]*t[5]+t[2]*t[3],n[6]=t[3]*t[7]-t[4]*t[6],n[7]=-t[0]*t[7]+t[1]*t[6],n[8]=t[0]*t[4]-t[1]*t[3];const r=t[0]*n[0]+t[1]*n[3]+t[2]*n[6];let i=9;for(;i--;)n[i]/=r;return e}inversed4(e=R.forWidthHeight(4,4)){o(),o();const t=this.m,n=e.m;n[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],n[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],n[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],n[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],n[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],n[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],n[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],n[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],n[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],n[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],n[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],n[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],n[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],n[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],n[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],n[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];const r=t[0]*n[0]+t[1]*n[4]+t[2]*n[8]+t[3]*n[12];let i=16;for(;i--;)n[i]/=r;return e}canMultiply(e){return this.width==e.height}times(e){this.canMultiply(e);const t=e.width,n=this.height,r=this.width,i=new Float64Array(t*n);let o=n;for(;o--;){let n=t;for(;n--;){let a=0,s=r;for(;s--;)a+=this.m[o*r+s]*e.m[s*t+n];i[o*t+n]=a}}return new R(t,n,i)}timesVector(e){A(e),this.width,e.dim();const t=this.height,n=this.width,r=new Float64Array(t);let i=t;for(;i--;){let t=0,o=n;for(;o--;)t+=this.m[i*n+o]*e.v[o];r[i]=t}return new M(r)}transposed(){const e=this.height,t=this.width,n=new Float64Array(e*t);let r=t;for(;r--;){let i=e;for(;i--;)n[r*e+i]=this.m[i*t+r]}return new R(e,t,n)}transpose(){const e=this.height,t=this.width,n=this.m;let r=e;for(;r--;){let i=Math.min(r,t);for(;i--;){const o=n[r*t+i];n[r*t+i]=n[i*e+r],n[i*e+r]=o}}this.width=e,this.height=t}isSquare(){return this.height==this.width}diagonal(){if(!this.isSquare())throw new Error("!!");const e=new Float64Array(this.width);let t=this.width*(this.width+1),n=this.width;for(;n--;)t-=this.width+1,e[n]=this.m[t];return new M(e)}maxEl(){return Math.max.apply(void 0,this.m)}minEl(){return Math.min.apply(void 0,this.m)}maxAbsColSum(){let e=0,t=this.width;for(;t--;){let n=0,r=this.height;for(;r--;)n+=Math.abs(this.m[r*this.width+t]);e=Math.max(e,n)}return e}maxAbsRowSum(){let e=0,t=this.height;for(;t--;){let n=0,r=this.width;for(;r--;)n+=Math.abs(this.m[t*this.width+r]);e=Math.max(e,n)}return e}getTriangularDeterminant(){this.isUpperTriangular()||this.isLowerTriangular();let e=1,t=this.width*(this.width+1);for(;t;)t-=this.width+1,e*=this.m[t];return e}getDeterminant(){return this.luDecomposition().U.getTriangularDeterminant()}hasFullRank(){return Math.min(this.width,this.height)==this.rank()}permutationAsIndexMap(){o();const e=new Array(this.height);let t=this.height;for(;t--;){const n=t*this.width;let r=n;for(;this.m[r]<.5;)r++;e[t]=r-n}return e}getDependentRowIndexes(e=this.gauss()){const{L:t,U:n,P:r}=e,i=new Array(this.height);let o=this.height;for(;o--;){if(!(n.row(o).length()<1/(1<<26)))break;i[o]=!0}let a=this.height;for(;a--;)if(i[a]){let e=Math.min(a,this.width);for(;e--;)0!==t.e(a,e)&&(i[e]=!0)}console.log("m\n",this.toString(e=>""+e)),console.log("L\n",t.toString(e=>""+e)),console.log("U\n",n.toString(e=>""+e)),console.log("P\n",r.toString(e=>""+e));const s=r.permutationAsIndexMap();return i.map((e,t)=>e&&s[t]).filter(e=>null!=e)}lerp(e,t,n=this.new()){this.width==e.width&&(this.height,e.height);const r=1-t;let i=this.m.length;for(;i--;)n.m[i]=r*this.m[i]+t*e.m[i];return n}}function A(...e){return!0}const C={normal1:k.X,w:0},P={normal1:k.Y,w:0},N={normal1:k.Z,w:0};class I{mirror(e){return this.transform(j.mirror(e))}mirroredX(){return this.mirror(C)}mirrorY(){return this.mirror(P)}mirrorZ(){return this.mirror(N)}project(e){return this.transform(j.project(e))}projectXY(){return this.transform(j.project(N))}projectYZ(){return this.transform(j.project(C))}projectZX(){return this.transform(j.project(P))}translate(...e){return this.transform(j.translate.apply(void 0,e),b.call(void 0,".translate",...e))}scale(...e){return this.transform(j.scale.apply(void 0,e),b.call(void 0,".scale",...e))}rotateX(e){return this.transform(j.rotateX(e),`.rotateX(${e})`)}rotateY(e){return this.transform(j.rotateY(e),`.rotateY(${e})`)}rotateZ(e){return this.transform(j.rotateZ(e),`.rotateZ(${e})`)}rotate(e,t,n){return this.transform(j.rotateLine(e,t,n),b(".rotate",e,t,n))}rotateAB(e,t){return this.transform(j.rotateAB(e,t),b(".rotateAB",e,t))}eulerZXZ(e,t,n){throw new Error}shearX(e,t){return this.transform(new j([1,e,t,0,0,1,0,0,0,0,1,0,0,0,0,1]))}foo(){return this.transform(j.FOO)}bar(){return this.transform(j.BAR)}visit(e,...t){let n=Object.getPrototypeOf(this);for(;!e.hasOwnProperty(n.constructor.name)&&n!==I.prototype;)n=Object.getPrototypeOf(n);if(e.hasOwnProperty(n.constructor.name))return e[n.constructor.name].apply(this,t);throw new Error("No implementation for "+this.constructor.name)}}const U=new RegExp("^(abstract|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|undefined|var|void|volatile|while|with)$");const L=[];function D(e,t=0){return void 0===e?"undefined":null===e?"null":e.toSource()}function F(e,t){e.prototype.toSource||Object.defineProperty(e.prototype,"toSource",{value:t,writable:!0,configurable:!0,enumerable:!1})}F(Boolean,Boolean.prototype.toString),F(Function,Function.prototype.toString),F(Number,Number.prototype.toString),F(RegExp,RegExp.prototype.toString),F(Date,(function(){return"new Date("+this.getTime()+")"})),F(String,(function(){return JSON.stringify(this)})),F(Array,(function(){if(L.includes(this))return"CIRCULAR_REFERENCE";L.push(this);let e="[";for(let t=0;t<this.length;t++)e+="\n\t"+D(this[t]).replace(/\r\n|\n|\r/g,"$&\t"),t!==this.length-1&&(e+=",");return e+=0===this.length?"]":"\n]",L.pop(),e})),F(Object,(function(){if(L.includes(this))return"CIRCULAR_REFERENCE";L.push(this);let e="{";const t=Object.keys(this).sort();for(let r=0;r<t.length;r++){const i=t[r];e+="\n\t"+((/^[a-z_$][0-9a-z_$]*$/gi.test(n=i)&&!U.test(n)?i:JSON.stringify(i))+": ")+D(this[i]).replace(/\r\n|\n|\r/g,"$&\t"),r!==t.length-1&&(e+=",")}var n;return e+=0===t.length?"}":"\n}",L.pop(),e}));class B extends I{constructor(e=k.INF,t=k.INF.negated()){super(),this.min=e,this.max=t}static forXYZ(e,t,n){return new B(k.O,new k(e,t,n))}static forAABBs(e){const t=new B;for(const n of e)t.addAABB(n);return t}addPoint(e){return this.min=this.min.min(e),this.max=this.max.max(e),this}addPoints(e){return e.forEach(e=>this.addPoint(e)),this}addAABB(e){return this.addPoint(e.min),this.addPoint(e.max),this}withoutAABB(e){let t,n;const r=this.volume(),i=this.size();let o=-1/0;for(let a=0;a<3;a++){const s=["x","y","z"][a],l=e.min[s]-this.min[s]>this.max[s]-e.max[s],u=l?this.min[s]:Math.max(this.min[s],e.max[s]),c=l?Math.min(this.max[s],e.min[s]):this.max[s],h=(c-u)*r/i[s];h>o&&(o=h,t=this.min.withElement(s,u),n=this.max.withElement(s,c))}return new B(t,n)}getIntersectionAABB(e){return new B(this.min.max(e.min),this.max.min(e.max))}touchesAABB(e){return!(this.min.x>e.max.x||this.max.x<e.min.x||this.min.y>e.max.y||this.max.y<e.min.y||this.min.z>e.max.z||this.max.z<e.min.z)}touchesAABBfuzzy(e,t=1/(1<<26)){return!(c(e.max.x,this.min.x,t)||c(this.max.x,e.min.x,t)||c(e.max.y,this.min.y,t)||c(this.max.y,e.min.y,t)||c(e.max.z,this.min.z,t)||c(this.max.z,e.min.z,t))}intersectsAABB(e){return!(this.min.x>=e.max.x||this.max.x<=e.min.x||this.min.y>=e.max.y||this.max.y<=e.min.y||this.min.z>=e.max.z||this.max.z<=e.min.z)}intersectsAABB2d(e){return!(this.min.x>=e.max.x||this.max.x<=e.min.x||this.min.y>=e.max.y||this.max.y<=e.min.y)}containsPoint(e){return this.min.x<=e.x&&this.min.y<=e.y&&this.min.z<=e.z&&this.max.x>=e.x&&this.max.y>=e.y&&this.max.z>=e.z}containsSphere(e,t){return this.distanceToPoint(e)>t}intersectsSphere(e,t){return this.distanceToPoint(e)<=t}distanceToPoint(e){const t=e.x,n=e.y,r=e.z,i=this.min,o=this.max;return this.containsPoint(e)?Math.max(i.x-t,t-o.x,i.y-n,n-o.y,i.z-r,r-o.z):e.distanceTo(new k(p(t,i.x,o.x),p(n,i.y,o.y),p(r,i.z,o.z)))}containsAABB(e){return this.containsPoint(e.min)&&this.containsPoint(e.max)}likeAABB(e){return this.min.like(e.min)&&this.max.like(e.max)}intersectsLine(e){e.anchor,e.dir1;const t=e.dir1.map(e=>e||Number.MIN_VALUE),n=this.min.minus(e.anchor).divv(t),r=this.max.minus(e.anchor).divv(t),i=n.min(r).maxElement(),o=n.max(r).minElement();return i<=o&&!(o<e.tMin||e.tMax<i)}hasVolume(){return this.min.x<=this.max.x&&this.min.y<=this.max.y&&this.min.z<=this.max.z}volume(){if(!this.hasVolume())return-1;const e=this.max.minus(this.min);return e.x*e.y*e.z}size(){return this.max.minus(this.min)}getCenter(){return this.min.plus(this.max).div(2)}transform(e){e.isAxisAligned();const t=new B;return t.addPoint(e.transformPoint(this.min)),t.addPoint(e.transformPoint(this.max)),t}ofTransformed(e){const t=new B;return t.addPoints(e.transformedPoints(this.corners())),t}corners(){const e=this.min,t=this.max;return[e,new k(e.x,e.y,t.z),new k(e.x,t.y,e.z),new k(e.x,t.y,t.z),new k(t.x,e.y,e.z),new k(t.x,e.y,t.z),new k(t.x,t.y,e.z),t]}toString(){return b("new AABB",this.min,this.max)}toSource(){return this.toString()}getM4(){return j.translate(this.min).times(j.scale(this.size()))}}const{PI:z,abs:G}=Math;class j extends R{constructor(...e){let t;if(0==arguments.length)t=new Float64Array(16);else{const e=Array.prototype.concat.apply([],arguments);e.length,e.length,t=new Float64Array(e)}super(4,4,t)}static inverse(e,t=new j){return e.inversed4(t)}static permutation4(e,t,n=new j){o(),o();const r=n.m;return j.identity(n),r[4*e+e]=0,r[4*t+t]=0,r[4*e+t]=1,r[4*t+e]=1,n}static transpose(e,t=new j){const n=e.m,r=t.m;return r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15],t}static multiply(e,t,n=new j){const r=e.m,i=t.m,o=n.m;return o[0]=r[0]*i[0]+r[1]*i[4]+(r[2]*i[8]+r[3]*i[12]),o[1]=r[0]*i[1]+r[1]*i[5]+(r[2]*i[9]+r[3]*i[13]),o[2]=r[0]*i[2]+r[1]*i[6]+(r[2]*i[10]+r[3]*i[14]),o[3]=r[0]*i[3]+r[1]*i[7]+(r[2]*i[11]+r[3]*i[15]),o[4]=r[4]*i[0]+r[5]*i[4]+(r[6]*i[8]+r[7]*i[12]),o[5]=r[4]*i[1]+r[5]*i[5]+(r[6]*i[9]+r[7]*i[13]),o[6]=r[4]*i[2]+r[5]*i[6]+(r[6]*i[10]+r[7]*i[14]),o[7]=r[4]*i[3]+r[5]*i[7]+(r[6]*i[11]+r[7]*i[15]),o[8]=r[8]*i[0]+r[9]*i[4]+(r[10]*i[8]+r[11]*i[12]),o[9]=r[8]*i[1]+r[9]*i[5]+(r[10]*i[9]+r[11]*i[13]),o[10]=r[8]*i[2]+r[9]*i[6]+(r[10]*i[10]+r[11]*i[14]),o[11]=r[8]*i[3]+r[9]*i[7]+(r[10]*i[11]+r[11]*i[15]),o[12]=r[12]*i[0]+r[13]*i[4]+(r[14]*i[8]+r[15]*i[12]),o[13]=r[12]*i[1]+r[13]*i[5]+(r[14]*i[9]+r[15]*i[13]),o[14]=r[12]*i[2]+r[13]*i[6]+(r[14]*i[10]+r[15]*i[14]),o[15]=r[12]*i[3]+r[13]*i[7]+(r[14]*i[11]+r[15]*i[15]),n}static product(...e){const[t,n]=Array.isArray(e[0])?[e[0],e[1]]:[e,new j];if(0==t.length)return j.identity(n);if(1==t.length)return j.copy(t[0],n);if(2==t.length)return j.multiply(t[0],t[1],n);let r=j.temp0,i=j.temp1;j.multiply(t[0],t[1],r);for(let e=2;e<t.length-1;e++)j.multiply(r,t[e],i),[r,i]=[i,r];return j.multiply(r,t.last,n)}static forSys(e,t,n=e.cross(t),r=k.O){return new j(e.x,t.x,n.x,r.x,e.y,t.y,n.y,r.y,e.z,t.z,n.z,r.z,0,0,0,1)}static forRows(e,t,n,r=k.O){return new j(e.x,e.y,e.z,0,t.x,t.y,t.z,0,n.x,n.y,n.z,0,r.x,r.y,r.z,1)}static identity(e=new j){const t=e.m;return t[0]=t[5]=t[10]=t[15]=1,t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=t[14]=0,e}static fromFunction4(e,t=new j){const n=t.m;let r=16;for(;r--;)n[r]=e(Math.floor(r/4),r%4,r);return t}static perspective(e,t,n,r,i=new j){return j.perspectiveRad(e*g,t,n,r,i)}static perspectiveRad(e,t,n,r,i=new j){const o=Math.tan(e/2)*n,a=o*t;return j.frustum(-a,a,-o,o,n,r,i)}static perspectivePlane(e,t=new j){const n=t.m;return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e.normal1.x,n[13]=e.normal1.y,n[14]=e.normal1.z,n[15]=-e.w,t}static frustum(e,t,n,r,i,o,a=new j){const s=a.m;return s[0]=2*i/(t-e),s[1]=0,s[2]=(t+e)/(t-e),s[3]=0,s[4]=0,s[5]=2*i/(r-n),s[6]=(r+n)/(r-n),s[7]=0,s[8]=0,s[9]=0,s[10]=-(o+i)/(o-i),s[11]=-2*o*i/(o-i),s[12]=0,s[13]=0,s[14]=-1,s[15]=0,a}static projectPlanePoint(e,t,n=new j){t.normal1;const r=n.m,i=t.normal1,o=t.w,a=i.dot(e);return r[0]=e.x*i.x+o-a,r[1]=e.x*i.y,r[2]=e.x*i.z,r[3]=-o*e.x,r[4]=e.y*i.x,r[5]=e.y*i.y+o-a,r[6]=e.y*i.z,r[7]=-o*e.y,r[8]=e.z*i.x,r[9]=e.z*i.y,r[10]=e.z*i.z+o-a,r[11]=-o*e.z,r[12]=i.x,r[13]=i.y,r[14]=i.z,r[15]=-a,n}static ortho(e,t,n,r,i,o,a=new j){const s=a.m;return s[0]=2/(t-e),s[1]=0,s[2]=0,s[3]=-(t+e)/(t-e),s[4]=0,s[5]=2/(r-n),s[6]=0,s[7]=-(r+n)/(r-n),s[8]=0,s[9]=0,s[10]=-2/(o-i),s[11]=-(o+i)/(o-i),s[12]=0,s[13]=0,s[14]=0,s[15]=1,a}static scale(...e){let t,n,r,i;e[0]instanceof k?(e.length,({x:t,y:n,z:r}=e[0]),i=e[1]):"number"!=typeof e[1]?(t=n=r=e[0],i=e[1]):(e.length,t=e[0],n=e[1],r=null!=e[2]?e[2]:1,i=e[3]),null==i&&(i=new j);const o=i.m;return o[0]=t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=r,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,i}static translate(...e){let t,n,r,i;e[0]instanceof k?(e.length,({x:t,y:n,z:r}=e[0]),i=e[1]):(e.length,t=e[0],n=null!=e[1]?e[1]:0,r=null!=e[2]?e[2]:0,i=e[3]),null==i&&(i=new j);const o=i.m;return o[0]=1,o[1]=0,o[2]=0,o[3]=t,o[4]=0,o[5]=1,o[6]=0,o[7]=n,o[8]=0,o[9]=0,o[10]=1,o[11]=r,o[12]=0,o[13]=0,o[14]=0,o[15]=1,i}static rotate(e,t,n){null==n&&(n=new j);let{x:r,y:i,z:o}=t;new k(r,i,o).likeO();const a=n.m,s=Math.sqrt(r*r+i*i+o*o);r/=s,i/=s,o/=s;const l=Math.cos(e),u=Math.sin(e),c=1-l;return a[0]=r*r*c+l,a[1]=r*i*c-o*u,a[2]=r*o*c+i*u,a[3]=0,a[4]=i*r*c+o*u,a[5]=i*i*c+l,a[6]=i*o*c-r*u,a[7]=0,a[8]=o*r*c-i*u,a[9]=o*i*c+r*u,a[10]=o*o*c+l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,n}static lookAt(e,t,n,r=new j){const i=r.m,o=e.minus(t).unit(),a=n.cross(o).unit(),s=o.cross(a).unit();return i[0]=a.x,i[1]=a.y,i[2]=a.z,i[3]=-a.dot(e),i[4]=s.x,i[5]=s.y,i[6]=s.z,i[7]=-s.dot(e),i[8]=o.x,i[9]=o.y,i[10]=o.z,i[11]=-o.dot(e),i[12]=0,i[13]=0,i[14]=0,i[15]=1,r}static rotateX(e){const t=Math.sin(e),n=Math.cos(e);return new j([1,0,0,0,0,n,-t,0,0,t,n,0,0,0,0,1])}static rotateY(e){const t=Math.sin(e),n=Math.cos(e);return new j([n,0,t,0,0,1,0,0,-t,0,n,0,0,0,0,1])}static rotateZ(e){const t=Math.sin(e),n=Math.cos(e);return new j([n,-t,0,0,t,n,0,0,0,0,1,0,0,0,0,1])}static rotateAB(e,t,n=new j){const r=e.cross(t),i=r.length();if(l(i))return j.identity(n);const o=Math.atan2(i,e.dot(t));return j.rotateLine(k.O,r,o,n)}static rotateLine(e,t,n,r=new j){t=t.unit();const i=e.x,o=e.y,a=e.z,s=t.x,l=t.y,u=t.z,c=r.m,h=Math.cos(n),f=Math.sin(n);return c[0]=s*s+(l*l+u*u)*h,c[1]=s*l*(1-h)-u*f,c[2]=s*u*(1-h)+l*f,c[3]=(i*(l*l+u*u)-s*(o*l+a*u))*(1-h)+(o*u-a*l)*f,c[4]=s*l*(1-h)+u*f,c[5]=l*l+(s*s+u*u)*h,c[6]=l*u*(1-h)-s*f,c[7]=(o*(s*s+u*u)-l*(i*s+a*u))*(1-h)+(a*s-i*u)*f,c[8]=s*u*(1-h)-l*f,c[9]=l*u*(1-h)+s*f,c[10]=u*u+(s*s+l*l)*h,c[11]=(a*(s*s+l*l)-u*(i*s+o*l))*(1-h)+(i*l-o*s)*f,c[12]=0,c[13]=0,c[14]=0,c[15]=1,r}static mirror(e,t=new j){e.normal1;const[n,r,i]=e.normal1,o=e.w,a=t.m;return a[0]=1-2*n*n,a[1]=-2*r*n,a[2]=-2*i*n,a[3]=2*n*o,a[4]=-2*n*r,a[5]=1-2*r*r,a[6]=-2*i*r,a[7]=2*r*o,a[8]=-2*n*i,a[9]=-2*r*i,a[10]=1-2*i*i,a[11]=2*i*o,a[12]=0,a[13]=0,a[14]=0,a[15]=1,t}static project(e,t=e.normal1,n=new j){e.normal1;const r=e.w,i=n.m,o=e.normal1.dot(t),{x:a,y:s,z:l}=e.normal1,{x:u,y:c,z:h}=t.div(o);return i[0]=1-a*u,i[1]=-s*u,i[2]=-l*u,i[3]=u*r,i[4]=-a*c,i[5]=1-s*c,i[6]=-l*c,i[7]=c*r,i[8]=-a*h,i[9]=-s*h,i[10]=1-l*h,i[11]=h*r,i[12]=0,i[13]=0,i[14]=0,i[15]=1,n}static lineProjection(e,t=new j){e.anchor,e.dir1;const n=e.anchor.x,r=e.anchor.y,i=e.anchor.z,o=e.dir1.x,a=e.dir1.y,s=e.dir1.z,l=t.m;return l[0]=o*o,l[1]=o*a,l[2]=o*s,l[3]=n,l[4]=a*o,l[5]=a*a,l[6]=a*s,l[7]=r,l[8]=s*o,l[9]=s*a,l[10]=s*s,l[11]=i,l[12]=0,l[13]=0,l[14]=0,l[15]=1,t}static pointInversion(e,t=new j){const n=t.m;return n[0]=-1,n[1]=0,n[2]=0,n[3]=2*e.x,n[4]=0,n[5]=-1,n[6]=0,n[7]=2*e.y,n[8]=0,n[9]=0,n[10]=-1,n[11]=2*e.z,n[12]=0,n[13]=0,n[14]=0,n[15]=1,t}static new(e,t,n){return new j(...n)}get X(){return this.transformVector(k.X)}get Y(){return this.transformVector(k.Y)}get Z(){return this.transformVector(k.Z)}get O(){return this.getTranslation()}isMirror(e=1/(1<<26)){const t=this.m,n=Math.sqrt((1-t[0])/2),r=Math.sqrt((1-t[5])/2),i=Math.sqrt((1-t[10])/2);return u(t[1],-2*r*n,e)&&u(t[2],-2*i*n,e)&&u(t[4],-2*n*r,e)&&u(t[6],-2*i*r,e)&&u(t[8],-2*n*i,e)&&u(t[9],-2*r*i,e)&&u(t[12],0,e)&&u(t[13],0,e)&&u(t[14],0,e)&&u(t[15],1,e)&&u(t[3]*r,t[7]*n,e)&&u(t[7]*i,t[11]*r,e)&&u(t[11]*n,t[3]*i,e)}inversed(e){return j.inverse(this,e)}trace(){return this.m[0]+this.m[5]+this.m[10]+this.m[15]}as3x3(e){const t=(e=j.copy(this,e)).m;return t[3]=t[7]=t[11]=t[12]=t[13]=t[14]=0,t[15]=1,e}transform(e){return e.times(this)}realEigenValues3(){const e=this.m;0==e[12]&&0==e[13]&&e[14];const[t,n,r,,i,o,a,,s,l,u]=e,c=t+o+u,h=-t*o-t*u+n*i+r*s-o*u+a*l,f=t*(o*u-a*l)-n*(i*u-a*s)+r*(i*l-o*s);return console.log(-1,c,h,f),y(-1,c,h,f)}realEigenVectors3(){const e=this.realEigenValues3(),t=this.times(j.IDENTITY3);console.log(this.toString()),console.log(t.toString());let n=e.map(e=>j.IDENTITY3.scale(-e).plus(t));if(console.log(n.map(e=>e.determinant3())),console.log(n.map(e=>""+e.toString(e=>""+e)).join("\n\n")),console.log(n.map(e=>""+e.gauss().U.toString(e=>""+e)).join("\n\n")),console.log("mats.map(m=>m.rank())",n.map(e=>e.rank())),1==e.length)return console.log(n[0].toString()),o(),E(3,e=>new k(this.m[e],this.m[4+e],this.m[8+e]));if(2==e.length){1==n[0].rank()&&(n=[n[1],n[0]]),o(),o();const e=n[0].gauss().U,t=e.row(0).cross(e.row(1)).V3().unit(),r=n[1].gauss().U.row(0).V3(),i=r.getPerpendicular().unit(),a=t.cross(i).rejectedFrom(r);return[t,i,a]}if(3==e.length)return n.forEach((e,t)=>(e.rank(),e.rank(),!0)),n.map(e=>{const t=e.gauss().U;return t.row(0).cross(t.row(1)).V3().unit()});throw new Error("there cannot be more than 3 eigen values")}svd3(){function e(e,t,n,r){const i=j.identity();return i.setEl(e,e,n),i.setEl(t,t,n),i.setEl(e,t,r),i.setEl(t,e,-r),i}const t=this.as3x3();let n=t.transposed().times(t),r=j.identity();console.log(n.str);for(let i=0;i<16;i++){console.log("blahg\n",r.times(n).times(r.transposed()).str),r.times(n).times(r.transposed()).likeM4(t.transposed().times(t)),r.times(n).times(r.transposed()).str,t.transposed().times(t).str;let i=0,o=1,a=10;for(;a--;){const e=Math.abs(n.m[a]);a%4!=Math.floor(a/4)&&e>i&&(i=e,o=a)}const s=Math.floor(o/4),l=o%4,u=n.m[5*s],c=n.m[5*l],h=n.m[o],f=u===c?z/4:Math.atan(2*h/(u-c))/2;console.log(o,s,l,"phi",f);const p=e(s,l,Math.cos(f),-Math.sin(f));p.transposed().times(p).likeIdentity(),console.log(p.str),r=r.times(p),n=j.product(p.transposed(),n,p),console.log(n.str)}const i=n.map((e,t)=>t%5==0?Math.sqrt(e):0);return{U:j.product(t,r,i.map((e,t)=>t%5==0?1/e:0)),SIGMA:i,VSTAR:r.transposed()}}map(e){return j.fromFunction4((t,n,r)=>e(this.m[r],r,this.m))}likeM4(e){return this.m.every((t,n)=>u(t,e.m[n]))}transposed(e){return j.transpose(this,e)}times(e){return j.multiply(this,e)}vanishingPoint(e){const t=this.m,n=e.x,r=e.y,i=e.z,o=n*t[12]+r*t[13]+i*t[14];if(l(o))return;const a=n*t[0]+r*t[1]+i*t[2],s=n*t[4]+r*t[5]+i*t[6],u=n*t[8]+r*t[9]+i*t[10];return new k(a/o,s/o,u/o)}transformPoint(e){const t=this.m,n=e.x,r=e.y,i=e.z,o=n*t[0]+r*t[1]+i*t[2]+t[3],a=n*t[4]+r*t[5]+i*t[6]+t[7],s=n*t[8]+r*t[9]+i*t[10]+t[11],l=n*t[12]+r*t[13]+i*t[14]+t[15];return new k(o/l,a/l,s/l)}transformVector(e,t=!0){const n=this.m,r=e.x*n[12]+e.y*n[13]+e.z*n[14];return t&&l(r),new k(n[0]*e.x+n[1]*e.y+n[2]*e.z,n[4]*e.x+n[5]*e.y+n[6]*e.z,n[8]*e.x+n[9]*e.y+n[10]*e.z)}transformVector2(e,t){const n=this.timesVector(_(t.x,t.y,t.z,1)),r=this.timesVector(_(e.x,e.y,e.z,0));return r.times(n.w).minus(n.times(r.w)).div(Math.pow(n.w,2)).V3()}transformedPoints(e){return e.map(e=>this.transformPoint(e))}transformedVectors(e){return e.map(e=>this.transformVector(e))}new(){return new j}isRegular(){return!l(this.determinant())}isAxisAligned(){const e=this.m;return 1>=+!l(e[0])+ +!l(e[1])+ +!l(e[2])&&1>=+!l(e[4])+ +!l(e[5])+ +!l(e[6])&&1>=+!l(e[8])+ +!l(e[9])+ +!l(e[10])}isOrthogonal(){return j.transpose(this,j.temp0),j.multiply(this,j.temp0,j.temp1),j.IDENTITY.likeM4(j.temp1)}isSymmetric(){return j.transpose(this,j.temp0),this.likeM4(j.temp0)}isSkewSymmetric(e){return l(this.m[0],e)&&l(this.m[5],e)&&l(this.m[10],e)&&l(this.m[15],e)&&u(this.m[1],this.m[4],e)&&u(this.m[2],this.m[8],e)&&u(this.m[3],this.m[12],e)&&u(this.m[6],this.m[9],e)&&u(this.m[7],this.m[13],e)&&u(this.m[11],this.m[14],e)}isNormal(){return j.transpose(this,j.temp0),j.multiply(this,j.temp0,j.temp1),j.multiply(j.temp0,this,j.temp2),j.temp1.likeM4(j.temp2)}determinant(){const e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],p=e[12],d=e[13],m=e[14],g=e[15],v=h*g-f*m,y=c*g-f*d,b=c*m-h*d,w=u*g-f*p,x=u*m-h*p,S=u*d-c*p;return t*(a*v-s*y+l*b)-n*(o*v-s*w+l*x)+r*(o*y-a*w+l*S)-i*(o*b-a*x+s*S)}determinant3(){const[e,t,n,,r,i,o,,a,s,l]=this.m;return e*(i*l-o*s)-t*(r*l-o*a)+n*(r*s-i*a)}isMirroring(){return this.determinant()<0}getTranslation(){const e=this.m,t=e[15];return new k(e[3]/t,e[7]/t,e[11]/t)}normalized(){const e=G(this.determinant());return 1==e?this:this.divScalar(Math.pow(e,.25))}normalized2(){const e=this.m[15];return 1==e?this:this.divScalar(Math.pow(e,.25))}like3x3(){const e=this.m;return u(1,e[15])&&l(e[12])&&l(e[13])&&l(e[14])&&l(e[3])&&l(e[7])&&l(e[11])}isNoProj(){const e=this.m;return 0==e[12]&&0==e[13]&&0==e[14]&&1==e[15]}likeIdentity(){return this.m.every((e,t)=>(t/4|0)==t%4?u(1,e):l(e))}isIdentity(){return this.m.every((e,t)=>(t/4|0)==t%4?1==e:0==e)}toString(e=(e=>e.toFixed(6).replace(/([0.])(?=0*$)/g," "))){e(0),e(0);const t=Array.prototype.slice.call(this.m).map(e),n=[0,1,2,3].map(e=>T(function(e,t,n,r,i=1){t<0&&(t=e.length+t),n<=0&&(n=e.length+n);const o=Math.ceil((n-t)/r),a=new Array(o);let s=0;for(let o=t;o<n;o+=r)for(let t=o;t<Math.min(o+i,n);t++)a[s++]=e[t];return a}(t,e,0,4).map(e=>e.length)));return[0,1,2,3].map(e=>t.slice(4*e,4*e+4).map((e,t)=>" ".repeat(n[t]-e.length)+e).join(" ")).join("\n")}isTranslation(){return[1,0,0,2,0,1,0,2,0,0,1,2,0,0,0,1].every((e,t)=>2==e||e==this.m[t])}isScaling(){return[2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,1].every((e,t)=>2==e||e==this.m[t])}isZRotation(){return[2,2,0,0,2,2,0,0,0,0,1,0,0,0,0,1].every((e,t)=>2==e||e==this.m[t])&&u(1,Math.pow(this.m[0],2)+Math.pow(this.m[1],2))&&this.m[0]==this.m[5]&&this.m[1]==-this.m[4]}toSource(){const e=j.NAMEMAP.get(this);if(e)return e;if(this.isTranslation())return b("M4.translate",this.O);if(this.isScaling())return b("M4.scale",this.m[0],this.m[5],this.m[10]);if(this.isNoProj())return this.O.equals(k.O)?b("M4.forSys",this.X,this.Y,this.Z):b("M4.forSys",this.X,this.Y,this.Z,this.O);if(this.isMirror(0)){const e=this.m,t=Math.sqrt((1-e[0])/2),n=Math.sqrt((1-e[5])/2),r=Math.sqrt((1-e[10])/2),i=e[3]/2/t;return b("M4.mirror",{normal1:new k(t,n,r),w:i})}{const e=this.m;return"new M4(\n\t"+e[0]+",\t"+e[1]+",\t"+e[2]+",\t"+e[3]+",\n\t"+e[4]+",\t"+e[5]+",\t"+e[6]+",\t"+e[7]+",\n\t"+e[8]+",\t"+e[9]+",\t"+e[10]+",\t"+e[11]+",\n\t"+e[12]+",\t"+e[13]+",\t"+e[14]+",\t"+e[15]+")"}}xyAreaFactor(){return this.transformVector(k.X).cross(this.transformVector(k.Y)).length()}}j.FOO=new j(0,1,1,2,.3,.4,.8,13,2.1,3.4,5.5,8.9,0,0,0,1),j.BAR=j.FOO.inversed(),j.IDENTITY=j.identity(),j.O=new j(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),j.YZX=j.forSys(k.Y,k.Z,k.X),j.ZXY=j.forSys(k.Z,k.X,k.Y),j.IDENTITY3=new j(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0),j.temp0=new j,j.temp1=new j,j.temp2=new j,j.NAMEMAP=(new r).set(j.IDENTITY3,"M4.IDENTITY3").set(j.FOO,"M4.FOO").set(j.O,"M4.O").set(j.BAR,"M4.BAR").set(j.IDENTITY,"M4.IDENTITY").set(j.ZXY,"M4.ZXY").set(j.YZX,"M4.YZX"),j.prototype.height=4,j.prototype.width=4,d(j.prototype,I.prototype,"constructor");function V(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}
/**
 * @license
 *
 * js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const{abs:H,atan2:q,cos:W,floor:Y,log:X,min:Z,max:$,round:Q,sign:K,sin:J,sqrt:ee,cbrt:te,PI:ne,hypot:re}=Math;function ie(e,t,n){return e+(t-e)*n}function oe(e,t=0,n=1){return e<t?t:e>n?n:e}function ae(e,t,n,r=1e-8){let i,o=t;for(;n--&&H(i=e(o))>r;){const t=(e(o+r)-i)/r;console.log("fx / dfdx",i/t,"fx",i,"x",o),o-=i/t}return o}const se=ne/180,le=180/ne;function ue(...e){return e[0]instanceof ce?e[0]:e.length>1&&"string"==typeof e[e.length-1]?Me(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?Me(e[0]):Me(e)}class ce{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}mix(e,t,n="rgb"){return me(this,e,t,n)}rgb(e=!0,t=!0){const n=n=>(e&&(n=Q(n)),t&&(n=oe(n,0,255)),n),{r:r,g:i,b:o}=this;return[n(r),n(i),n(o)]}rgba(e=!0,t=!0){const n=n=>(e&&(n=Q(n)),t&&(n=oe(n,0,255)),n),{r:r,g:i,b:o,a:a}=this;return[n(r),n(i),n(o),a]}hex(e="rgb"){const{r:t,g:n,b:r,a:i}=this;return function(e,t,n,r,i="rgb"){e=oe(Q(e),0,255),t=oe(Q(t),0,255),n=oe(Q(n),0,255);const o=(e<<16|t<<8|n).toString(16).padStart(6,"0"),a=Q(255*oe(r)).toString(16).padStart(2,"0");return"#"+("argb"==i?a+o:"rgba"==i?o+a:o)}(t,n,r,i,e)}hsl(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=We(e/255,t/255,n/255),a=(o+i)/2;let s;s=o==i?0:a<.5?(o-i)/(o+i):(o-i)/(2-o-i);return[r,s,a]}(e,t,n)}hsv(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=We(e,t,n),a=o-i;return[r,0==o?0:a/o,o/255]}(e,t,n)}hcg(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=We(e,t,n),a=(o-i)/255;return[r,a,a<1?i/255/(1-a):0]}(e,t,n)}css(e="rgb"){if("rgb"==e){const{r:e,g:t,b:n,a:r}=this;return function(e,t,n,r=1){return r>=1?"rgb("+[e,t,n].map(Q).join(",")+")":"rgba("+[e,t,n].map(Q).join(",")+","+r+")"}(e,t,n,r)}if("hsl"==e)return function([e,t,n],r){const i=r<1?"hsla":"hsl";return i+"("+ze(e)+","+ze(100*t)+"%,"+ze(100*n)+"%"+("hsla"==i?","+ze(r):"")+")"}(this.hsl(),this.alpha());throw new Error}name(e=!1){const t=this.num(),n=Object.keys(de).find(e=>de[e]==t);if(!n&&e){const[e,t,n]=this.lab();return(r=Object.keys(de))[at(r,r=>{const[i,o,a]=ye(de[r]).lab();return-re(e-i,t-o,n-a)})]}var r;return n}cmyk(){const{r:e,g:t,b:n}=this;return function(e,t,n){const r=1-$(e/=255,t/=255,n/=255);return 1==r?[0,0,0,1]:[(1-e-r)/(1-r),(1-t-r)/(1-r),(1-n-r)/(1-r),r]}(e,t,n)}gl(){const{r:e,g:t,b:n,a:r}=this;return[e/255,t/255,n/255,r]}luminance(e){const{r:t,g:n,b:r,a:i}=this,[,o]=it(t,n,r);if(void 0===e)return o;const a=(e,t,n)=>(n-e)/(t-e);return e>o?me(this,fe,a(o,1,e),"xyz").alpha(i):me(he,this,a(0,o,e),"xyz").alpha(i)}temperature(){const{r:e,g:t,b:n}=this;return r=e,i=t,o=n,console.log(o-r),i+o<158.61?(console.log("0 < t < 20"),Q(100*ae(e=>i-(-155.25485562709179-.44596950469579133*(e-2)+104.49216199393888*X(e-2)),15,4))):o-r<0?(console.log("20 < t < 66"),Q(100*ae(e=>o-(.8274096064007395*(e-10)-254.76935184120902+115.67994401066147*X(e-10)),43,4))):(console.log("0 < t < 400, start= "+(-1.4*(r+i)+755)),Q(100*ae(e=>r-(351.97690566805693+.114206453784165*(e-55)-40.25366309332127*X(e-55)),-1.4*(r+i)+755,8)));var r,i,o}set(e,t){const[n,r]=e.split("."),i=this[n](),o=n.indexOf(r);if(-1==o)throw new Error("invalid channel");return i[o]="number"==typeof t?t:t(i[o]),ue(i,n).alpha(this.a)}clipped(){const{r:e,g:t,b:n}=this;return!(0<=e&&e<=255&&0<=t&&t<=255&&0<=n&&n<=255)}textColor(){return this.luminance()>.5?he:fe}alpha(e){if(void 0===e)return this.a;const{r:t,g:n,b:r}=this;return be(t,n,r,e)}darker(e=1){const[t,n,r]=this.lab();return ve(t-$e*e,n,r,this.alpha())}brighter(e=1){return this.darker(-e)}saturate(e=1){const[t,n,r]=this.lch();return function(...e){return Me(e,"lch")}(t,$(0,n+e*$e),r,this.alpha())}desaturate(e=1){return this.saturate(-e)}premultiplied(){const{r:e,g:t,b:n,a:r}=this;return be(e*r,t*r,n*r,r)}hsi(){const{r:e,g:t,b:n}=this;return function(e,t,n){const r=e/255,i=t/255,o=n/255,a=(r+i+o)/3;if(r==i&&i==o)return[0,0,a];{const e=.5*(2*r-i-o),t=ee(3)/2*(i-o),n=q(t,e),s=Z(r,i,o);return[(n<0?2*ne+n:n)*le,1-s/a,a]}}(e,t,n)}lab(){const{r:e,g:t,b:n}=this;return rt(e,t,n)}num(e="rgb"){const{r:t,g:n,b:r,a:i}=this;return function(e,t,n,r=1,i="rgb"){const o=Q(e)<<16|Q(t)<<8|Q(n);return"rgb"===i?o:"rgba"===i?o<<8|Q(255*r)<<24:Q(255*r)<<24|o}(t,n,r,i,e)}lch(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=rt(e,t,n);return function(e,t,n){const r=re(t,n),i=(q(n,t)*le+360)%360;return[e,r,i]}(r,i,o)}(e,t,n)}xyz(){const{r:e,g:t,b:n}=this;return it(e,t,n)}equals(e){const{r:t,g:n,b:r,a:i}=this,{r:o,g:a,b:s,a:l}=e;return t==o&&n==a&&r==s&&i==l}hashCode(){return this.num("rgba")}toSource(){const{r:e,g:t,b:n,a:r}=this;return"chroma.rgb("+e+", "+t+", "+n+(1===r?")":", "+r+")")}}ce.prototype.toString=ce.prototype.css,ce.prototype.kelvin=ce.prototype.temperature;const he=new ce(0,0,0,1),fe=new ce(255,255,255,1),pe={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},de={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function me(e,t,n=.5,r="rgb"){const i=ue(e),o=ue(t),a=ke[r]&&ke[r](i,o,n,r);if(!a)throw new Error("color mode "+r+" is not supported");return a.alpha(ie(i.alpha(),o.alpha(),n))}function ge(...e){return Me(e,"hsl")}function ve(...e){return Me(e,"lab")}function ye(e){const[t,n,r]=Ae(e);return new ce(t,n,r)}function be(...e){return Me(e,"rgb")}He(qe((e,t)=>e)),He(qe((e,t)=>e*t/255)),He(qe((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),He(qe((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),He(qe(Z)),He(qe($)),He(qe((function(e,t){if(255==e)return 255;return 255*Z(1,t/255/(1-e/255))}))),He(qe((function(e,t){return 255*(1-(1-t/255)/(e/255))})));function we(...e){const t=e=>t._at(e);return Object.getOwnPropertyNames(xe.prototype).forEach(e=>t[e]=xe.prototype[e]),Array.isArray(e[0])&&(e=e[0]),1==e.length&&"string"==typeof e[0]&&(e=pe[e[0]]),t._init("function"==typeof e[0]?e[0]:e.map(e=>ue(e))),t}class xe{classes(e){if(void 0===e)return this._classes;if(Array.isArray(e))this._classes=e,this.domain(e[0],e[e.length-1]);else{if(e%1!=0||e<1)throw new Error("invalid classes param");this._classes=Te(this.domain(),"e",e)}return this}domain(...e){if(void 0===e[0])return"function"!=typeof this._colors?this._pos.map(e=>ie(this._min,this._max,e)):[this._min,this._max];if(this._min=e[0],this._max=e[e.length-1],2==e.length)"function"!=typeof this._colors&&(this._pos=this._colors.map((e,t)=>t/(this._colors.length-1)));else{if("function"==typeof this._colors||e.length!=this._colors.length)throw new Error("invalid domain "+e);this._pos=e.map(e=>{return t=this._min,n=this._max,(e-t)/(n-t);var t,n})}return this}mode(e){return void 0===e?this._mode:(this._mode=e,this._resetCache(),this)}out(e){return this._out=e,this}correctLightness(e=!0){if(this._correctLightness!=e){this._resetCache();const t=this._colors;if(e&&"function"!=typeof t){let e=0;for(let n=1;n<t.length;n++){const r=t[n].lab()[0]-t[n-1].lab()[0];if(0==e)e=r;else if(e*r<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=e,this}padding(e,t=e){return e?(this._paddingLeft=e,this._paddingRight=t,this):[this._paddingLeft,this._paddingRight]}colors(e,t="hex"){let n;if(void 0===e)n=this._colors.slice();else if(1==e)n=[this._color((this._min+this._max)/2)];else if(e>1)n=Array.from({length:e},(t,n)=>this._color(ie(this._min,this._max,n/(e-1))));else{let e;e=this._classes&&this._classes.length>2?Array.from({length:this._classes.length-1},(e,t)=>.5*(this._classes[t]+this._classes[t+1])):this.domain(),n=e.map(e=>this._color(e))}return"color"!=t?n.map(e=>e[t]()):n}cache(e){return void 0===e?!!this._cache:(this._cache=e?this._cache||new Map:void 0,this)}gamma(e){return void 0===e?this._gamma:(this._gamma=e,this)}_at(e){const t=this._color(e);return this._out?t[this._out]():t}_init(e){this._colors=e,"function"!=typeof e&&(this._pos=e.map((t,n)=>n/(e.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(e){return this._classes.findIndex(t=>e<=t)-1}_color(e,t=!1){let n;if(t)n=e;else{const t=this._min,r=this._max;if(this._classes&&this._classes.length>2){n=this._getClass(e)/(this._classes.length-2)}else n=r!==t?(e-t)/(r-t):1;this._correctLightness&&(n=this._tCorrectedLightness(n))}n=n**this._gamma,n=(this._paddingLeft+n)/(1+this._paddingLeft+this._paddingRight),n=oe(n,0,1);const r=n,i=this._cache&&this._cache.get(r);if(i)return i;{let e;if(Array.isArray(this._colors))for(let t=0;t<this._pos.length;t++){const r=this._pos[t];if(n<=r){e=this._colors[t];break}if(n>=r&&t==this._pos.length-1){e=this._colors[t];break}if(n>r&&n<this._pos[t+1]){n=(n-r)/(this._pos[t+1]-r),e=me(this._colors[t],this._colors[t+1],n,this._mode);break}}else e=this._colors(n);return this._cache&&this._cache.set(r,e),e}}_tCorrectedLightness(e){const t=ie(this._color(0,!0).lab()[0],this._color(1,!0).lab()[0],e);return function(e,t,n,r){let i=e(t);for(;r--;){const r=(t+n)/2,o=e(r);K(i)==K(o)?(t=r,i=o):n=r}return(t+n)/2}(e=>this._color(e,!0).lab()[0]-t,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var Se;function Ee(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};return e.forEach(e=>function(e){null==e||isNaN(e)||(t.values.push(e),t.sum+=e,e<t.min&&(t.min=e),e>t.max&&(t.max=e),t.count+=1)}(e)),t.domain=[t.min,t.max],t.limits=function(e,t){return Te(this,e,t)},t}function Te(e,t="e",n=7){const r=Array.isArray(e)?Ee(e):e,{min:i,max:o,values:a}=r;if(a.sort((e,t)=>e-t),1==n)return[i,o];if(t.startsWith("c"))return[i,o];if(t.startsWith("e"))return Array.from({length:n+1},(e,t)=>ie(i,o,t/n));if(t.startsWith("l")){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");const e=Math.LOG10E*X(i),t=Math.LOG10E*X(o);return Array.from({length:n+1},(r,i)=>10**ie(e,t,i/n))}if(t.startsWith("q"))return Array.from({length:n+1},(e,t)=>{const r=(a.length-1)*t/n,i=Y(r);return i==r?a[i]:ie(a[i],a[i+1],r-i)});if(t.startsWith("k")){const e=a.length,t=new Array(e),r=new Array(n);let s=!0,l=0,u=Array.from({length:n+1},(e,t)=>ie(i,o,t/n));do{r.fill(0);for(let e=0;e<a.length;e++){const n=a[e],i=at(u,e=>-H(e-n));r[i]++,t[e]=i}const e=new Array(n).fill(0);for(let n=0;n<t.length;n++){e[t[n]]+=a[n]}for(let t=0;t<e.length;t++)e[t]/=r[t];s=e.some((e,t)=>e!=u[t]),u=e}while(l++<200&&s);const c=Array.from({length:n},()=>[]);for(let e=0;e<t.length;e++){c[t[e]].push(a[e])}const h=[];for(const e of c)h.push(e[0],e[e.length-1]);h.sort((e,t)=>e-t);const f=[];f.push(h[0]);for(let e=1;e<h.length;e+=2){const t=h[e];isNaN(t)||-1!=f.indexOf(t)||f.push(t)}return f}throw new Error("unknown mode")}!function(e){e.cool=function(){return we([ge(180,1,.9),ge(250,.7,.4)])},e.hot=function(){return we(["#000","#f00","#ff0","#fff"]).mode("rgb")}}(Se||(Se={}));const ke={},Oe={};function Me(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(1==e.length&&e[0]in de)t="name";else if(1==e.length&&"string"==typeof e[0])t="css";else if(3==e.length)t="rgb";else if(4==e.length&&"number"==typeof e[3]&&e[3]>=0&&e[3]<=1)t="rgb";else{if(!(1==e.length&&"number"==typeof e[0]&&e[0]>=0&&e[0]<=16777215))throw new Error("could not guess mode. args "+JSON.stringify(e));t="num"}const n=Oe[t](...e);return new ce(n[0],n[1],n[2],void 0!==n[3]?n[3]:1)}function _e(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),t[4]?17*parseInt(t[4],16)/255:1];throw new Error("invalid hex color: "+e)}function Re(e){return(e%360+360)%360}function Ae(e){if(!("number"==typeof e&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);return[e>>16,e>>8&255,255&e,1]}ke.xyz=ke.rgb=ke.lab=function(e,t,n,r){const i=e[r](),o=t[r]();return Me([ie(i[0],o[0],n),ie(i[1],o[1],n),ie(i[2],o[2],n),ie(e.alpha(),t.alpha(),n)],r)},ke.num=function(e,t,n){return ye(ie(e.num(),t.num(),n))},ke.lrgb=function(e,t,n){const[r,i,o,a]=e.rgba(!1,!1),[s,l,u,c]=t.rgba(!1,!1);return new ce(ee(r**2*(1-n)+s**2*n),ee(i**2*(1-n)+l**2*n),ee(o**2*(1-n)+u**2*n),ie(a,c,n))},Oe.lrgb=Oe.rgb,Oe.hex=_e,Oe.hsl=Xe,Oe.hsv=function(e,t,n,r=1){e=Re(e);const i=n*t;return Ye(e,i,i*(1-H(e/60%2-1)),n-i,r)},Oe.num=Ae;const Ce="\\s*",Pe="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",Ne=new RegExp(["^rgba?\\(",Pe,",",Pe,",",Pe,"(?:,",Pe+"(%)?",")?\\)$"].join(Ce),"i"),Ie=new RegExp(["^rgba?\\(",Pe,Pe,Pe,"(?:/",Pe+"(%)?",")?\\)$"].join(Ce),"i"),Ue=new RegExp(["^rgba?\\(",Pe+"%",",",Pe+"%",",",Pe+"%","(?:,",Pe+"(%)?",")?\\)$"].join(Ce),"i"),Le=new RegExp(["^rgba?\\(",Pe+"%",Pe+"%",Pe+"%","(?:/",Pe+"(%)?",")?\\)$"].join(Ce),"i"),De=new RegExp(["^hsla?\\(",Pe+"(deg|rad|turn)?",",",Pe+"%",",",Pe+"%","(?:,",Pe+"(%)?",")?\\)$"].join(Ce),"i"),Fe=new RegExp(["^hsla?\\(",Pe+"(deg|rad|turn)?\\s+"+Pe+"%",Pe+"%","(?:/",Pe+"(%)?",")?\\)$"].join(Ce),"i");function Be(e){if(de&&de.hasOwnProperty(e))return Ae(de[e.toLowerCase()]);let t;if(t=e.match(Ne)||e.match(Ie))return[oe(+t[1],0,255),oe(+t[2],0,255),oe(+t[3],0,255),t[4]?oe(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Ue)||e.match(Le))return[255*oe(+t[1]/100),255*oe(+t[2]/100),255*oe(+t[3]/100),t[4]?oe(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(De)||e.match(Fe)){const e={deg:1,rad:le,turn:360},n=t[2]?t[2].toLowerCase():"deg";return Xe((+t[1]*e[n]%360+360)%360,oe(+t[3]/100),oe(+t[4]/100),t[5]?oe(t[6]?+t[5]/100:+t[5]):1)}return _e(e)}function ze(e){return Q(100*e)/100}function Ge(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function je(e){return e<=.0031308?12.92*e*255:255*(1.055*e**(1/2.4)-.055)}function Ve(e){const t=e/100;let n,r,i;return t<66?(n=255,r=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*X(t-2),i=t<20?0:.8274096064007395*(t-10)-254.76935184120902+115.67994401066147*X(t-10)):(n=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*X(t-55),r=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*X(t-50),i=255),[n,r,i]}function He(e){return function(t,n){const[r,i,o]=e(ue(n).rgb(),ue(t).rgb());return be(r,i,o)}}function qe(e){return function(t,n){return t.map((t,r)=>e(t,n[r]))}}function We(e,t,n){const r=Z(e,t,n),i=$(e,t,n),o=i-r;let a;return a=0==o?0:e==i?(t-n)/o+(t<n?6:0):t==i?2+(n-e)/o:4+(e-t)/o,[60*a,r,i]}function Ye(e,t,n,r,i){const o=255*r,a=255*t+o,s=255*n+o;return e<60?[a,s,o,i]:e<120?[s,a,o,i]:e<180?[o,a,s,i]:e<240?[o,s,a,i]:e<300?[s,o,a,i]:[a,o,s,i]}function Xe(e,t,n,r=1){e=Re(e);const i=(1-H(2*n-1))*t;return Ye(e,i,i*(1-H(e/60%2-1)),n-i/2,r)}function Ze(e,t,n,r=1){const[i,o,a]=function(e,t,n){function r(e){return e>et?e**3:tt*(e-4/29)}return[Qe*r((e+16)/116+t/500),Ke*r((e+16)/116),Je*r((e+16)/116-n/200)]}(e,t,n);return ot(i,o,a,r)}Oe.css=Be,Oe.name=function(e){return Ae(de[e])},Oe.lch=function(e,t,n,r=1){const[,i,o]=function(e,t,n){return[e,W(n*se)*t,J(n*se)*t]}(e,t,n);return Ze(e,i,o,r)},Oe.cmyk=function(e,t,n,r,i=1){return 1==r?[0,0,0,i]:[255*(1-e)*(1-r),255*(1-t)*(1-r),255*(1-n)*(1-r),i]},Oe.gl=function(e,t,n,r=1){return[255*e,255*t,255*n,r]},Oe.rgb=(...e)=>e,Oe.temperature=Oe.kelvin=Oe.K=Ve,Oe.hcg=function(e,t,n,r=1){const i=n*(1-t);return Ye(e=Re(e),t,t*(1-H(e/60%2-1)),i,r)};const $e=18,Qe=.95047,Ke=1,Je=1.08883,et=.206896552,tt=.12841855,nt=.008856452;function rt(e,t,n){const[r,i,o]=it(e,t,n);return function(e,t,n){function r(e){return e>nt?te(e):e/tt+4/29}return[116*r(t/Ke)-16,500*(r(e/Qe)-r(t/Ke)),200*(r(t/Ke)-r(n/Je))]}(r,i,o)}function it(e,t,n){const r=Ge(e),i=Ge(t),o=Ge(n);return[.4124564*r+.3575761*i+.1804375*o,.2126729*r+.7151522*i+.072175*o,.0193339*r+.119192*i+.9503041*o]}function ot(e,t,n,r=1){const i=-.969266*e+1.8760108*t+.041556*n,o=.0556434*e-.2040259*t+1.0572252*n;return[je(3.2404542*e-1.5371385*t-.4985314*n),je(i),je(o),r]}function at(e,t){let n=-1/0,r=-1;for(let i=0;i<e.length;i++){const o=t(e[i]);o>n&&(n=o,r=i)}return r}Oe.xyz=ot,Oe.lab=Ze,Oe.hsi=function(e,t,n,r=1){let i,o,a,s=e*se;return s<2*ne/3?(a=(1-t)/3,i=(1+t*W(s)/W(ne/3-s))/3,o=1-(a+i)):s<4*ne/3?(s-=2*ne/3,i=(1-t)/3,o=(1+t*W(s)/W(ne/3-s))/3,a=1-(i+o)):(s-=4*ne/3,o=(1-t)/3,a=(1+t*W(s)/W(ne/3-s))/3,i=1-(o+a)),[3*n*i*255,3*n*o*255,3*n*a*255,r]},ke.hsv=ke.hsl=ke.hsi=ke.lch=ke.hcg=function(e,t,n,r){const[i,o,a]=e[r](),[s,l,u]=t[r]();function c(e,t,n){return e+n*(Re(t-e+180)-180)}return ue(("h"==r.charAt(0)?c:ie)(i,s,n),ie(o,l,n),("h"==r.charAt(2)?c:ie)(a,u,n),r)};const st=WebGLRenderingContext;class lt{constructor(e,t){this.target=e,this.type=t,this.buffer=void 0,this.data=[],this.count=0,this.spacing=1,this.hasBeenCompiled=!1,e==st.ARRAY_BUFFER||st.ELEMENT_ARRAY_BUFFER,t==Float32Array||t==Uint16Array||Uint32Array,Uint16Array==t?this.bindSize=st.UNSIGNED_SHORT:Uint32Array==t&&(this.bindSize=st.UNSIGNED_INT)}compile(e=st.STATIC_DRAW,t=Ct()){let n;if(st.STATIC_DRAW==e||st.DYNAMIC_DRAW,this.buffer=this.buffer||t.createBuffer(),0==this.data.length&&console.warn("empty buffer "+this.name),0==this.data.length||this.data[0]instanceof k)!(this.data[0]instanceof k)||(this.type,Float32Array),k.pack(this.data,n=new this.type(3*this.data.length)),this.spacing=3,this.count=this.data.length,this.maxValue=0;else{if(Array.isArray(this.data[0])){const e=this.data.length*this.data[0].length;n=new this.type(e);let t=this.data.length,r=e;for(;t--;){const e=this.data[t];let i=e.length;for(;i--;)n[--r]=e[i]}}else n=new this.type(this.data);const e=this.data.length?n.length/this.data.length:0;this.name,[1,2,3,4].includes(e),this.spacing=e,this.count=this.data.length}t.bindBuffer(this.target,this.buffer),t.bufferData(this.target,n,e),this.hasBeenCompiled=!0}}const{cos:ut,sin:ct,PI:ht,min:ft,max:pt}=Math,dt=WebGLRenderingContext,mt=new j,gt=new j;class vt extends I{constructor(){super(),this.hasBeenCompiled=!1,this.vertexBuffers={},this.indexBuffers={},this.addVertexBuffer("vertices","ts_Vertex")}calcVolume(){let e=0,t=k.O,n=0;const r=this.TRIANGLES,i=this.vertices;for(let o=0;o<r.length;o+=3){const a=r[o+0],s=r[o+1],l=r[o+2],u=i[a],c=i[s],h=i[l],f=c.minus(u),p=h.minus(u),d=f.cross(p);e+=k.add(u,c,h).div(3).z*d.z,n+=d.length();const m=k.add(u.times(2*u.z+c.z+h.z),c.times(u.z+2*c.z+h.z),h.times(u.z+c.z+2*h.z)).times(d.z);t=t.plus(m)}const o=e/2;return{volume:o,centroid:l(o)?k.O:t.div(24*o).schur(new k(1,1,.5)),area:n/2}}addVertexBuffer(e,t){return this.vertexBuffers[t],this.hasBeenCompiled=!1,(this.vertexBuffers[t]=new lt(dt.ARRAY_BUFFER,Float32Array)).name=e,this[e]=[],this}addIndexBuffer(e,t=dt.UNSIGNED_SHORT){this.hasBeenCompiled=!1;const n=dt.UNSIGNED_SHORT==t?Uint16Array:Uint32Array;return(this.indexBuffers[e]=new lt(dt.ELEMENT_ARRAY_BUFFER,n)).name=e,this[e]=[],this}concat(...e){const t=new vt,n=[this].concat(e);return Object.getOwnPropertyNames(this.vertexBuffers).forEach(r=>{e.every(e=>!!e.vertexBuffers[r]);const i=this.vertexBuffers[r].name;"ts_Vertex"!==r&&t.addVertexBuffer(i,r),t[i]=[].concat(...n.map(e=>e[i]))}),Object.getOwnPropertyNames(this.indexBuffers).forEach(r=>{e.every(e=>!!e.indexBuffers[r]),t.addIndexBuffer(r,this.indexBuffers[r].bindSize);const i=new Array(n.reduce((e,t)=>e+t[r].length,0));let o=0,a=0;for(const e of n){for(const t of e[r])i[o++]=a+t;a+=e.vertices.length}t[r]=i}),t.compile(),t}compile(e=Ct()){let t=1/0;Object.getOwnPropertyNames(this.vertexBuffers).forEach(n=>{const r=this.vertexBuffers[n];r.data=this[r.name],r.compile(void 0,e),this[r.name].length<t&&(t=this[r.name].length)});for(const t in this.indexBuffers){const n=this.indexBuffers[t];n.data=this[n.name],n.compile(void 0,e)}return this.hasBeenCompiled=!0,this}static fromBinarySTL(e){return V(this,void 0,void 0,(function*(){return new Promise((t,n)=>{const r=(new vt).addVertexBuffer("normals","ts_Normal"),i=new FileReader;i.onerror=n,i.onload=function(e){const n=new DataView(this.result),i=n.getUint32(80,!0);r.normals.length=3*i,r.vertices.length=3*i;let o=3*i,a=84;function s(){const e=n.getFloat32(a,!0);a+=4;const t=n.getFloat32(a,!0);a+=4;const r=n.getFloat32(a,!0);return a+=4,new k(e,t,r)}for(;o;){o-=3;const e=s();r.normals[o+0]=e,r.normals[o+1]=e,r.normals[o+2]=e,r.vertices[o+0]=s(),r.vertices[o+1]=s(),r.vertices[o+2]=s(),a+=2}t(r)},i.readAsArrayBuffer(e)})}))}toBinarySTL(){if(!this.TRIANGLES)throw new Error("TRIANGLES must be defined.");const e=this.TRIANGLES,t=e.length/3,n=new ArrayBuffer(84+50*t),r=new DataView(n);r.setUint32(80,t,!0);let i=84,o=e.length;for(;o;){o-=3;const t=this.vertices[e[o]],n=this.vertices[e[o+1]],a=this.vertices[e[o+2]];[k.normalOnPoints(t,n,a),t,n,a].forEach(e=>{r.setFloat32(i,e.x,!0),i+=4,r.setFloat32(i,e.y,!0),i+=4,r.setFloat32(i,e.z,!0),i+=4}),i+=2}return n.byteLength,n.byteLength,new Blob([n],{type:"application/octet-stream"})}transform(e){const t=new vt;if(t.vertices=e.transformedPoints(this.vertices),this.normals){t.addVertexBuffer("normals","ts_Normal");const n=e.as3x3(mt).inversed(gt).transposed(mt);t.normals=this.normals.map(e=>n.transformVector(e).unit())}for(const e in this.indexBuffers)t.addIndexBuffer(e),t[e]=this[e];for(const e in this.vertexBuffers)if("ts_Vertex"!==e&&"ts_Normal"!==e){const n=this.vertexBuffers[e].name;t.addVertexBuffer(n,e),t[n]=this[n]}return t}computeNormalsFromFlatTriangles(){this.normals||this.addVertexBuffer("normals","ts_Normal");const e=this.TRIANGLES,t=this.vertices,n=this.normals;n.length=t.length;for(let r=0;r<e.length;r+=3){const i=e[r],o=e[r+1],a=e[r+2],s=t[i],l=t[o],u=t[a],c=l.minus(s).cross(u.minus(s)).unit();n[i]=n[i].plus(c),n[o]=n[o].plus(c),n[a]=n[a].plus(c)}for(let e=0;e<t.length;e++)n[e]=n[e].unit();return this.hasBeenCompiled=!1,this}computeWireframeFromFlatTriangles(e="LINES"){if(!this.TRIANGLES)throw new Error("TRIANGLES must be defined.");const t=new Set;function n(e,t){return ft(e,t)<<16|pt(e,t)}const r=this.TRIANGLES;for(let e=0;e<r.length;e+=3)t.add(n(r[e+0],r[e+1])),t.add(n(r[e+1],r[e+2])),t.add(n(r[e+2],r[e+0]));const i=e;return this[i]||this.addIndexBuffer(e),t.forEach(e=>this[i].push(e>>16,65535&e)),this.hasBeenCompiled=!1,this}computeWireframeFromFlatTrianglesClosedMesh(e="LINES"){if(!this.TRIANGLES)throw new Error("TRIANGLES must be defined.");this.LINES||this.addIndexBuffer("LINES");const t=this.TRIANGLES;this[e]||this.addIndexBuffer(e);const n=this[e];for(let e=0;e<t.length;e+=3)t[e+0]<t[e+1]&&n.push(t[e+0],t[e+1]),t[e+1]<t[e+2]&&n.push(t[e+1],t[e+2]),t[e+2]<t[e+0]&&n.push(t[e+2],t[e+0]);return this.hasBeenCompiled=!1,this}computeNormalLines(e=1,t="LINES"){if(!this.normals)throw new Error("normals must be defined.");const n=this.vertices,r=this.vertices.length;this[t]||this.addIndexBuffer(t);for(let i=0;i<this.normals.length;i++)n[r+i]=n[i].plus(this.normals[i].toLength(e)),this[t].push(r+i,i);return this.hasBeenCompiled=!1,this}getAABB(){return(new B).addPoints(this.vertices)}getBoundingSphere(){const e={center:this.getAABB().getCenter(),radius:0};for(let t=0;t<this.vertices.length;t++)e.radius=Math.max(e.radius,this.vertices[t].minus(e.center).length());return e}static plane(e={}){const t=e.detailX||e.detail||1,n=e.detailY||e.detail||1,r=e.startX||0,i=e.startY||0,o=e.width||1,a=e.height||1,s=(new vt).addIndexBuffer("LINES").addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal").addVertexBuffer("coords","ts_TexCoord");for(let e=0;e<=n;e++){const l=e/n;for(let u=0;u<=t;u++){const c=u/t;if(s.vertices.push(new k(r+c*o,i+l*a,0)),s.coords.push([c,l]),s.normals.push(k.Z),u<t&&e<n){const n=u+e*(t+1);s.TRIANGLES.push(n,n+t+1,n+1,n+t+1,n+t+2,n+1)}}}for(let e=0;e<t;e++)s.LINES.push(e,e+1),s.LINES.push((t+1)*n+e,(t+1)*n+e+1);for(let e=0;e<n;e++)s.LINES.push(t*e,t*(e+1)+1),s.LINES.push(t*(e+1),t*(e+2)+1);return s.compile(),s}static box(e=1,t=1,n=1){const r=(new vt).addIndexBuffer("LINES").addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal");r.vertices.length=r.normals.length=2*((e+1)*(t+1)+(t+1)*(n+1)+(n+1)*(e+1)),r.TRIANGLES.length=4*(e*t+t*n+n*e);let i=0,o=0;function a(e,t,n,a=0,s=1,l=0,u=1){const c=n.transformVector(k.Z);for(let h=0;h<=t;h++){const f=h/t;for(let p=0;p<=e;p++){const d=p/e;if(r.vertices[i]=n.transformPoint(new k(a+d*s,l+f*u,0)),r.normals[i]=c,i++,p<e&&h<t){const t=p+h*(e+1);r.TRIANGLES[o++]=t,r.TRIANGLES[o++]=t+e+1,r.TRIANGLES[o++]=t+1,r.TRIANGLES[o++]=t+e+1,r.TRIANGLES[o++]=t+e+2,r.TRIANGLES[o++]=t+1}}}}return a(t,e,j.forSys(k.Y,k.X,k.Z.negated())),a(e,t,j.translate(k.Z)),a(n,t,j.forSys(k.Z,k.Y,k.X.negated())),a(t,n,j.forSys(k.Y,k.Z,k.X,k.X)),a(e,n,j.forSys(k.X,k.Z,k.Y.negated())),a(n,e,j.forSys(k.Z,k.X,k.Y,k.Y)),r}static cube(){const e=(new vt).addVertexBuffer("normals","ts_Normal").addIndexBuffer("TRIANGLES").addIndexBuffer("LINES"),t=[0,1,2,3,4,5,6,7,0,4,1,5,2,6,3,7,2,6,0,4,3,7,1,5];e.vertices=t.map(e=>vt.UNIT_CUBE_CORNERS[e]),e.normals=[k.X.negated(),k.X,k.Y.negated(),k.Y,k.Z.negated(),k.Z].flatMap(e=>[e,e,e,e]);for(let n=0;n<24;n+=4)It(e.TRIANGLES,0!=n%8,t[n],t[n+1],t[n+2],t[n+3]);return e.LINES=[0,1,0,2,1,3,2,3,0,4,1,5,2,6,3,7,4,5,4,6,5,7,6,7].map(e=>t.indexOf(e)),e.compile(),e}static isocahedron(){return vt.sphere(0)}static sphere2(e,t){const n=E(e,t=>{const n=t/(e-1)*ht-ht/2;return new k(0,ut(n),ct(n))});return vt.rotation(n,{anchor:k.O,dir1:k.Z},2*ht,t,!0,n)}static sphere(e=3){const t=(1+Math.sqrt(5))/2,n=new k(1,t,0).unit(),r=n.x,i=n.y,o=[new k(-r,i,0),new k(r,i,0),new k(-r,-i,0),new k(r,-i,0),new k(0,-r,i),new k(0,r,i),new k(0,-r,-i),new k(0,r,-i),new k(i,0,-r),new k(i,0,r),new k(-i,0,-r),new k(-i,0,r)],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];function s(e,t,n,r,i,o,a,l,u,c){if(0==r)o.push(a,l,u),a<l&&c.push(a,l),l<u&&c.push(l,u),u<a&&c.push(u,a);else{const h=e.plus(t).toLength(1),f=t.plus(n).toLength(1),p=n.plus(e).toLength(1),d=i.length,m=d+1,g=d+2;i.push(h,f,p),s(h,f,p,r-1,i,o,d,m,g,c),s(e,h,p,r-1,i,o,a,d,g,c),s(t,f,h,r-1,i,o,l,m,d,c),s(n,p,f,r-1,i,o,u,g,m,c)}}const l=(new vt).addVertexBuffer("normals","ts_Normal").addIndexBuffer("TRIANGLES").addIndexBuffer("LINES");l.vertices.push(...o),e=null==e?4:e;for(let t=0;t<20;t++){const[n,r,i]=a.slice(3*t,3*t+3);s(o[n],o[r],o[i],e,l.vertices,l.TRIANGLES,n,r,i,l.LINES)}return l.normals=l.vertices,l.compile(),l}static aabb(e){const t=j.product(j.translate(e.min),j.scale(e.size().max(new k(1/(1<<26),1/(1<<26),1/(1<<26))))),n=vt.cube().transform(t);return n.computeNormalLines(20),n.compile(),n}static offsetVertices(e,t,n,r){A.apply(void 0,e);const i=(new vt).addIndexBuffer("TRIANGLES").addVertexBuffer("coords","ts_TexCoord");r&&i.addVertexBuffer("normals","ts_Normal"),i.vertices=e.concat(e.map(e=>e.plus(t)));const o=e.length;i.coords=E(2*o,e=>[e%o/o,e/o|0]);const a=i.TRIANGLES;for(let t=0;t<e.length-1;t++)It(a,!1,t,t+1,e.length+t,e.length+t+1);return n&&It(a,!1,e.length-1,0,2*e.length-1,e.length),r&&(i.normals=r.concat(r)),i.compile(),i}static rotation(e,t,n,r,i=!0,o){const a=(new vt).addIndexBuffer("TRIANGLES");o&&a.addVertexBuffer("normals","ts_Normal");const s=e.length,l=s*r,u=new j,c=a.TRIANGLES;for(let h=0;h<r;h++){const f=n/r*h;if(j.rotateLine(t.anchor,t.dir1,f,u),a.vertices.push(...u.transformedPoints(e)),o&&a.normals.push(...u.transformedVectors(o)),i||h!==r-1)for(let e=0;e<s-1;e++)It(c,!1,h*s+e+1,h*s+e,((h+1)*s+e+1)%l,((h+1)*s+e)%l)}return a.compile(),a}static parametric(e,t,n,r,i,o,s,l){const u=(new vt).addIndexBuffer("TRIANGLES").addVertexBuffer("normals","ts_Normal");for(let c=0;c<=s;c++){const h=a(n,r,c/s);for(let n=0;n<=l;n++){const r=a(i,o,n/l);if(u.vertices.push(e(h,r)),t&&u.normals.push(t(h,r)),n<l&&c<s){const e=n+c*(l+1);It(u.TRIANGLES,!1,e,e+l+1,e+1,e+l+2)}}}return u}static load(e){const t=new vt;if(!Array.isArray(e.vertices[0]))throw new Error;return t.vertices=e.vertices.map(e=>O(e)),e.triangles&&(t.addIndexBuffer("TRIANGLES"),t.TRIANGLES=e.triangles),e.normals&&(t.addVertexBuffer("normals","ts_Normal"),t.normals=e.normals),t.compile(),t}toJSON(){return{vertices:this.vertices.map(e=>e.toArray()),TRIANGLES:this.TRIANGLES}}}vt.UNIT_CUBE_CORNERS=[k.O,new k(0,0,1),new k(0,1,0),new k(0,1,1),new k(1,0,0),new k(1,0,1),new k(1,1,0),k.XYZ];const yt=WebGLRenderingContext,bt={[yt.POINTS]:"POINTS",[yt.LINES]:"LINES",[yt.LINE_STRIP]:"LINE_STRIP",[yt.LINE_LOOP]:"LINE_LOOP",[yt.TRIANGLES]:"TRIANGLES",[yt.TRIANGLE_STRIP]:"TRIANGLE_STRIP",[yt.TRIANGLE_FAN]:"TRIANGLE_FAN"},wt={[yt.POINTS]:e=>!0,[yt.LINES]:e=>0==e%2,[yt.LINE_STRIP]:e=>e>2,[yt.LINE_LOOP]:e=>e>2,[yt.TRIANGLES]:e=>0==e%3,[yt.TRIANGLE_STRIP]:e=>e>3,[yt.TRIANGLE_FAN]:e=>e>3};class xt{constructor(e,t,n=Ct()){this.projectionMatrixVersion=-1,this.modelViewMatrixVersion=-1;const r="\n\t\tuniform mat3 ts_NormalMatrix;\n\t\tuniform mat4 ts_ModelViewMatrix;\n\t\tuniform mat4 ts_ProjectionMatrix;\n\t\tuniform mat4 ts_ModelViewProjectionMatrix;\n\t\tuniform mat4 ts_ModelViewMatrixInverse;\n\t\tuniform mat4 ts_ProjectionMatrixInverse;\n\t\tuniform mat4 ts_ModelViewProjectionMatrixInverse;\n\t".match(/\bts_\w+/g);function i(e,t){const r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("compile error: "+n.getShaderInfoLog(r));return r}if(this.gl=n,this.program=n.createProgram(),n.attachShader(this.program,i(n.VERTEX_SHADER,e)),n.attachShader(this.program,i(n.FRAGMENT_SHADER,t)),n.linkProgram(this.program),!n.getProgramParameter(this.program,n.LINK_STATUS))throw new Error("link error: "+n.getProgramInfoLog(this.program));this.attributeLocations={},this.uniformLocations={},this.constantAttributes={},this.activeMatrices={},r&&r.forEach(e=>{n.getUniformLocation(this.program,e)&&(this.activeMatrices[e]=!0)}),this.uniformInfos={};for(let e=n.getProgramParameter(this.program,n.ACTIVE_UNIFORMS);e-- >0;){const t=n.getActiveUniform(this.program,e);this.uniformInfos[t.name]=t}}static create(e,t,n){return new xt(e,t,n)}uniforms(e){const t=this.gl;t.useProgram(this.program);for(const n in e){const r=this.uniformLocations[n]||t.getUniformLocation(this.program,n);if(!r)continue;this.uniformLocations[n]=r;let i=e[n];const o=this.uniformInfos[n];if(i instanceof k&&(i=i.toArray()),t.FLOAT_VEC4==o.type&&1!=o.size)i instanceof Float32Array||i instanceof Float64Array?t.uniform4fv(r,i instanceof Float32Array?i:Float32Array.from(i)):t.uniform4fv(r,i.flatMap(e=>e));else if(t.FLOAT==o.type&&1!=o.size)t.uniform1fv(r,i);else if(t.FLOAT_VEC3==o.type&&1!=o.size)t.uniform3fv(r,k.pack(i));else if(i.length)switch(i.length){case 1:t.uniform1fv(r,i);break;case 2:t.uniform2fv(r,i);break;case 3:t.uniform3fv(r,i);break;case 4:t.uniform4fv(r,i);break;case 9:t.uniformMatrix3fv(r,!1,new Float32Array([i[0],i[3],i[6],i[1],i[4],i[7],i[2],i[5],i[8]]));break;case 16:t.uniformMatrix4fv(r,!1,new Float32Array([i[0],i[4],i[8],i[12],i[1],i[5],i[9],i[13],i[2],i[6],i[10],i[14],i[3],i[7],i[11],i[15]]));break;default:throw new Error("don't know how to load uniform \""+n+'" of length '+i.length)}else if("number"==typeof i)t.SAMPLER_2D==o.type||t.SAMPLER_CUBE==o.type||t.INT==o.type?t.uniform1i(r,i):t.uniform1f(r,i);else if("boolean"==typeof i)t.uniform1i(r,+i);else{if(!(i instanceof j))throw new Error('attempted to set uniform "'+n+'" to invalid value '+i);{const e=i.m;if(t.FLOAT_MAT4==o.type)t.uniformMatrix4fv(r,!1,[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]);else if(t.FLOAT_MAT3==o.type)t.uniformMatrix3fv(r,!1,[e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]]);else{if(t.FLOAT_MAT2!=o.type)throw new Error("Can't assign M4 to "+o.type);t.uniformMatrix2fv(r,!1,new Float32Array([e[0],e[4],e[1],e[5]]))}}}}return this}attributes(e){const t=this.gl;t.useProgram(this.program);for(const n in e){const r=this.attributeLocations[n]||t.getAttribLocation(this.program,n);if(-1==r){n.startsWith("ts_")||console.warn(`Vertex buffer ${n} was not bound because the attribute is not active.`);continue}this.attributeLocations[n]=r,t.disableVertexAttribArray(r);let i=e[n];i instanceof k&&(i=i.toArray()),"number"==typeof i?t.vertexAttrib1f(r,i):t.vertexAttrib4fv(r,i),this.constantAttributes[n]=!0}return this}draw(e,t=yt.TRIANGLES,n,r){e.hasBeenCompiled;const i=bt[t];return this.drawBuffers(e.vertexBuffers,e.indexBuffers[i],t,n,r)}drawBuffers(e,t,n=yt.TRIANGLES,r=0,i){const a=this.gl;o(),Object.keys(e).forEach(t=>(e[t],!0));const s=this.activeMatrices,l=(s.ts_ModelViewMatrixInverse||s.ts_NormalMatrix)&&a.modelViewMatrix.inversed(),u=s.ts_ProjectionMatrixInverse&&a.projectionMatrix.inversed(),c=(s.ts_ModelViewProjectionMatrix||s.ts_ModelViewProjectionMatrixInverse)&&a.projectionMatrix.times(a.modelViewMatrix),h={};s.ts_ModelViewMatrix&&this.modelViewMatrixVersion!=a.modelViewMatrixVersion&&(h.ts_ModelViewMatrix=a.modelViewMatrix),s.ts_ModelViewMatrixInverse&&(h.ts_ModelViewMatrixInverse=l),s.ts_ProjectionMatrix&&this.projectionMatrixVersion!=a.projectionMatrixVersion&&(h.ts_ProjectionMatrix=a.projectionMatrix),u&&(h.ts_ProjectionMatrixInverse=u),c&&(h.ts_ModelViewProjectionMatrix=c),c&&s.ts_ModelViewProjectionMatrixInverse&&(h.ts_ModelViewProjectionMatrixInverse=c.inversed()),s.ts_NormalMatrix&&this.modelViewMatrixVersion!=a.modelViewMatrixVersion&&(h.ts_NormalMatrix=l.transposed()),this.uniforms(h),this.projectionMatrixVersion=a.projectionMatrixVersion,this.modelViewMatrixVersion=a.modelViewMatrixVersion;let f=1/0;for(const t in e){const n=e[t];n.hasBeenCompiled;const r=this.attributeLocations[t]||a.getAttribLocation(this.program,t);-1!=r&&n.buffer?(this.attributeLocations[t]=r,a.bindBuffer(yt.ARRAY_BUFFER,n.buffer),a.enableVertexAttribArray(r),a.vertexAttribPointer(r,n.spacing,yt.FLOAT,!1,0,0),f=Math.min(f,n.count)):t.startsWith("ts_")||console.warn(`Vertex buffer ${t} was not bound because the attribute is not active.`)}for(const t in this.attributeLocations)t in e||a.disableVertexAttribArray(this.attributeLocations[t]);if(f){if(void 0===i&&(i=t?t.count:f),wt[n](i),wt[n].toString(),t){if(t.hasBeenCompiled,t.maxValue,t.spacing,t.spacing,r+i>t.count)throw new Error("Buffer not long enough for passed parameters start/length/buffer length "+r+" "+i+" "+t.count);a.bindBuffer(yt.ELEMENT_ARRAY_BUFFER,t.buffer),a.drawElements(n,i,t.bindSize,t.type.BYTES_PER_ELEMENT*r)}else{if(r+i>f)throw new Error("invalid");a.drawArrays(n,r,i)}a.drawCallCount++}return this}}class St{constructor(e,t,n={},r=Ct()){this.gl=r,this.width=e,this.height=t,this.format=n.format||r.RGBA,this.internalFormat=n.internalFormat||r.RGBA,this.type=n.type||r.UNSIGNED_BYTE;const i=n.filter||n.magFilter||r.LINEAR,o=n.filter||n.minFilter||r.LINEAR;if(this.type===r.FLOAT){if(2!=r.version&&!r.getExtension("OES_texture_float"))throw new Error("OES_texture_float is required but not supported");if((o!==r.NEAREST||i!==r.NEAREST)&&!r.getExtension("OES_texture_float_linear"))throw new Error("OES_texture_float_linear is required but not supported")}else if(this.type===r.HALF_FLOAT_OES){if(!r.getExtension("OES_texture_half_float"))throw new Error("OES_texture_half_float is required but not supported");if((o!==r.NEAREST||i!==r.NEAREST)&&!r.getExtension("OES_texture_half_float_linear"))throw new Error("OES_texture_half_float_linear is required but not supported")}this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,n.wrap||n.wrapS||r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,n.wrap||n.wrapT||r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,this.internalFormat,e,t,0,this.format,this.type,n.data)}setData(e){this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.internalFormat,this.width,this.height,0,this.format,this.type,e)}downloadData(e){if(!this.framebuffer)throw new Error("No framebuffer. You need to draw to this texture before it makes sense to read from it.");const t=this.gl,n=t.getParameter(t.FRAMEBUFFER_BINDING);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.readPixels(0,0,this.width,this.height,this.format,this.type,e,0),n!==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,n)}bind(e){this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture)}unbind(e){this.gl.activeTexture(this.gl.TEXTURE0+e),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}drawTo(e){const t=this.gl,n=t.getParameter(t.FRAMEBUFFER_BINDING);if(this.framebuffer)n!==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);else{const e=t.getParameter(t.RENDERBUFFER_BINDING),n=t.createRenderbuffer();if(t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,e),this.framebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)throw new Error("Rendering to this texture is not supported (incomplete this.framebuffer)")}const r=t.getParameter(t.VIEWPORT);t.viewport(0,0,this.width,this.height),e(t),n!==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,n),t.viewport(r[0],r[1],r[2],r[3])}swapWith(e){let t;this.gl,e.gl,t=e.texture,e.texture=this.texture,this.texture=t,t=e.width,e.width=this.width,this.width=t,t=e.height,e.height=this.height,this.height=t,t=e.framebuffer,e.framebuffer=this.framebuffer,this.framebuffer=t}static fromImage(e,t={},n=Ct()){const r=new St(e.width,e.height,t,n);try{n.texImage2D(n.TEXTURE_2D,0,r.format,r.format,r.type,e)}catch(e){throw"file:"==location.protocol?new Error('imgElement not loaded for security reasons (serve this page over "http://" instead)'):new Error("imgElement not loaded for security reasons (imgElement must originate from the same domain as this page or use Cross-Origin Resource Sharing)")}return t.minFilter&&t.minFilter!=n.NEAREST&&t.minFilter!=n.LINEAR&&n.generateMipmap(n.TEXTURE_2D),r}static fromURLSwitch(e,t,n=Ct()){St.checkerBoardCanvas=St.checkerBoardCanvas||function(){const e=document.createElement("canvas").getContext("2d");if(!e)throw new Error("Could not create 2d canvas.");e.canvas.width=e.canvas.height=128;for(let t=0;t<e.canvas.height;t+=16)for(let n=0;n<e.canvas.width;n+=16)e.fillStyle=16&(n^t)?"#FFF":"#DDD",e.fillRect(n,t,16,16);return e.canvas}();const r=St.fromImage(St.checkerBoardCanvas,t),i=new Image;return i.onload=()=>St.fromImage(i,t,n).swapWith(r),i.onerror=()=>{throw new Error("Could not load image "+i.src+". 404?")},i.src=e,r}static fromURL(e,t,n=Ct()){return new Promise((r,i)=>{const o=new Image;o.onload=()=>r(St.fromImage(o,t,n)),o.onerror=e=>i("Could not load image "+o.src+". 404?"+e),o.src=e})}}WebGLRenderingContext;function Et(e){window.console&&window.console.error?window.console.error(e):function(e){window.console&&window.console.log&&window.console.log(e)}(e)}const Tt={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},bindBuffer:{2:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}},bufferData:{3:{0:!0,2:!0},4:{0:!0,2:!0},5:{0:!0,2:!0}},bufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},copyBufferSubData:{5:{0:!0,1:!0}},getBufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},blitFramebuffer:{10:{8:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]},9:!0}},framebufferTextureLayer:{5:{0:!0,1:!0}},invalidateFramebuffer:{2:{0:!0}},invalidateSubFramebuffer:{6:{0:!0}},readBuffer:{1:{0:!0}},getInternalformatParameter:{3:{0:!0,1:!0,2:!0}},renderbufferStorageMultisample:{5:{0:!0,2:!0}},texStorage2D:{5:{0:!0,2:!0}},texStorage3D:{6:{0:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0},10:{0:!0,2:!0,6:!0,7:!0}},texImage3D:{10:{0:!0,2:!0,7:!0,8:!0},11:{0:!0,2:!0,7:!0,8:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0},10:{0:!0,6:!0,7:!0}},texSubImage3D:{11:{0:!0,8:!0,9:!0},12:{0:!0,8:!0,9:!0}},copyTexSubImage3D:{9:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0},8:{0:!0,2:!0},9:{0:!0,2:!0}},compressedTexImage3D:{8:{0:!0,2:!0},9:{0:!0,2:!0},10:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0},9:{0:!0,6:!0},10:{0:!0,6:!0}},compressedTexSubImage3D:{10:{0:!0,8:!0},11:{0:!0,8:!0},12:{0:!0,8:!0}},vertexAttribIPointer:{5:{2:!0}},drawArraysInstanced:{4:{0:!0}},drawElementsInstanced:{5:{0:!0,2:!0}},drawRangeElements:{6:{0:!0,4:!0}},readPixels:{7:{4:!0,5:!0},8:{4:!0,5:!0}},clearBufferfv:{3:{0:!0},4:{0:!0}},clearBufferiv:{3:{0:!0},4:{0:!0}},clearBufferuiv:{3:{0:!0},4:{0:!0}},clearBufferfi:{4:{0:!0}},beginQuery:{2:{0:!0}},endQuery:{1:{0:!0}},getQuery:{2:{0:!0,1:!0}},getQueryParameter:{2:{1:!0}},samplerParameteri:{3:{1:!0,2:!0}},samplerParameterf:{3:{1:!0}},getSamplerParameter:{2:{1:!0}},fenceSync:{2:{0:!0,1:{enumBitwiseOr:[]}}},clientWaitSync:{3:{1:{enumBitwiseOr:["SYNC_FLUSH_COMMANDS_BIT"]}}},waitSync:{3:{1:{enumBitwiseOr:[]}}},getSyncParameter:{2:{1:!0}},bindTransformFeedback:{2:{0:!0}},beginTransformFeedback:{1:{0:!0}},transformFeedbackVaryings:{3:{2:!0}},bindBufferBase:{3:{0:!0}},bindBufferRange:{5:{0:!0}},getIndexedParameter:{2:{0:!0}},getActiveUniforms:{3:{2:!0}},getActiveUniformBlockParameter:{3:{2:!0}}};let kt=null,Ot=null;function Mt(){if(null===kt){kt={},Ot={};const e=window.WebGL2RenderingContext||window.WebGLRenderingContext;if(!e)throw new Error("Neither WebGL2RenderingContext nor WebGLRenderingContext exists on window.");for(const t in e){const n=e[t];"number"==typeof n&&(kt[n]=t,Ot[t]=n)}}}function _t(e){Mt();var t=kt[e];return void 0!==t?"gl."+t:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function Rt(e,t,n,r){const i=Tt[e];if(void 0!==i){const e=i[t];if(void 0!==e){const t=e[n];if(t){if("object"==typeof t){const e=t.enumBitwiseOr,n=[];let i=0;for(let t=0;t<e.length;++t){const o=Ot[e[t]];0!=(r&o)&&(i|=o,n.push(_t(o)))}return i===r?n.join(" | "):_t(r)}return _t(r)}}}return null===r?"null":void 0===r?"undefined":r.toString()}function At(e,t,n){e.__defineGetter__(n,(function(){return t[n]})),e.__defineSetter__(n,(function(e){t[n]=e}))}function Ct(){return Pt.gl}class Pt{constructor(e,t={mesh:(new vt).addVertexBuffer("coords","ts_TexCoord").addVertexBuffer("colors","ts_Color"),mode:-1,coord:[0,0],color:[1,1,1,1],pointSize:1,shader:xt.create("\n\t\t\tattribute vec4 ts_Color;\n\t\t\tattribute vec4 ts_Vertex;\n\t\t\tuniform mat4 ts_ModelViewProjectionMatrix;\n\t\t\tattribute vec2 ts_TexCoord;\n            uniform float pointSize;\n            varying vec4 color;\n            varying vec2 coord;\n            void main() {\n                color = ts_Color;\n                coord = ts_TexCoord;\n                gl_Position = ts_ModelViewProjectionMatrix * ts_Vertex;\n                gl_PointSize = pointSize;\n            }\n\t\t","\n\t\t\tprecision highp float;\n            uniform sampler2D texture;\n            uniform float pointSize;\n            // uniform bool useTexture;\n            varying vec4 color;\n            varying vec2 coord;\n            void main() {\n                gl_FragColor = color;\n                // if (useTexture) gl_FragColor *= texture2D(texture, coord.xy);\n            }\n        ",e)}){this.immediate=t,this.modelViewMatrix=j.identity(),this.projectionMatrix=j.identity(),this.tempMatrix=new j,this.resultMatrix=new j,this.modelViewStack=[],this.projectionStack=[],this.drawCallCount=0,this.projectionMatrixVersion=0,this.modelViewMatrixVersion=0,this.cachedSDFMeshes={},this.matrixMode(Pt.MODELVIEW)}matrixMode(e){switch(e){case this.MODELVIEW:this.currentMatrixName="modelViewMatrix",this.stack=this.modelViewStack;break;case this.PROJECTION:this.currentMatrixName="projectionMatrix",this.stack=this.projectionStack;break;default:throw new Error("invalid matrix mode "+e)}}loadIdentity(){j.identity(this[this.currentMatrixName]),"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}loadMatrix(e){j.copy(e,this[this.currentMatrixName]),"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}multMatrix(e){j.multiply(this[this.currentMatrixName],e,this.resultMatrix);const t=this.resultMatrix;this.resultMatrix=this[this.currentMatrixName],this[this.currentMatrixName]=t,"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}mirror(e){this.multMatrix(j.mirror(e))}perspective(e,t,n,r){this.multMatrix(j.perspectiveRad(e*g,t,n,r,this.tempMatrix))}frustum(e,t,n,r,i,o){this.multMatrix(j.frustum(e,t,n,r,i,o,this.tempMatrix))}ortho(e,t,n,r,i,o){this.multMatrix(j.ortho(e,t,n,r,i,o,this.tempMatrix))}scale(...e){this.multMatrix(j.scale(...e,this.tempMatrix))}mirroredX(){this.multMatrix(j.mirror(P))}translate(e,t,n){void 0!==t?this.multMatrix(j.translate(e,t,n,this.tempMatrix)):this.multMatrix(j.translate(e,this.tempMatrix))}rotate(e,t,n,r){this.multMatrix(j.rotate(e*g,{x:t,y:n,z:r},this.tempMatrix))}lookAt(e,t,n){this.multMatrix(j.lookAt(e,t,n,this.tempMatrix))}pushMatrix(){this.stack.push(j.copy(this[this.currentMatrixName]))}popMatrix(){const e=this.stack.pop();this[this.currentMatrixName]=e,"projectionMatrix"==this.currentMatrixName?this.projectionMatrixVersion++:this.modelViewMatrixVersion++}wcToWindowMatrix(){const e=this.getParameter(this.VIEWPORT),[t,n,r,i]=e,o=new j([r/2,0,0,t+r/2,i/2,0,0,n+i/2,0,0,1,0,0,0,0,1]);return j.product(o,this.projectionMatrix,this.modelViewMatrix)}pointSize(e){this.immediate.shader.uniforms({pointSize:e})}begin(e){if(-1!=this.immediate.mode)throw new Error("mismatched viewerGL.begin() and viewerGL.end() calls");this.immediate.mode=e,this.immediate.mesh.colors=[],this.immediate.mesh.coords=[],this.immediate.mesh.vertices=[]}color(...e){var t;this.immediate.color=1==e.length&&Array.isArray(e[0])?e[0]:1==e.length&&"number"==typeof e[0]?[((t=e[0])>>16)/255,(t>>8&255)/255,(255&t)/255,1]:1==e.length&&"string"==typeof e[0]?ue(e[0]).gl():[e[0],e[1],e[2],e[3]||1]}texCoord(...e){this.immediate.coord=O.apply(void 0,e).toArray(2)}vertex(...e){this.immediate.mesh.colors.push(this.immediate.color),this.immediate.mesh.coords.push(this.immediate.coord),this.immediate.mesh.vertices.push(O.apply(void 0,e))}end(){if(-1==this.immediate.mode)throw new Error("mismatched viewerGL.begin() and viewerGL.end() calls");this.immediate.mesh.compile(),this.immediate.shader.uniforms({useTexture:!!Pt.gl.getParameter(this.TEXTURE_BINDING_2D)}).drawBuffers(this.immediate.mesh.vertexBuffers,void 0,this.immediate.mode),this.immediate.mode=-1}makeCurrent(){Pt.gl=this}animate(e){const t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(()=>e(performance.now()),1e3/60)};let n=performance.now(),r=!0;const i=o=>{r&&(e.call(this,o,o-n),n=o,t(i))};return t(i),()=>{r=!1}}fullscreen(e={}){const t=e.paddingTop||0,n=e.paddingLeft||0,r=e.paddingRight||0,i=e.paddingBottom||0;if(!document.body)throw new Error("document.body doesn't exist yet (call viewerGL.fullscreen() from window.onload() or from inside the <body> tag)");return document.body.appendChild(this.canvas),document.body.style.overflow="hidden",this.canvas.style.position="absolute",this.canvas.style.left=n+"px",this.canvas.style.top=t+"px",this.canvas.style.width=window.innerWidth-n-r+"px",this.canvas.style.bottom=window.innerHeight-t-i+"px",this.addResizeListener(),this}addResizeListener(e={}){const t=this;function n(){const n=t.canvas.getBoundingClientRect();t.canvas.width=n.width*window.devicePixelRatio,t.canvas.height=n.height*window.devicePixelRatio,t.viewport(0,0,t.canvas.width,t.canvas.height),e.camera&&(t.matrixMode(Pt.PROJECTION),t.loadIdentity(),t.perspective(e.fov||45,t.canvas.width/t.canvas.height,e.near||.1,e.far||1e3),t.matrixMode(Pt.MODELVIEW))}return window.addEventListener("resize",n),n(),this}getMouseLine(e,t){if(e instanceof MouseEvent)return this.getMouseLine(e.offsetX,e.offsetY);const n=O(2*e/this.canvas.offsetWidth-1,2*-t/this.canvas.offsetHeight+1,0),r=O(2*e/this.canvas.offsetWidth-1,2*-t/this.canvas.offsetHeight+1,1),i=this.projectionMatrix.inversed(),o=i.transformPoint(n);return{anchor:o,dir:i.transformPoint(r).minus(o)}}viewportFill(){this.viewport(0,0,this.canvas.width,this.canvas.height)}setupTextRendering(e,t){return V(this,void 0,void 0,(function*(){this.textRenderShader=xt.create("attribute vec2 ts_TexCoord;attribute vec4 ts_Vertex;uniform mat4 ts_ModelViewProjectionMatrix;varying vec2 coord;void main(){coord=ts_TexCoord.xy;gl_Position=ts_ModelViewProjectionMatrix*ts_Vertex;}","precision mediump float;uniform sampler2D u_texture;uniform vec4 u_color;uniform float u_buffer;uniform float u_gamma;uniform float u_debug;varying vec2 coord;void main(){float dist=texture2D(u_texture,coord).r;if(u_debug>0.0){gl_FragColor=vec4(dist,dist,dist,1);}else{float alpha=smoothstep(u_buffer-u_gamma,u_buffer+u_gamma,dist);gl_FragColor=vec4(u_color.rgb,alpha*u_color.a);if(gl_FragColor.a==0.0){discard;}}}"),[this.textAtlas,this.textMetrics]=yield Promise.all([St.fromURL(e,{format:this.LUMINANCE,internalFormat:this.LUMINANCE,type:this.UNSIGNED_BYTE}),fetch(t).then(e=>e.json())])}))}getSDFMeshForString(e){return this.textMetrics,this.cachedSDFMeshes[e]||(this.cachedSDFMeshes[e]=function(e,t,n,r=1){const i=(new vt).addIndexBuffer("TRIANGLES").addVertexBuffer("coords","ts_TexCoord");let o=0,a=0;function s(n){const r=e.chars[n];if(!r)return;const[s,l,u,c,h,f,p]=r,{size:d,buffer:m}=e,g=i.vertices.length;if(s>0&&l>0){const e=(o+u-m)/d,n=(o+u+s+m)/d,r=(c-l-m)/d,h=(c+m)/d;i.vertices.push(new k(e,r,a/d),new k(n,r,a/d),new k(e,h,a/d),new k(n,h,a/d));const v=f/t.width,y=(f+s+2*m)/t.width,b=(p+l+2*m)/t.height,w=p/t.height;i.coords.push([v,b],[y,b],[v,w],[y,w]),It(i.TRIANGLES,!1,g,g+1,g+2,g+3)}o+=h}for(let t=0;t<n.length;t++){const i=n[t];"\n"==i?(o=0,a+=r*e.size):s(i)}return Object.assign(i.compile(),{width:o/e.size,lineCount:a+1})}
/**
 * @license
 *
 * js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */(this.textMetrics,this.textAtlas,e))}renderText(e,t,n=1,r="left",i="bottom",o=.05,a=1.2){const s=this.getSDFMeshForString(e);this.pushMatrix(),this.scale(n);const l={top:-this.textMetrics.ascender/this.textMetrics.size,middle:(-this.textMetrics.ascender-this.textMetrics.descender)/2/this.textMetrics.size,alphabetic:0,bottom:-this.textMetrics.descender/this.textMetrics.size};this.translate({left:0,center:-.5,right:-1}[r]*s.width,l[i],0),this.multMatrix(j.forSys(k.X,k.Y,new k(0,-a,0))),this.textAtlas.bind(0),this.textRenderShader.uniforms({texture:0,u_color:t,u_debug:0,u_gamma:o,u_buffer:.75}).draw(s),this.popMatrix()}static create(e={}){const t=e.canvas||document.createElement("canvas");e.canvas||(t.width=800,t.height=600),"alpha"in e||(e.alpha=!1);let n=void 0;try{n=t.getContext("webgl2",e),n&&(n.version=2),n||(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n&&(n.version=1)),console.log("getting context")}catch(e){console.log(e,"Failed to get context")}if(!n)throw new Error("WebGL not supported");return e.throwOnError&&(n=function e(t,n,r,i=t){Mt(),n=n||function(e,t,n){var r="",i=n.length;for(let e=0;e<i;++e)r+=(0==e?"":", ")+Rt(t,i,e,n[e]);Et("WebGL error "+_t(e)+" in "+t+"("+r+")")};const o={};function a(e,t){return function(...a){r&&r(t,a);const s=e[t].apply(e,a),l=i.getError();return 0!=l&&(o[l]=!0,n(l,t,a)),s}}const s={};for(let o in t){if("function"==typeof t[o])if("getExtension"!=o)s[o]=a(t,o);else{let l=a(t,o);s[o]=function(){const o=l.apply(t,arguments);return o?e(o,n,r,i):null}}else At(s,t,o)}return s.getError=function(){for(const e in o)if(o.hasOwnProperty(e)&&o[e])return o[e]=!1,parseInt(e);return t.NO_ERROR},s}(n,(e,t)=>{throw new Error(_t(e)+" was caused by "+t)})),Pt.gl=n,d(n,Pt.prototype),d(n,new Pt(n)),n}fixCanvasRes(e=1/0){this.canvas.width=this.canvas.clientWidth*Math.min(window.devicePixelRatio,e),this.canvas.height=this.canvas.clientHeight*Math.min(window.devicePixelRatio,e),this.viewport(0,0,this.canvas.width,this.canvas.height)}}var Nt;function It(e,t,n,r,i,o){t?e.push(n,i,r,r,i,o):e.push(n,r,i,r,o,i)}Pt.MODELVIEW=0,Pt.PROJECTION=1,Pt.HALF_FLOAT_OES=36193,function(e){e.create=Pt.create}(Nt||(Nt={})),Pt.prototype.MODELVIEW=Pt.MODELVIEW,Pt.prototype.PROJECTION=Pt.PROJECTION,Pt.prototype.HALF_FLOAT_OES=Pt.HALF_FLOAT_OES;const{abs:Ut,atan2:Lt,cos:Dt,floor:Ft,log:Bt,min:zt,max:Gt,round:jt,sign:Vt,sin:Ht,sqrt:qt,cbrt:Wt,PI:Yt,hypot:Xt}=Math;function Zt(e,t,n){return e+(t-e)*n}function $t(e,t=0,n=1){return e<t?t:e>n?n:e}function Qt(e,t,n,r=1e-8){let i,o=t;for(;n--&&Ut(i=e(o))>r;){const t=(e(o+r)-i)/r;console.log("fx / dfdx",i/t,"fx",i,"x",o),o-=i/t}return o}const Kt=Yt/180,Jt=180/Yt;function en(...e){return e[0]instanceof tn?e[0]:e.length>1&&"string"==typeof e[e.length-1]?wn(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?wn(e[0]):wn(e)}class tn{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}mix(e,t,n="rgb"){return sn(this,e,t,n)}rgb(e=!0,t=!0){const n=n=>(e&&(n=jt(n)),t&&(n=$t(n,0,255)),n),{r:r,g:i,b:o}=this;return[n(r),n(i),n(o)]}rgba(e=!0,t=!0){const n=n=>(e&&(n=jt(n)),t&&(n=$t(n,0,255)),n),{r:r,g:i,b:o,a:a}=this;return[n(r),n(i),n(o),a]}hex(e="rgb"){const{r:t,g:n,b:r,a:i}=this;return function(e,t,n,r,i="rgb"){e=$t(jt(e),0,255),t=$t(jt(t),0,255),n=$t(jt(n),0,255);const o=(e<<16|t<<8|n).toString(16).padStart(6,"0"),a=jt(255*$t(r)).toString(16).padStart(2,"0");return"#"+("argb"==i?a+o:"rgba"==i?o+a:o)}(t,n,r,i,e)}hsl(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=Fn(e/255,t/255,n/255),a=(o+i)/2;let s;s=o==i?0:a<.5?(o-i)/(o+i):(o-i)/(2-o-i);return[r,s,a]}(e,t,n)}hsv(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=Fn(e,t,n),a=o-i;return[r,0==o?0:a/o,o/255]}(e,t,n)}hcg(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=Fn(e,t,n),a=(o-i)/255;return[r,a,a<1?i/255/(1-a):0]}(e,t,n)}css(e="rgb"){if("rgb"==e){const{r:e,g:t,b:n,a:r}=this;return function(e,t,n,r=1){return r>=1?"rgb("+[e,t,n].map(jt).join(",")+")":"rgba("+[e,t,n].map(jt).join(",")+","+r+")"}(e,t,n,r)}if("hsl"==e)return function([e,t,n],r){const i=r<1?"hsla":"hsl";return i+"("+Pn(e)+","+Pn(100*t)+"%,"+Pn(100*n)+"%"+("hsla"==i?","+Pn(r):"")+")"}(this.hsl(),this.alpha());throw new Error}name(e=!1){const t=this.num(),n=Object.keys(an).find(e=>an[e]==t);if(!n&&e){const[e,t,n]=this.lab();return(r=Object.keys(an))[Kn(r,r=>{const[i,o,a]=hn(an[r]).lab();return-Xt(e-i,t-o,n-a)})]}var r;return n}cmyk(){const{r:e,g:t,b:n}=this;return function(e,t,n){const r=1-Gt(e/=255,t/=255,n/=255);return 1==r?[0,0,0,1]:[(1-e-r)/(1-r),(1-t-r)/(1-r),(1-n-r)/(1-r),r]}(e,t,n)}gl(){const{r:e,g:t,b:n,a:r}=this;return[e/255,t/255,n/255,r]}luminance(e){const{r:t,g:n,b:r,a:i}=this,[,o]=$n(t,n,r);if(void 0===e)return o;const a=(e,t,n)=>(n-e)/(t-e);return e>o?sn(this,rn,a(o,1,e),"xyz").alpha(i):sn(nn,this,a(0,o,e),"xyz").alpha(i)}temperature(){const{r:e,g:t,b:n}=this;return r=e,i=t,o=n,console.log(o-r),i+o<158.61?(console.log("0 < t < 20"),jt(100*Qt(e=>i-(-155.25485562709179-.44596950469579133*(e-2)+104.49216199393888*Bt(e-2)),15,4))):o-r<0?(console.log("20 < t < 66"),jt(100*Qt(e=>o-(.8274096064007395*(e-10)-254.76935184120902+115.67994401066147*Bt(e-10)),43,4))):(console.log("0 < t < 400, start= "+(-1.4*(r+i)+755)),jt(100*Qt(e=>r-(351.97690566805693+.114206453784165*(e-55)-40.25366309332127*Bt(e-55)),-1.4*(r+i)+755,8)));var r,i,o}set(e,t){const[n,r]=e.split("."),i=this[n](),o=n.indexOf(r);if(-1==o)throw new Error("invalid channel");return i[o]="number"==typeof t?t:t(i[o]),en(i,n).alpha(this.a)}clipped(){const{r:e,g:t,b:n}=this;return!(0<=e&&e<=255&&0<=t&&t<=255&&0<=n&&n<=255)}textColor(){return this.luminance()>.5?nn:rn}alpha(e){if(void 0===e)return this.a;const{r:t,g:n,b:r}=this;return fn(t,n,r,e)}darker(e=1){const[t,n,r]=this.lab();return cn(t-jn*e,n,r,this.alpha())}brighter(e=1){return this.darker(-e)}saturate(e=1){const[t,n,r]=this.lch();return function(...e){return wn(e,"lch")}(t,Gt(0,n+e*jn),r,this.alpha())}desaturate(e=1){return this.saturate(-e)}premultiplied(){const{r:e,g:t,b:n,a:r}=this;return fn(e*r,t*r,n*r,r)}hsi(){const{r:e,g:t,b:n}=this;return function(e,t,n){const r=e/255,i=t/255,o=n/255,a=(r+i+o)/3;if(r==i&&i==o)return[0,0,a];{const e=.5*(2*r-i-o),t=qt(3)/2*(i-o),n=Lt(t,e),s=zt(r,i,o);return[(n<0?2*Yt+n:n)*Jt,1-s/a,a]}}(e,t,n)}lab(){const{r:e,g:t,b:n}=this;return Zn(e,t,n)}num(e="rgb"){const{r:t,g:n,b:r,a:i}=this;return function(e,t,n,r=1,i="rgb"){const o=jt(e)<<16|jt(t)<<8|jt(n);return"rgb"===i?o:"rgba"===i?o<<8|jt(255*r)<<24:jt(255*r)<<24|o}(t,n,r,i,e)}lch(){const{r:e,g:t,b:n}=this;return function(e,t,n){const[r,i,o]=Zn(e,t,n);return function(e,t,n){const r=Xt(t,n),i=(Lt(n,t)*Jt+360)%360;return[e,r,i]}(r,i,o)}(e,t,n)}xyz(){const{r:e,g:t,b:n}=this;return $n(e,t,n)}equals(e){const{r:t,g:n,b:r,a:i}=this,{r:o,g:a,b:s,a:l}=e;return t==o&&n==a&&r==s&&i==l}hashCode(){return this.num("rgba")}toSource(){const{r:e,g:t,b:n,a:r}=this;return"chroma.rgb("+e+", "+t+", "+n+(1===r?")":", "+r+")")}}tn.prototype.toString=tn.prototype.css,tn.prototype.kelvin=tn.prototype.temperature;const nn=new tn(0,0,0,1),rn=new tn(255,255,255,1),on={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sn(e,t,n=.5,r="rgb"){const i=en(e),o=en(t),a=yn[r]&&yn[r](i,o,n,r);if(!a)throw new Error("color mode "+r+" is not supported");return a.alpha(Zt(i.alpha(),o.alpha(),n))}function ln(...e){return wn(e,"gl")}function un(...e){return wn(e,"hsl")}function cn(...e){return wn(e,"lab")}function hn(e){const[t,n,r]=En(e);return new tn(t,n,r)}function fn(...e){return wn(e,"rgb")}Ln(Dn((e,t)=>e)),Ln(Dn((e,t)=>e*t/255)),Ln(Dn((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),Ln(Dn((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),Ln(Dn(zt)),Ln(Dn(Gt)),Ln(Dn((function(e,t){if(255==e)return 255;return 255*zt(1,t/255/(1-e/255))}))),Ln(Dn((function(e,t){return 255*(1-(1-t/255)/(e/255))})));function pn(...e){const t=e=>t._at(e);return Object.getOwnPropertyNames(dn.prototype).forEach(e=>t[e]=dn.prototype[e]),Array.isArray(e[0])&&(e=e[0]),1==e.length&&"string"==typeof e[0]&&(e=on[e[0]]),t._init("function"==typeof e[0]?e[0]:e.map(e=>en(e))),t}class dn{classes(e){if(void 0===e)return this._classes;if(Array.isArray(e))this._classes=e,this.domain(e[0],e[e.length-1]);else{if(e%1!=0||e<1)throw new Error("invalid classes param");this._classes=vn(this.domain(),"e",e)}return this}domain(...e){if(void 0===e[0])return"function"!=typeof this._colors?this._pos.map(e=>Zt(this._min,this._max,e)):[this._min,this._max];if(this._min=e[0],this._max=e[e.length-1],2==e.length)"function"!=typeof this._colors&&(this._pos=this._colors.map((e,t)=>t/(this._colors.length-1)));else{if("function"==typeof this._colors||e.length!=this._colors.length)throw new Error("invalid domain "+e);this._pos=e.map(e=>{return t=this._min,n=this._max,(e-t)/(n-t);var t,n})}return this}mode(e){return void 0===e?this._mode:(this._mode=e,this._resetCache(),this)}out(e){return this._out=e,this}correctLightness(e=!0){if(this._correctLightness!=e){this._resetCache();const t=this._colors;if(e&&"function"!=typeof t){let e=0;for(let n=1;n<t.length;n++){const r=t[n].lab()[0]-t[n-1].lab()[0];if(0==e)e=r;else if(e*r<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=e,this}padding(e,t=e){return e?(this._paddingLeft=e,this._paddingRight=t,this):[this._paddingLeft,this._paddingRight]}colors(e,t="hex"){let n;if(void 0===e)n=this._colors.slice();else if(1==e)n=[this._color((this._min+this._max)/2)];else if(e>1)n=Array.from({length:e},(t,n)=>this._color(Zt(this._min,this._max,n/(e-1))));else{let e;e=this._classes&&this._classes.length>2?Array.from({length:this._classes.length-1},(e,t)=>.5*(this._classes[t]+this._classes[t+1])):this.domain(),n=e.map(e=>this._color(e))}return"color"!=t?n.map(e=>e[t]()):n}cache(e){return void 0===e?!!this._cache:(this._cache=e?this._cache||new Map:void 0,this)}gamma(e){return void 0===e?this._gamma:(this._gamma=e,this)}_at(e){const t=this._color(e);return this._out?t[this._out]():t}_init(e){this._colors=e,"function"!=typeof e&&(this._pos=e.map((t,n)=>n/(e.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(e){return this._classes.findIndex(t=>e<=t)-1}_color(e,t=!1){let n;if(t)n=e;else{const t=this._min,r=this._max;if(this._classes&&this._classes.length>2){n=this._getClass(e)/(this._classes.length-2)}else n=r!==t?(e-t)/(r-t):1;this._correctLightness&&(n=this._tCorrectedLightness(n))}n=n**this._gamma,n=(this._paddingLeft+n)/(1+this._paddingLeft+this._paddingRight),n=$t(n,0,1);const r=n,i=this._cache&&this._cache.get(r);if(i)return i;{let e;if(Array.isArray(this._colors))for(let t=0;t<this._pos.length;t++){const r=this._pos[t];if(n<=r){e=this._colors[t];break}if(n>=r&&t==this._pos.length-1){e=this._colors[t];break}if(n>r&&n<this._pos[t+1]){n=(n-r)/(this._pos[t+1]-r),e=sn(this._colors[t],this._colors[t+1],n,this._mode);break}}else e=this._colors(n);return this._cache&&this._cache.set(r,e),e}}_tCorrectedLightness(e){const t=Zt(this._color(0,!0).lab()[0],this._color(1,!0).lab()[0],e);return function(e,t,n,r){let i=e(t);for(;r--;){const r=(t+n)/2,o=e(r);Vt(i)==Vt(o)?(t=r,i=o):n=r}return(t+n)/2}(e=>this._color(e,!0).lab()[0]-t,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var mn;function gn(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};return e.forEach(e=>function(e){null==e||isNaN(e)||(t.values.push(e),t.sum+=e,e<t.min&&(t.min=e),e>t.max&&(t.max=e),t.count+=1)}(e)),t.domain=[t.min,t.max],t.limits=function(e,t){return vn(this,e,t)},t}function vn(e,t="e",n=7){const r=Array.isArray(e)?gn(e):e,{min:i,max:o,values:a}=r;if(a.sort((e,t)=>e-t),1==n)return[i,o];if(t.startsWith("c"))return[i,o];if(t.startsWith("e"))return Array.from({length:n+1},(e,t)=>Zt(i,o,t/n));if(t.startsWith("l")){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");const e=Math.LOG10E*Bt(i),t=Math.LOG10E*Bt(o);return Array.from({length:n+1},(r,i)=>10**Zt(e,t,i/n))}if(t.startsWith("q"))return Array.from({length:n+1},(e,t)=>{const r=(a.length-1)*t/n,i=Ft(r);return i==r?a[i]:Zt(a[i],a[i+1],r-i)});if(t.startsWith("k")){const e=a.length,t=new Array(e),r=new Array(n);let s=!0,l=0,u=Array.from({length:n+1},(e,t)=>Zt(i,o,t/n));do{r.fill(0);for(let e=0;e<a.length;e++){const n=a[e],i=Kn(u,e=>-Ut(e-n));r[i]++,t[e]=i}const e=new Array(n).fill(0);for(let n=0;n<t.length;n++){e[t[n]]+=a[n]}for(let t=0;t<e.length;t++)e[t]/=r[t];s=e.some((e,t)=>e!=u[t]),u=e}while(l++<200&&s);const c=Array.from({length:n},()=>[]);for(let e=0;e<t.length;e++){c[t[e]].push(a[e])}const h=[];for(const e of c)h.push(e[0],e[e.length-1]);h.sort((e,t)=>e-t);const f=[];f.push(h[0]);for(let e=1;e<h.length;e+=2){const t=h[e];isNaN(t)||-1!=f.indexOf(t)||f.push(t)}return f}throw new Error("unknown mode")}!function(e){e.cool=function(){return pn([un(180,1,.9),un(250,.7,.4)])},e.hot=function(){return pn(["#000","#f00","#ff0","#fff"]).mode("rgb")}}(mn||(mn={}));const yn={},bn={};function wn(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(1==e.length&&e[0]in an)t="name";else if(1==e.length&&"string"==typeof e[0])t="css";else if(3==e.length)t="rgb";else if(4==e.length&&"number"==typeof e[3]&&e[3]>=0&&e[3]<=1)t="rgb";else{if(!(1==e.length&&"number"==typeof e[0]&&e[0]>=0&&e[0]<=16777215))throw new Error("could not guess mode. args "+JSON.stringify(e));t="num"}const n=bn[t](...e);return new tn(n[0],n[1],n[2],void 0!==n[3]?n[3]:1)}function xn(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),t[4]?17*parseInt(t[4],16)/255:1];throw new Error("invalid hex color: "+e)}function Sn(e){return(e%360+360)%360}function En(e){if(!("number"==typeof e&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);return[e>>16,e>>8&255,255&e,1]}yn.xyz=yn.rgb=yn.lab=function(e,t,n,r){const i=e[r](),o=t[r]();return wn([Zt(i[0],o[0],n),Zt(i[1],o[1],n),Zt(i[2],o[2],n),Zt(e.alpha(),t.alpha(),n)],r)},yn.num=function(e,t,n){return hn(Zt(e.num(),t.num(),n))},yn.lrgb=function(e,t,n){const[r,i,o,a]=e.rgba(!1,!1),[s,l,u,c]=t.rgba(!1,!1);return new tn(qt(r**2*(1-n)+s**2*n),qt(i**2*(1-n)+l**2*n),qt(o**2*(1-n)+u**2*n),Zt(a,c,n))},bn.lrgb=bn.rgb,bn.hex=xn,bn.hsl=zn,bn.hsv=function(e,t,n,r=1){e=Sn(e);const i=n*t;return Bn(e,i,i*(1-Ut(e/60%2-1)),n-i,r)},bn.num=En;const Tn="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",kn=new RegExp(["^rgba?\\(",Tn,",",Tn,",",Tn,"(?:,",Tn+"(%)?",")?\\)$"].join("\\s*"),"i"),On=new RegExp(["^rgba?\\(",Tn,Tn,Tn,"(?:/",Tn+"(%)?",")?\\)$"].join("\\s*"),"i"),Mn=new RegExp(["^rgba?\\(",Tn+"%",",",Tn+"%",",",Tn+"%","(?:,",Tn+"(%)?",")?\\)$"].join("\\s*"),"i"),_n=new RegExp(["^rgba?\\(",Tn+"%",Tn+"%",Tn+"%","(?:/",Tn+"(%)?",")?\\)$"].join("\\s*"),"i"),Rn=new RegExp(["^hsla?\\(",Tn+"(deg|rad|turn)?",",",Tn+"%",",",Tn+"%","(?:,",Tn+"(%)?",")?\\)$"].join("\\s*"),"i"),An=new RegExp(["^hsla?\\(",Tn+"(deg|rad|turn)?\\s+"+Tn+"%",Tn+"%","(?:/",Tn+"(%)?",")?\\)$"].join("\\s*"),"i");function Cn(e){if(an&&an.hasOwnProperty(e))return En(an[e.toLowerCase()]);let t;if(t=e.match(kn)||e.match(On))return[$t(+t[1],0,255),$t(+t[2],0,255),$t(+t[3],0,255),t[4]?$t(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Mn)||e.match(_n))return[255*$t(+t[1]/100),255*$t(+t[2]/100),255*$t(+t[3]/100),t[4]?$t(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Rn)||e.match(An)){const e={deg:1,rad:Jt,turn:360},n=t[2]?t[2].toLowerCase():"deg";return zn((+t[1]*e[n]%360+360)%360,$t(+t[3]/100),$t(+t[4]/100),t[5]?$t(t[6]?+t[5]/100:+t[5]):1)}return xn(e)}function Pn(e){return jt(100*e)/100}function Nn(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function In(e){return e<=.0031308?12.92*e*255:255*(1.055*e**(1/2.4)-.055)}function Un(e){const t=e/100;let n,r,i;return t<66?(n=255,r=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*Bt(t-2),i=t<20?0:.8274096064007395*(t-10)-254.76935184120902+115.67994401066147*Bt(t-10)):(n=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*Bt(t-55),r=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*Bt(t-50),i=255),[n,r,i]}function Ln(e){return function(t,n){const[r,i,o]=e(en(n).rgb(),en(t).rgb());return fn(r,i,o)}}function Dn(e){return function(t,n){return t.map((t,r)=>e(t,n[r]))}}function Fn(e,t,n){const r=zt(e,t,n),i=Gt(e,t,n),o=i-r;let a;return a=0==o?0:e==i?(t-n)/o+(t<n?6:0):t==i?2+(n-e)/o:4+(e-t)/o,[60*a,r,i]}function Bn(e,t,n,r,i){const o=255*r,a=255*t+o,s=255*n+o;return e<60?[a,s,o,i]:e<120?[s,a,o,i]:e<180?[o,a,s,i]:e<240?[o,s,a,i]:e<300?[s,o,a,i]:[a,o,s,i]}function zn(e,t,n,r=1){e=Sn(e);const i=(1-Ut(2*n-1))*t;return Bn(e,i,i*(1-Ut(e/60%2-1)),n-i/2,r)}function Gn(e,t,n,r=1){const[i,o,a]=function(e,t,n){function r(e){return e>Wn?e**3:Yn*(e-4/29)}return[Vn*r((e+16)/116+t/500),Hn*r((e+16)/116),qn*r((e+16)/116-n/200)]}(e,t,n);return Qn(i,o,a,r)}bn.css=Cn,bn.name=function(e){return En(an[e])},bn.lch=function(e,t,n,r=1){const[,i,o]=function(e,t,n){return[e,Dt(n*Kt)*t,Ht(n*Kt)*t]}(e,t,n);return Gn(e,i,o,r)},bn.cmyk=function(e,t,n,r,i=1){return 1==r?[0,0,0,i]:[255*(1-e)*(1-r),255*(1-t)*(1-r),255*(1-n)*(1-r),i]},bn.gl=function(e,t,n,r=1){return[255*e,255*t,255*n,r]},bn.rgb=(...e)=>e,bn.temperature=bn.kelvin=bn.K=Un,bn.hcg=function(e,t,n,r=1){const i=n*(1-t);return Bn(e=Sn(e),t,t*(1-Ut(e/60%2-1)),i,r)};const jn=18,Vn=.95047,Hn=1,qn=1.08883,Wn=.206896552,Yn=.12841855,Xn=.008856452;function Zn(e,t,n){const[r,i,o]=$n(e,t,n);return function(e,t,n){function r(e){return e>Xn?Wt(e):e/Yn+4/29}return[116*r(t/Hn)-16,500*(r(e/Vn)-r(t/Hn)),200*(r(t/Hn)-r(n/qn))]}(r,i,o)}function $n(e,t,n){const r=Nn(e),i=Nn(t),o=Nn(n);return[.4124564*r+.3575761*i+.1804375*o,.2126729*r+.7151522*i+.072175*o,.0193339*r+.119192*i+.9503041*o]}function Qn(e,t,n,r=1){const i=-.969266*e+1.8760108*t+.041556*n,o=.0556434*e-.2040259*t+1.0572252*n;return[In(3.2404542*e-1.5371385*t-.4985314*n),In(i),In(o),r]}function Kn(e,t){let n=-1/0,r=-1;for(let i=0;i<e.length;i++){const o=t(e[i]);o>n&&(n=o,r=i)}return r}bn.xyz=Qn,bn.lab=Gn,bn.hsi=function(e,t,n,r=1){let i,o,a,s=e*Kt;return s<2*Yt/3?(a=(1-t)/3,i=(1+t*Dt(s)/Dt(Yt/3-s))/3,o=1-(a+i)):s<4*Yt/3?(s-=2*Yt/3,i=(1-t)/3,o=(1+t*Dt(s)/Dt(Yt/3-s))/3,a=1-(i+o)):(s-=4*Yt/3,o=(1-t)/3,a=(1+t*Dt(s)/Dt(Yt/3-s))/3,i=1-(o+a)),[3*n*i*255,3*n*o*255,3*n*a*255,r]},yn.hsv=yn.hsl=yn.hsi=yn.lch=yn.hcg=function(e,t,n,r){const[i,o,a]=e[r](),[s,l,u]=t[r]();function c(e,t,n){return e+n*(Sn(t-e+180)-180)}return en(("h"==r.charAt(0)?c:Zt)(i,s,n),Zt(o,l,n),("h"==r.charAt(2)?c:Zt)(a,u,n),r)};var Jn=setTimeout;function er(e,t){var n=t.useCachedSetTimeout?Jn:setTimeout;return new Promise((function(t){n(t,e)}))}var tr=function(e){function t(e){return i.then((function(){return e}))}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.useCachedSetTimeout,i=er(e,{useCachedSetTimeout:r});return t.then=function(){return i.then.apply(i,arguments)},t.catch=Promise.resolve().catch,t},nr=n(1),rr=n(20),ir=n(21),or=n(0),ar="#version 300 es\r\nin vec4 ts_Vertex;\r\nin vec2 ts_TexCoord;\r\nout vec2 coord;\r\nvoid main() {\r\n    coord = ts_TexCoord.xy;\r\n    gl_Position = ts_Vertex;\r\n}",sr=n.p+"9f2a6e398434ad4fb383aa9d00d675e7.ttf";n(52);const lr="C:\\Users\\aval\\tsdev\\workshop\\src\\index.tsx";const ur=(e,t,n,r)=>{const i=vt.plane({startX:-1,width:2,startY:-1,height:2});return i.coords[0]=[e,t],i.coords[1]=[n,t],i.coords[2]=[e,r],i.coords[3]=[n,r],i.compile(),i},cr=async(e,t,n)=>{await n(e+1,t),await n(e-1,t),await n(e,t+1),await n(e,t-1),await n(e+1-2*(1&t),t+1),await n(e+1-2*(1&t),t-1)},hr=Math.sqrt(3)/2,fr=(e,t)=>O(e+.5*(1&t),t*hr,0);Object(nr.assert)(fr(0,0).equals(O(0,0))),Object(nr.assert)(fr(1,0).equals(O(1,0))),Object(nr.assert)(fr(0,1).equals(O(.5,hr)));const pr=(e,t,n,r)=>(([e,t,n],[r,i,o])=>(Math.abs(r-e)+Math.abs(i-t)+Math.abs(o-n))/2)(dr(e,t),dr(n,r)),dr=(e,t)=>{const n=e-(t>>1);return[n,t,-n-t]};nr.assert.deepEqual(dr(0,0),[0,0,-0]),nr.assert.deepEqual(dr(1,0),[1,0,-1]),nr.assert.deepEqual(dr(0,1),[0,1,-1]),nr.assert.deepEqual(dr(0,2),[-1,2,-1]),nr.assert.deepEqual(dr(-1,0),[-1,0,1]),nr.assert.deepEqual(dr(0,-1),[1,-1,0]),nr.assert.deepEqual(dr(-1,-1),[0,-1,1]),nr.assert.deepEqual(dr(0,-2),[1,-2,1]);class mr{constructor(e,t){this.w=e,this.h=t,this.data=new Uint8Array(e*t)}clone(){const e=new mr(this.w,this.h);return e.plusHS(this),e}dualize(){for(let e=0;e<this.h*this.w;e++)255!==this.data[e]&&(this.data[e]=5-this.data[e]);console.log("dualized")}plus(e){for(let t=0;t<this.h*this.w;t++)255!==this.data[t]&&(this.data[t]+=e);console.log("plus "+e)}times(e){for(let t=0;t<this.h*this.w;t++)255!==this.data[t]&&(this.data[t]*=e);console.log("times "+e)}setHS(e){for(let t=0;t<this.h*this.w;t++)this.data[t]=e.data[t]}plusHS(e){for(let t=0;t<this.h*this.w;t++)255!==this.data[t]&&(this.data[t]+=e.data[t])}fill(e){for(let t=0;t<this.h*this.w;t++)255!==this.data[t]&&(this.data[t]=e)}fillf(e){for(let t=0;t<this.h*this.w;t++){const n=t%this.w,r=t/this.w|0;255!==this.data[t]&&(this.data[t]=e(n,r,t,this.data[t]))}}getOddr(e,t){return this.data[t*this.w+e]}setOddr(e,t,n){return this.data[t*this.w+e]=n}addOddr(e,t,n){return this.data[t*this.w+e]+=n}isSink(e,t){return 255===this.getOddr(e,t)}drawHex(e,t,n){const r=this.w/2|0,i=this.h/2|0;for(let o=0;o<this.h*this.w;o++){const a=o%this.w,s=o/this.w|0;e<=pr(r,i,a,s)&&pr(r,i,a,s)<=t&&(this.data[o]=n)}}async drawText(e,t,n,r,i){var o;const a=(await(o=sr,new Promise((e,t)=>{Object(rr.a)(o,(n,r)=>n?t(n):e(r))}))).getPath(n,0,0,r),s=a.getBoundingBox(),l=(O(e,t),O(s.x1,s.y1).to(O(s.x2,s.y2)));console.log("path",a);const u=document.createElement("canvas");u.width=2*(s.x2-s.x1),u.height=2*(s.y2-s.y1);const c=u.getContext("2d");c.scale(2,2),c.translate(-s.x1,-s.y1),c.fillStyle="black",c.imageSmoothingEnabled=!1,a.draw(c);const h=fr(e,t).minus(l.div(2));var f=c.getImageData(0,0,u.width,u.height).data;for(let e=0;e<this.h*this.w;e++){const t=e%this.w,n=e/this.w|0,r=fr(t,n).minus(h);0<r.x&&r.x<s.x2-s.x1&&0<r.y&&r.y<s.y2-s.y1&&f[4*((2*r.y|0)*u.width+(2*r.x|0))+3]>127&&(this.data[e]=i)}}drawTriangle(e,t,n){const r=this.w/2|0,i=this.h/2|0;for(let o=0;o<this.h*this.w;o++){const a=o%this.w,s=o/this.w|0,l=Math.max(...dr(a-r,s-i));e<=l&&l<=t&&(this.data[o]=n)}}drawCircle(e,t,n){const r=this.w/2|0,i=this.h/2|0,o=fr(r,i);for(let r=0;r<this.h*this.w;r++){const i=r%this.w,a=r/this.w|0,s=fr(i,a).distanceTo(o);e<=s&&s<=t&&(this.data[r]=n)}}drawRect(e,t,n){for(let r=0;r<this.h*this.w;r++){const i=r%this.w-(this.w/2|0),o=(r/this.w|0)-(this.h/2|0),a=O(...dr(i,o));Math.abs(a.x+(a.y>>1))<e/2&&Math.abs(a.y)<t/2&&Math.abs(a.x)<e/2+12&&Math.abs(a.z)<e/2+12&&(this.data[r]=n)}}async asyncStabilizeNoShader(){let e;do{e=0;for(let t=0;t<this.h*this.w;t++){const n=t%this.w,r=t/this.w|0;!this.isSink(n,r)&&this.getOddr(n,r)>=6&&(await cr(n,r,async(e,t)=>!this.isSink(e,t)&&this.addOddr(e,t,1)),this.addOddr(n,r,-6),e++)}await tr(10)}while(0!=e);console.log("stabilized"),await tr(2e3)}createTextures(e,t){return function(e){let t=void 0,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...e)=>n.call(t,...e)),t=void 0)}return n}([this,"access",e=>e.glInfo,"optionalAccess",e=>e.gl])===e&&(this.glInfo=void 0),this.glInfo||(this.glInfo={gl:e,t0:new St(this.w,this.h,{filter:e.NEAREST,internalFormat:e.R8UI,format:e.RED_INTEGER}),t1:new St(this.w,this.h,{filter:e.NEAREST,internalFormat:e.R8UI,format:e.RED_INTEGER}),stepPlane:ur(0,0,this.w,this.h),stepShader:t}),this.glInfo.t0}async asyncStabilize(){const e=this.glInfo;for(this.upload();this.countUnstable()>0;){for(let t=0;t<1e3;t++)for(let t=0;t<1;t++)e.t1.drawTo(t=>{e.t0.bind(0),e.stepShader.uniforms({heights:0}).draw(e.stepPlane)}),e.t0.swapWith(e.t1);e.t0.downloadData(this.data)}}*stabilizeInteractive(e=1){const t=this.glInfo;for(this.upload();this.countUnstable()>0;){for(let n=0;n<1e3;n++){for(let n=0;n<e;n++)t.t1.drawTo(e=>{t.t0.bind(0),t.stepShader.uniforms({heights:0}).draw(t.stepPlane)}),t.t0.swapWith(t.t1);yield}t.t0.downloadData(this.data)}}async calcHash(){return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",this.data))).map(e=>e.toString(16).padStart(2,"0")).join("")}countUnstable(){let e=0;for(let t=0;t<this.w*this.h;t++)e+=+(255!==this.data[t]&&this.data[t]>=6);return e}async calcRecurringInverse(){this.plus(10),await this.asyncStabilize(),this.dualize(),this.plus(5),await this.asyncStabilize()}async calcRecurringIdentity(){this.fill(10),await this.asyncStabilize(),this.dualize(),this.plus(5),await this.asyncStabilize()}upload(){this.glInfo.t0.setData(this.data)}getOddrBB(){const e=e=>{for(let t=0;t<this.w;t++)if(255!==this.data[e*this.w+t])return!1;return!0};let t=0,n=this.h;for(;t<this.h&&e(t);)t++;for(;n>0&&e(n-1);)n--;const r=e=>{for(let r=t;r<n;r++)if(255!==this.data[r*this.w+e])return!1;return!0};let i=0,o=this.w;for(;i<this.h&&r(i);)i++;for(;o>0&&r(o-1);)o--;return{x0:i,x1:o,y0:t,y1:n}}getBB(){const{x0:e,x1:t,y0:n,y1:r}=this.getOddrBB();return{min:fr(e,n),max:fr(t,r)}}}const gr=pn("white","green").mode("rgb").colors(10,"gl"),vr=en("F4F4ED").gl();async function yr(e){const t=Nt.create({canvas:e});t.addResizeListener(),console.log(t.canvas.width,t.canvas.height);const n=xt.create(ar,'#version 300 es\r\nprecision mediump float;\r\nprecision mediump usampler2D;\r\n\r\n// this shader defines a virtual texture, which renders\r\n// a hex "(height-)map" saved as ODDR\r\n\r\n// texture coordinate to render\r\nin vec2 coord;\r\n\r\nuniform vec4 colorBg;\r\nuniform vec4[10] colorFg;\r\n\r\nuniform mat4 tt;\r\n\r\nconst int MAX_MARCHING_STEPS = 255;\r\nconst float MIN_DIST = 0.0;\r\nconst float MAX_DIST = 100.0;\r\n\r\nconst uint SINK = 255u;\r\n\r\nout vec4 fragColor;\r\n\r\n// the "map" being rendered. also implicitely defines the\r\n// size of the texture.\r\n// width: x is in [-0.5, heights.width], (0, 0) is the center of the first hex\r\n// height: sqrt(3) / 2 * heights.height\r\nuniform usampler2D heights;\r\n\r\nvec3 raToHex(vec2 xy) {\r\n\tfloat hex_t = xy.y / 0.866;\r\n\tfloat hex_s = xy.x - hex_t / 2.0;\r\n\treturn vec3(hex_s, hex_t, -(hex_s + hex_t));\r\n}\r\n\r\nvec2 hexToRa(vec3 hex) {\r\n\tfloat y = hex.t * 0.866;\r\n\tfloat x = hex.s + hex.t / 2.0;\r\n\treturn vec2(x, y);\r\n}\r\nivec2 cube_to_oddr(ivec3 cube) {\r\n    int col = cube.x + (cube.y - (cube.y&1)) / 2;\r\n    int row = cube.y;\r\n    return ivec2(col, row);\r\n}\r\nivec3 oddr_to_cube(ivec2 hex) {\r\n    int x = hex.x - (hex.y - (hex.y&1)) / 2;\r\n    int y = hex.y;\r\n    int z = -x-y;\r\n    return ivec3(x, y, z);\r\n}\r\n\r\nvec3 hexRound(vec3 hex) {\r\n\tvec3 r = floor(hex + 0.5);\r\n\tvec3 diff = abs(r - hex);\r\n\r\n\tif (diff.x > diff.y && diff.x > diff.z) {\r\n\t\tr.x = -(r.y + r.z);\r\n\t} else if (diff.y > diff.z) {\r\n\t\tr.y = -(r.x + r.z);\r\n\t} else {\r\n\t\tr.z = -(r.x + r.y);\r\n\t}\r\n\r\n\treturn r;\r\n}\r\nfloat max3 (vec3 v) {\r\n  return max (max (v.x, v.y), v.z);\r\n}\r\nfloat min3 (vec3 v) {\r\n  return max (max (v.x, v.y), v.z);\r\n}\r\nfloat hex_sdf(vec3 h) {\r\n\treturn max3(abs(h.yzx + h.zxy/2.0 ) );\r\n\t// return abs(h.x+(h.y/2.0) );\r\n\t// return max3(abs(vec3(h)));\r\n}\r\n\r\nbool between(float min, float max, float x) {\r\n\treturn min <= x && x <= max;\r\n}\r\n\r\nuint heightAt(ivec2 p) {\r\n\tivec2 tex_size = textureSize(heights, 0);\r\n\r\n\tif (p.x < 0 || p.y < 0 || tex_size.x <= p.x || tex_size.y <= p.y) {\r\n\t\t// point is outside source texture, treat as sink\r\n\t\treturn SINK;\r\n\t} else {\r\n\t\treturn texelFetch(heights, p, 0).r;\r\n\t}\r\n}\r\n\r\nvoid main() {\r\n\t// vec2 pos2 = vec4(coord, 0.0, 1.0).xy * 400.0;\r\n\tvec2 pos2 = (tt * vec4(coord, 0.0, 1.0)).xy;\r\n\r\n\t// fragColor = length(pos2 - vec2(100.0, 100.0)) < 50.0\r\n\t// \t? colorFg[0]\r\n\t// \t: colorBg;\r\n\t// return;\r\n\tvec3 hex_pos = raToHex(pos2);\r\n\t// vec2 hex_center = floor(hex_pos + 0.5);\r\n\tvec3 hex_center = hexRound(hex_pos);\r\n\tvec2 center = hexToRa(hex_center);\r\n\tvec2 squarePos = floor(pos2+ 0.5);\r\n\tvec3 hex_d = hex_pos - hex_center;\r\n\t// vec2 d =hex_pos - hex_center;\r\n\t// vec3 zz = vec3(d.xy, (d.y - d.x)/1.41);\r\n\tvec2 local_ra_offset = pos2 - center;\r\n\t// if (abs(zz.x +zz.y+ zz.z) < 0.1) {\r\n\t// if (max(d.x, max(d.y, 0.0)) < 0.45) {\r\n\t// if (length(pos2 - squarePos) < 0.5) {\r\n\tfloat d = hex_sdf(hex_d);\r\n\tif (between(0.0, 0.425, d)\r\n\t\t// || length(pos2 - center) < 0.2\r\n\t) {\r\n\t// if (length (pos2 - center) <0.53){\r\n\t// if (length (hex_pos - hex_center) <0.45){\r\n\t\tivec2 center2 = cube_to_oddr( ivec3(hex_center) );\r\n\t\tuint value = heightAt(center2);\r\n\t\tfragColor = value == 255u ? colorBg : colorFg[value];\r\n\t} else {\r\n\t\tfragColor = colorBg;\r\n\t}\r\n}'),r=xt.create(ar,"#version 300 es\r\nprecision mediump float;\r\nprecision mediump usampler2D;\r\nin vec2 coord;\r\n\r\nuniform vec2 iResolution;\r\nuniform vec4 colorBg;\r\nuniform vec4[10] colorFg;\r\n\r\nout uvec4 fragColor;\r\n\r\nconst uint SINK = 255u;\r\n\r\nuniform usampler2D heights;\r\n\r\nfloat EPSILON = 0.0001;\r\n\r\nvec3 raToHex(vec2 xy) {\r\n\tfloat hex_t = xy.y / 0.866;\r\n\tfloat hex_s = xy.x - hex_t / 2.0;\r\n\treturn vec3(hex_s, hex_t, -(hex_s + hex_t));\r\n}\r\n\r\nvec2 hexToRa(vec3 hex) {\r\n\tfloat y = hex.t * 0.866;\r\n\tfloat x = hex.s + hex.t / 2.0;\r\n\treturn vec2(x, y);\r\n}\r\nivec2 cube_to_oddr(ivec3 cube) {\r\n    int col = cube.x + (cube.y - (cube.y&1)) / 2;\r\n    int row = cube.y;\r\n    return ivec2(col, row);\r\n}\r\nivec3 oddr_to_cube(ivec2 hex) {\r\n    int x = hex.x - (hex.y - (hex.y&1)) / 2;\r\n    int y = hex.y;\r\n    int z = -x-y;\r\n    return ivec3(x, y, z);\r\n}\r\n\r\nvec3 hexRound(vec3 hex) {\r\n\tvec3 r = floor(hex + 0.5);\r\n\tvec3 diff = abs(r - hex);\r\n\r\n\tif (diff.x > diff.y && diff.x > diff.z) {\r\n\t\tr.x = -(r.y + r.z);\r\n\t} else if (diff.y > diff.z) {\r\n\t\tr.y = -(r.x + r.z);\r\n\t} else {\r\n\t\tr.z = -(r.x + r.y);\r\n\t}\r\n\r\n\treturn r;\r\n}\r\nfloat max3 (vec3 v) {\r\n  return max (max (v.x, v.y), v.z);\r\n}\r\nfloat min3 (vec3 v) {\r\n  return max (max (v.x, v.y), v.z);\r\n}\r\nfloat hex_sdf(vec3 h) {\r\n\treturn max3(abs(h.yzx + h.zxy/2.0 ) );\r\n\t// return abs(h.x+(h.y/2.0) );\r\n\t// return max3(abs(vec3(h)));\r\n}\r\n\r\nbool between(float min, float max, float x) {\r\n\treturn min <= x && x <= max;\r\n}\r\n\r\nuint heightAt(ivec2 p) {\r\n\tivec2 tex_size = textureSize(heights, 0);\r\n\r\n\tif (p.x < 0 || p.y < 0 || tex_size.x <= p.x || tex_size.y <= p.y) {\r\n\t\t// point is outside source texture, treat as sink\r\n\t\treturn SINK;\r\n\t} else {\r\n\t\treturn texelFetch(heights, p, 0).r;\r\n\t}\r\n}\r\n\r\nuint at(ivec2 p) {\r\n\tuint value = heightAt(p);\r\n\tif (SINK == value) {\r\n\t\treturn 0u;\r\n\t} else {\r\n\t\treturn value / 6u;\r\n\t}\r\n}\r\n\r\nuint calc(ivec2 oddr_pos) {\r\n\tuint value = texelFetch(heights, oddr_pos, 0).r;\r\n\r\n\tif (SINK == value) {\r\n\t\treturn SINK;\r\n\t}\r\n\r\n\t// the current pos topples as many times as it can\r\n\tvalue = value % 6u;\r\n\t// all the neighbors topple as often as they can\r\n\tvalue += at(oddr_pos + ivec2(+1, 0));\r\n\tvalue += at(oddr_pos + ivec2(-1, 0));\r\n\r\n\tvalue += at(oddr_pos + ivec2(0, +1));\r\n\tvalue += at(oddr_pos + ivec2(0, -1));\r\n\r\n\tvalue += at(oddr_pos + ivec2(0 != (oddr_pos.y & 1) ? 1 : -1, +1));\r\n\tvalue += at(oddr_pos + ivec2(0 != (oddr_pos.y & 1) ? 1 : -1, -1));\r\n\r\n\treturn value;\r\n}\r\n\r\nvoid main() {\r\n\tfragColor = uvec4(calc(ivec2(coord)), 0u, 0u, 0u);\r\n\t// fragColor = uvec4(2u, 0u, 0u, 0u);\r\n}"),i=new mr(256,256),o=i.createTextures(t,r),a=ur(-1,-1,1,1),s=t.canvas.width/t.canvas.height;console.log("aspect",s),i.fill(255),i.drawHex(0,80,0);const l=i.getBB(),u=l.min.to(l.max),c=u.x/u.y;console.log("ratios",s,c,""+u,l);const h=j.translate(l.min.plus(l.max).times(-.5)).scale(s<c?1/u.x:1/u.y).scale(.98).scale(2).scale(1,-1,1).scale(1/s,1,1);console.log("mm\n"+h.str);const f=e=>new URL(""+document.location).searchParams.get(e);await i.calcRecurringIdentity(),i.fillf((e,t,n,r)=>255===r?255:3+r%3);const p=f("t");await i.drawText(128,128,p?atob(p):"Boo!",25,5);const d=i.clone();d.createTextures(t,r),d.fillf(()=>5+6*Math.random()|0),await d.asyncStabilize(),i.plusHS(d),await i.asyncStabilize(),await d.calcRecurringInverse(),i.plusHS(d),i.upload(),t.animate(()=>{o.bind(0),n.uniforms({iResolution:[800,600],tt:h.inversed(),colorBg:vr,"colorFg[0]":gr,heights:0}).draw(a)}),await tr(2e3),await(async e=>{for(const t of i.stabilizeInteractive(e))await tr(16)})(+(f("speed")||"2")),i.upload();console.log("aspect",s)}const br=document.createElement("div");br.id="root",document.body.appendChild(br),ir.render(or.createElement(()=>{const e=Object(or.useRef)(null);Object(or.useEffect)(()=>{yr(e.current)},[]);const t={boxSizing:"border-box",position:"relative",content:"",width:32,display:"block",height:32/hr/4,borderWidth:`0 16px ${32/hr/4}px 16px`,borderStyle:"solid"};return or.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"},__self:void 0,__source:{fileName:lr,lineNumber:661}},or.createElement("canvas",{ref:e,style:{flexGrow:1},__self:void 0,__source:{fileName:lr,lineNumber:662}}),or.createElement("div",{style:{padding:4,display:"flex",backgroundColor:ln(vr).css()},__self:void 0,__source:{fileName:lr,lineNumber:663}},gr.map((e,n)=>or.createElement("div",{className:"hex",style:{display:"flex",flexDirection:"column",margin:4},key:n,__self:void 0,__source:{fileName:lr,lineNumber:671}},or.createElement("div",{style:{...t,borderColor:ln(e).css()+" transparent",borderWidth:`0 16px ${32/hr/4}px 16px`},__self:void 0,__source:{fileName:lr,lineNumber:680}}),or.createElement("div",{style:{textAlign:"center",backgroundColor:ln(e).css(),height:32/hr/2,color:ln(e).textColor().css(),display:"flex",alignItems:"center",justifyContent:"center"},__self:void 0,__source:{fileName:lr,lineNumber:689}},n),or.createElement("div",{style:{...t,borderColor:ln(e).css()+" transparent",borderWidth:32/hr/4+"px 16px 0 16px"},__self:void 0,__source:{fileName:lr,lineNumber:702}})))))},{__self:void 0,__source:{fileName:lr,lineNumber:721}}),br)}]);