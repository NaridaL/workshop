{"version":3,"file":"tiles-index.js","mappings":"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","sources":["/dev/workshop/./src/common/useHashState.ts?","/dev/workshop/./src/paperBox1/PaperSize.tsx?","/dev/workshop/./src/paperBox1/common.tsx?","/dev/workshop/./src/paperBox1/svg.ts?","/dev/workshop/./src/tiles/RegularPolygon.tsx?","/dev/workshop/./src/tiles/PenroseTiles.tsx?","/dev/workshop/./src/tiles/index.tsx?","/dev/workshop/./src/tiles/SquareTiles.tsx?","/dev/workshop/./src/tiles/TriangleTiles.tsx?","/dev/workshop/./src/tiles/OctaSquare.tsx?","/dev/workshop/./src/tiles/HexTiles.tsx?","/dev/workshop/./src/tiles/CairoTiles.tsx?","/dev/workshop/./src/tiles/RhombitrihexagonalTiles.tsx?"],"sourcesContent":[" function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }import debounce from \"lodash/debounce\"\nimport mapValues from \"lodash/mapValues\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\nimport {\n  PAPER_SIZE_A4,\n\n  PaperSizeFromString,\n  PaperSizeToString,\n} from \"../paperBox1/PaperSize\"\n\nconst parseHash = (hash) => {\n  return !hash\n    ? {}\n    : hash\n        .substring(1)\n        .split(\"&\")\n        .map((part) => {\n          const [key, value] = part.split(\"=\")\n          return [decodeURIComponent(key), decodeURIComponent(value)]\n        })\n        .reduce(\n          (obj, [key, value]) => {\n            obj[key] = value\n            return obj\n          },\n          {} ,\n        )\n}\nconst objectToHash = (o) => {\n  return (\n    \"#\" +\n    Object.entries(o)\n      .map(\n        ([key, value]) =>\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(value),\n      )\n      .join(\"&\")\n  )\n}\n\nconst defaultDeserialize = (\n  x,\n) =>\n  mapValues(x, (v, key) => {\n    if (\"paperSize\" === key) {\n      try {\n        return PaperSizeFromString(v)\n      } catch (e) {\n        console.error(e)\n        return PAPER_SIZE_A4\n      }\n    } else if (\"true\" === v) {\n      return true\n    } else if (\"false\" === v) {\n      return false\n    } else if (\"NaN\" === v) {\n      return NaN\n    } else if (\"undefined\" === v) {\n      return undefined\n    } else if (\"null\" === v) {\n      return null\n    } else if (\"\" === v) {\n      return \"\"\n    } else if (!isNaN(+v)) {\n      return +v\n    } else {\n      return v\n    }\n  })\nconst defaultSerialize = (x) =>\n  mapValues(x, (v, key) =>\n    key === \"paperSize\" ? PaperSizeToString(v ) : \"\" + v,\n  )\n\nexport function useHashState(\n  initialState,\n  {\n    deserialize = defaultDeserialize,\n    serialize = defaultSerialize,\n    wait = 1000,\n  } = {},\n) {\n  const createInitialState = useCallback(() => {\n    const state =\n      \"function\" === typeof initialState\n        ? (initialState )()\n        : initialState\n    // hash overrides parameter\n    const mergedState = deserialize(\n      Object.assign(serialize(state), parseHash(document.location.hash)),\n    ) \n    console.log(\"replaceState\")\n    history.replaceState(\n      undefined,\n      document.title,\n      objectToHash(serialize(mergedState)),\n    )\n\n    return mergedState\n  }, [deserialize, initialState, serialize])\n  const [state, setState] = useState(createInitialState)\n  const updateHashRef = useRef()\n  useEffect(() => _optionalChain([updateHashRef, 'access', _ => _.current, 'optionalCall', _2 => _2(state)]), [state])\n  if (!updateHashRef.current) {\n    console.log(\"pushState\")\n    updateHashRef.current = debounce(function (newState) {\n      history.pushState(\n        undefined,\n        document.title,\n        objectToHash(serialize(newState)),\n      )\n    }, wait)\n  }\n\n  useEffect(() => {\n    const onHashChange = () => {\n      setState(createInitialState())\n    }\n    window.addEventListener(\"hashchange\", onHashChange)\n    return () => {\n      window.removeEventListener(\"hashchange\", onHashChange)\n    }\n  }, [createInitialState])\n  return [state, setState]\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import { MINUS } from \"ts3dutils\"\n\n \n// Always portrait orientation,\n\n// Always portrait orientation,\nexport const PAPER_SIZES_A = [\n  [841, 1189, \"A0\"],\n  [594, 841, \"A1\"],\n  [420, 594, \"A2\"],\n  [297, 420, \"A3\"],\n  [210, 297, \"A4\"],\n  [148, 210, \"A5\"],\n  [105, 148, \"A6\"],\n  [74, 105, \"A7\"],\n  [52, 74, \"A8\"],\n  [37, 52, \"A9\"],\n  [26, 37, \"A10\"],\n]\n\nexport function PaperSizeEquals([aw, ah], [bw, bh]) {\n  return aw === bw && bh === bw\n}\n\nexport const PAPER_SIZES_B = [\n  [1000, 1414, \"C0\"],\n  [707, 1000, \"C1\"],\n  [500, 707, \"C2\"],\n  [353, 500, \"C3\"],\n  [250, 353, \"C4\"],\n  [176, 250, \"C5\"],\n  [125, 176, \"C6\"],\n  [88, 125, \"C7\"],\n  [62, 88, \"C8\"],\n  [44, 62, \"C9\"],\n  [31, 44, \"C10\"],\n]\n\n// C size envelopes fit A size paper.\nexport const PAPER_SIZES_C = [\n  [917, 1297, \"C0\"],\n  [648, 917, \"C1\"],\n  [458, 648, \"C2\"],\n  [324, 458, \"C3\"],\n  [229, 324, \"C4\"],\n  [162, 229, \"C5\"],\n  [114, 162, \"C6\"],\n  [81, 114, \"C7\"],\n  [57, 81, \"C8\"],\n  [40, 57, \"C9\"],\n  [28, 40, \"C10\"],\n]\nexport const PAPER_SIZES = [\n  ...PAPER_SIZES_A,\n  [150, 150, \"Origami 15cm\"],\n  [100, 100, \"Origami 10cm\"],\n  [75, 75, \"Origami 7.5cm\"],\n  [215.9, 279.4, \"Letter\"],\n  [215.9, 355.6, \"Legal\"],\n]\n\nexport const ALL_PAPER_SIZES = [\n  ...PAPER_SIZES,\n  ...PAPER_SIZES_C,\n  ...PAPER_SIZES_B,\n]\n\nexport function PaperSizeFromString(str) {\n  const byName = PAPER_SIZES.find(([, , name]) => name === str)\n  if (byName) return byName\n  const [a, b] = str.split(\"x\")\n  return [+a, +b, \"Custom\"]\n}\nexport function PaperSizeFromDimensions(a, b) {\n  ;[a, b] = [a, b].sort(MINUS)\n  return _nullishCoalesce(PAPER_SIZES.find(([x, y]) => x === a && y === b), () => ( [a, b, \"Custom\"]))\n}\nexport function PaperSizeToString([a, b, name]) {\n  return name === \"Custom\" ? \"\" + a + \"x\" + b : name\n}\n\nexport const PAPER_SIZE_A4 = PAPER_SIZES_A[4]\n","import * as React from \"react\"\n\nimport { arrayRange, DEG, round10, TAU, V3 } from \"ts3dutils\"\nimport { encode, L, M, Z } from \"./svg\"\n\nexport const INCH = 25.4\nexport const fmtdeg = (x) => \"\" + round10(x / DEG, -1) + \"°\"\n \n\nexport const radiusFromSideWidth = (sides, sideWidth) =>\n  sideWidth / 2 / Math.sin(TAU / sides / 2)\nexport const sideWithFromRadius = (sides, radius) =>\n  radius * 2 * Math.sin(TAU / sides / 2)\nexport const centerToSideFromSideWidth = (\n  sides,\n  sideWidth,\n) => sideWidth / 2 / Math.tan(TAU / sides / 2)\nexport const radiusFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide / Math.cos(TAU / sides / 2)\nexport const sideWidthFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide * 2 * Math.tan(TAU / sides / 2)\n\nexport function RegularPolygon({\n  sides,\n  radius,\n  startAngle = 0,\n  sideLength = undefined,\n  ...props\n}\n\n\n\n\n) {\n  if ((undefined !== sideLength) === (undefined !== radius)) {\n    throw new Error(\"must set either sideLength or radius\")\n  }\n  if (undefined === radius) {\n    radius = radiusFromSideWidth(sides, sideLength)\n  }\n  return (\n    React.createElement('path', {\n      d: encode(\n        M(V3.polar(radius, startAngle)),\n        ...arrayRange(0, sides).map((i) =>\n          L(V3.polar(radius, startAngle + i * (TAU / sides))),\n        ),\n        Z(),\n      ),\n      ...props,}\n    )\n  )\n}\n\nexport function RotStep({\n  id,\n  children,\n  count,\n  stepDeg,\n}\n\n\n\n\n) {\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement('g', { id: id,}, children)\n      , arrayRange(0, count - 1).map((i) => (\n        React.createElement('g', {\n          id: `${id}-${i}`,\n          key: `${id}-${i}`,\n          transform: `rotate(${(i + 1) * stepDeg} 0 0)`,}\n\n          , children\n        )\n      ))\n    )\n  )\n}\n\nexport const openInNewTab = (url) => {\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n","import last from \"lodash/last\"\nimport { SVGPathData } from \"svg-pathdata\"\n\n\n\n\n\n\n\n\n\n\nimport { V as VV } from \"ts3dutils\"\n\nexport function H(x) {\n  return { type: SVGPathData.HORIZ_LINE_TO, relative: false, x: x }\n}\n\nexport function A(\n  rx,\n  ry,\n  xAxisRotation,\n  largeArcFlag,\n  sweepFlag,\n  p,\n) {\n  return {\n    lArcFlag: largeArcFlag,\n    rX: rx,\n    rY: ry,\n    relative: false,\n    sweepFlag: sweepFlag,\n    type: SVGPathData.ARC,\n    x: p.x,\n    xRot: 0,\n    y: p.y,\n  }\n}\n\nexport const C = (\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n) => ({\n  type: SVGPathData.CURVE_TO,\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\nexport const V = (y) => ({\n  type: SVGPathData.VERT_LINE_TO,\n  y,\n  relative: false,\n})\n\nexport const S = (x2, y2, x, y) => ({\n  type: SVGPathData.SMOOTH_CURVE_TO,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\n\n\nexport function M(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.MOVE_TO, x, y, relative: false }\n}\n\nexport const m = (x, y) => ({\n  type: SVGPathData.MOVE_TO,\n  x,\n  y,\n  relative: true,\n})\n\n\n\nexport function L(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.LINE_TO, x, y, relative: false }\n}\n\nexport const l = (x, y) => ({\n  type: SVGPathData.LINE_TO,\n  x,\n  y,\n  relative: true,\n})\n\nexport const Z = () => ({ type: SVGPathData.CLOSE_PATH })\n\nexport const encode = (...path) => {\n  const modPath = []\n  let lastX = 0,\n    lastY = 0\n  for (const c of path) {\n    if (\"function\" === typeof c) {\n      for (const c2 of c(lastX, lastY)) {\n        modPath.push(c2)\n      }\n    } else {\n      modPath.push(c)\n    }\n    const lastC = last(modPath)\n    if (\"x\" in lastC) lastX = lastC.x\n    if (\"y\" in lastC) lastY = lastC.y\n  }\n  return new SVGPathData(modPath).round(3).encode()\n}\n \n\nexport function Corner(rad, x, y) {\n  return (prevX, prevY) => {\n    const prev = VV(prevX, prevY)\n    const p1 = VV(x, y)\n    const dir1 = prev.to(p1).toLength(rad)\n    const p2 = VV(p1.x + dir1.y, p1.y - dir1.x)\n    return [L(p1.minus(dir1)), A(rad, rad, 0, 0, 0, p2)]\n  }\n}\n","import * as React from \"react\"\n\nimport { arrayRange, TAU, V3 } from \"ts3dutils\"\nimport {\n  centerToSideFromSideWidth,\n  radiusFromSideWidth,\n  sideWithFromRadius,\n} from \"../paperBox1/common\"\nimport { encode, L, M, Z } from \"../paperBox1/svg\"\n\nexport function RegularPolygon({\n  sides,\n  radius,\n  startAngle = 0,\n  sideLength = undefined,\n  ...props\n}\n\n\n\n\n) {\n  if ((undefined !== sideLength) === (undefined !== radius)) {\n    throw new Error(\"must set either sideLength or radius\")\n  }\n  if (undefined === radius) {\n    radius = radiusFromSideWidth(sides, sideLength)\n  }\n  const c = centerToSideFromSideWidth(sides, sideWithFromRadius(sides, radius))\n  const { x, y } = V3.polar(c, startAngle - TAU / sides / 2)\n  return (\n    React.createElement('path', {\n      d: encode(\n        M(x, y),\n        ...arrayRange(0, sides).map((i) =>\n          L(V3.polar(radius, startAngle + i * (TAU / sides))),\n        ),\n        Z(),\n      ),\n      ...props,}\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport last from \"lodash/last\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport {\n  arrayRange,\n  clamp,\n  DEG,\n  GOLDEN_RATIO,\n\n\n  M4,\n  TAU,\n  V,\n  V3,\n} from \"ts3dutils\"\nimport { sideWidthFromCenterToSide } from \"../paperBox1/common\"\nimport { A, encode, L, M, Z } from \"../paperBox1/svg\"\n\nconst COS18 = Math.cos(18 * DEG)\nconst SIN18 = Math.sin(18 * DEG)\nconst COS36 = Math.cos(36 * DEG)\nconst SIN36 = Math.sin(36 * DEG)\n\nfunction IrregularPolygon({\n  cornersDeg,\n  ...props\n}\n\n) {\n  const [c0r, c0d] = cornersDeg[0]\n  const [clr, cld] = last(cornersDeg)\n  const extraPoint = V3.polar(c0r, c0d * DEG).lerp(\n    V3.polar(clr, cld * DEG),\n    0.5,\n  )\n  return (\n    React.createElement('path', {\n      ...props,\n      style: { animation: \"inherit\" },\n      className: \"c1 s2\" ,\n      d: encode(\n        M(extraPoint),\n        ...cornersDeg.map(([r, angle], i) =>\n          (i === 0 ? L : L)(V3.polar(r, angle * DEG)),\n        ),\n        Z(),\n      ),}\n    )\n  )\n}\n\nexport function Penrose({\n  x: w,\n  y: h,\n  randomClassCount,\n  ordered,\n  a,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = (x = 0) =>\n    \"r\" + Math.floor(clamp(ordered ? x : sr(), 0, 0.9999) * randomClassCount)\n  const s = sideWidthFromCenterToSide(6, a / 20)\n  //viewBox=\"0 0 20 20\"\n  const r0 = V(0, -SIN18).plus(V3.polar(0.2, (180 - 18) * DEG))\n  const r1 = V(0, -SIN18).plus(V3.polar(0.2, 18 * DEG))\n  const b0 = V(0, SIN18).plus(V3.polar(0.2, (180 + 18) * DEG))\n  const b1 = V(0, SIN18).plus(V3.polar(0.2, -18 * DEG))\n  const R0 = V(0, -SIN36).plus(V3.polar(0.2, 36 * DEG))\n  const R1 = V(0, SIN36).plus(V3.polar(0.2, -36 * DEG))\n  const B0 = V(0, SIN36).plus(V3.polar(0.8, (180 + 36) * DEG))\n  const B1 = V(0, -SIN36).plus(V3.polar(0.8, (180 - 36) * DEG))\n\n  const bb = M4.translate(COS36)\n    .scale(1 / GOLDEN_RATIO)\n    .translate(-COS36)\n    .rotateZ(Math.PI)\n  const bb2 = M4.rotateZ(-36 * DEG)\n    .scale(1 / GOLDEN_RATIO)\n    .translate(COS36 / 2, SIN36 / 2)\n    .rotateZ(Math.PI)\n  const bb3 = M4.translate(0, -SIN18)\n    .scale(1 / GOLDEN_RATIO)\n    .rotateZ((-90 + 36) * DEG)\n    .translate(0, SIN36)\n    .rotateZ(Math.PI)\n\n  const bb4 = M4.rotateZ(Math.PI)\n    .translate(COS18, 0)\n    .scale(1 / GOLDEN_RATIO)\n    .rotateZ(-72 * DEG)\n    .translate(0, SIN18)\n  const bb5 = M4.rotateZ(Math.PI)\n    .translate(COS36, 0)\n    .scale(1 / GOLDEN_RATIO)\n    .rotateZ(-18 * DEG)\n    .translate(0, SIN18)\n\n  const tiles = []\n  let key = 0\n\n  const visitedThick = new Map()\n  const visitedThin = new Map()\n\n  function check(visited, m) {\n    const { x, y } = m.getTranslation()\n    if (x < 0 || x > 20 || y < 0 || x > 20) {\n      return true\n    }\n    const hash = (Math.round(x * 100) << 16) + Math.round(y * 100)\n    const b = visited.get(hash) || 0\n\n    visited.set(hash, b + 1)\n    return b !== 0\n  }\n\n  const mToTransform = ({ m }) =>\n    `matrix(${m[0]} ${m[4]} ${m[1]} ${m[5]} ${m[3]} ${m[7]} )`\n\n  function addTile(href, m, sclass, visited) {\n    const { x, y } = m.getTranslation()\n    const hash = (Math.round(x * 100) << 16) + Math.round(y * 100)\n    tiles.push({\n      id: \"id\" + key,\n      key: key++,\n      href: href,\n      transform: mToTransform(m),\n      className: clsx(rx(), sclass),\n      style: { animationDelay: key / 100 + \"s\" },\n      visited,\n      hash,\n    })\n  }\n\n  const targetMatrices = arrayRange(0, 6).map((i) => M4.IDENTITY.copy())\n\n  function subdivideThickHR(m, i = 0) {\n    if (0 === i) {\n      if (check(visitedThick, m)) return\n      addTile(\"#thick\", m, \"\", visitedThick)\n    } else {\n      subdivideThickHR(M4.multiply(m, bb, targetMatrices[i]), i - 1)\n      subdivideThickHR(M4.multiply(m, bb2, targetMatrices[i]), i - 1)\n      subdivideThickHR(M4.multiply(m, bb2.mirrorY(), targetMatrices[i]), i - 1)\n      subdivideThinHR(M4.multiply(m, bb3.mirrorY(), targetMatrices[i]), i - 1)\n      subdivideThinHR(M4.multiply(m, bb3, targetMatrices[i]), i - 1)\n    }\n  }\n\n  function subdivideThinHR(m, i = 0) {\n    if (0 === i) {\n      if (check(visitedThin, m)) return\n      addTile(\"#thin\", m, \"color1\", visitedThin)\n    } else {\n      subdivideThinHR(M4.multiply(m, bb4, targetMatrices[i]), i - 1)\n      subdivideThinHR(M4.multiply(m, bb4.mirroredX(), targetMatrices[i]), i - 1)\n      subdivideThickHR(\n        M4.multiply(m, bb5.mirroredX(), targetMatrices[i]),\n        i - 1,\n      )\n      subdivideThickHR(M4.multiply(m, bb5, targetMatrices[i]), i - 1)\n    }\n  }\n\n  // subdivideThinHR(M4.forSys(V(10, 0), V(0, 10), V3.Z, V(10, 10)), 1)\n  // subdivideThickHR(M4.forSys(V(10, 0), V(0, 10), V3.Z, V(10, 10)), 5)\n  console.time(\"x\")\n  for (let i = 0; i < 5; i++) {\n    subdivideThickHR(\n      M4.translate(COS36, 0)\n        .rotateZ((i / 5) * TAU)\n        .scale(10)\n        .translate(10, 10),\n      7,\n    )\n  }\n  console.timeEnd(\"x\")\n  console.log(\"total tiles\", tiles.length)\n\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , React.createElement('defs', null\n        , React.createElement('g', {\n          id: \"thin\",\n          style: { animation: \"inherit\" },\n          transform: `scale(${1 - (1 - a / 10) * GOLDEN_RATIO})`,}\n\n          , !ordered && (\n            React.createElement(IrregularPolygon, {\n              style: { animation: \"inherit\" },\n              className: \"c0 s1\" ,\n              cornersDeg: [\n                [COS18, 0],\n                [SIN18, 90],\n                [COS18, 180],\n                [SIN18, 270],\n              ],}\n            )\n          )\n          , ordered && (\n            React.createElement(React.Fragment, null\n              , React.createElement('path', {\n                style: { animation: \"inherit\", stroke: \"red\" },\n                className: \"\",\n                d: encode(M(r0), A(0.2, 0.2, 0, 0, 0, r1)),}\n              )\n              , React.createElement('path', {\n                style: { animation: \"inherit\", stroke: \"blue\" },\n                className: \"\",\n                d: encode(M(b0), A(0.2, 0.2, 0, 0, 1, b1)),}\n              )\n            )\n          )\n        )\n        , React.createElement('g', {\n          id: \"thick\",\n          style: { animation: \"inherit\" },\n          transform: `scale(${a / 10})`,}\n\n          , !ordered && (\n            React.createElement(IrregularPolygon, {\n              cornersDeg: [\n                [COS36, 0],\n                [SIN36, 90],\n                [COS36, 180],\n                [SIN36, 270],\n              ],}\n            )\n          )\n          , ordered && (\n            React.createElement(React.Fragment, null\n              , React.createElement('path', {\n                style: { animation: \"inherit\", stroke: \"red\" },\n                className: \"\",\n                d: encode(M(R0), A(0.8, 0.8, 0, 0, 0, R1)),}\n              )\n              , React.createElement('path', {\n                style: { animation: \"inherit\", stroke: \"blue\" },\n                className: \"\",\n                d: encode(M(B0), A(0.2, 0.2, 0, 0, 0, B1)),}\n              )\n            )\n          )\n        )\n      )\n      , tiles.map(({ visited, hash, style, ...props }) => (\n        React.createElement('use', {\n          style: {\n            ...style,\n            fillOpacity: Math.sqrt(0.03 * visited.get(hash)),\n          },\n          ...props,}\n        )\n      ))\n    )\n  )\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }import { GlobalStyles } from \"@mui/material\"\nimport Button from \"@mui/material/Button\"\nimport Checkbox from \"@mui/material/Checkbox\"\nimport FormControlLabel from \"@mui/material/FormControlLabel\"\nimport Grid from \"@mui/material/Grid\"\nimport MenuItem from \"@mui/material/MenuItem\"\nimport Select from \"@mui/material/Select\"\n\nimport TextField from \"@mui/material/TextField\"\nimport React, {\n\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"\nimport { arrayRange } from \"ts3dutils\"\nimport { useHashState } from \"../common/useHashState\"\nimport { CairoTiles } from \"./CairoTiles\"\nimport { HexTiles } from \"./HexTiles\"\nimport { OctaSquare } from \"./OctaSquare\"\nimport { Penrose } from \"./PenroseTiles\"\nimport { Rhombitrihexagonal } from \"./RhombitrihexagonalTiles\"\nimport { SquareTiles } from \"./SquareTiles\"\nimport { TriangleTiles } from \"./TriangleTiles\"\n\nconst MAX_SHAPES = 3 // .c0, .c1, ... denote the different shapes (with\n// different path lengths)\nconst RANDOM_CLASS_COUNT = 20\n\nconst tilesStyles = ({\n  animation,\n  strokeWidth,\n  strokeLinejoin,\n  strokeLinecap,\n  fill,\n  shapeLengths,\n}) => (\n  React.createElement(GlobalStyles, {\n    styles: {\n      \"@keyframes dash\": {\n        to: {\n          strokeDashoffset: 0,\n        },\n      },\n      \"@keyframes popp\": {\n        from: {\n          fil: \"none\",\n        },\n        to: {\n          // fill: \"inherit\",\n          // fill: \"#eee\",\n        },\n      },\n      ...arrayRange(0, MAX_SHAPES).reduce((prev, i) => {\n        prev[`.c${i}`] = {\n          strokeDasharray: shapeLengths[i],\n          strokeDashoffset: shapeLengths[i],\n        }\n        return prev\n      }, {}),\n      ...arrayRange(0, RANDOM_CLASS_COUNT).reduce((prev, i) => {\n        const time = 1 + (i / RANDOM_CLASS_COUNT) * 3 + \"s\"\n        prev[`.r${i}, .r${i} path`] = {\n          animation: [\n            `dash 3s ${animation} forwards`,\n            fill && `popp ${time} step-end forwards`,\n          ]\n            .filter(Boolean)\n            .join(\",\"),\n          animationDelay: i * 0.1 + \"s\",\n        }\n        return prev\n      }, {}),\n      \".svgg\": {\n        // strokeDasharray: \"120 120\",\n        // strokeDashoffset: 120,\n        \"& > *\": {\n          fill: fill ? \"orange\" : undefined,\n          fillOpacity: 0.5,\n          stroke: \"orange\",\n          strokeWidth,\n          strokeLinecap,\n          strokeLinejoin,\n          strokePosition: \"inside\",\n        },\n        \"& > .s0, & > .color1\": {\n          // fill: \"red\",\n          stroke: \"red\",\n        },\n        \"& > .s1, & > .color2\": {\n          // fill: \"blue\",\n          stroke: \"blue\",\n        },\n        \"& > .s2, & > .color3\": {\n          // fill: \"green\",\n          stroke: \"green\",\n        },\n      },\n    },}\n  )\n)\n\nconst PATTERNS = [\n  SquareTiles,\n  TriangleTiles,\n  OctaSquare,\n  HexTiles,\n  CairoTiles,\n  Rhombitrihexagonal,\n  Penrose,\n]\n\nexport default function () {\n  const [x, setX] = useState(0)\n  const [shapeLengths, setShapeLengths] = useState([] )\n  const svgContainerRef = useRef(null)\n  const [state, setState] = useHashState({\n    type: PATTERNS[0].name,\n    animation: \"linear\",\n    a: 1,\n    fill: true,\n    ordered: false,\n    strokeWidth: 0.1,\n    strokeLinejoin: \"round\",\n    strokeLinecap: \"round\",\n  })\n  const Pattern = _nullishCoalesce(PATTERNS.find((p) => p.name === state.type), () => ( PATTERNS[0]))\n  const setPartial = useCallback(\n    (x) => setState((s) => ({ ...s, ...x })),\n    [setState],\n  )\n\n  useEffect(() => {\n    setShapeLengths(\n      arrayRange(0, MAX_SHAPES).map((i) => {\n        const path = svgContainerRef.current.querySelector(\n          \".c\" + i,\n        ) \n        return _optionalChain([path, 'optionalAccess', _2 => _2.getTotalLength, 'call', _3 => _3()])\n      }),\n    )\n  }, [Pattern, state.a])\n\n  return (\n    React.createElement(Grid, { container: true, style: { minHeight: \"calc(100vh - 65px)\" }, spacing: 1,}\n      , tilesStyles({ ...state, shapeLengths })\n      , React.createElement(Grid, { item: true, xs: 12, md: 10, ref: svgContainerRef,}\n        , React.createElement(Pattern, {\n          viewBox: \"0 0 20 20\"   ,\n          randomClassCount: RANDOM_CLASS_COUNT,\n          className: \"svgg\",\n          x: 20,\n          y: 20,\n          width: \"100%\",\n          height: \"100%\",\n          style: {},\n          key: x,\n          a: state.a,\n          ordered: state.ordered,}\n        )\n      )\n\n      , React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 2,\n        container: true,\n        spacing: 1,\n        alignItems: \"flex-start\",\n        style: { height: 200 },}\n\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(Select, {\n            value: state.type,\n            fullWidth: true,\n            onChange: (e) => setPartial({ type: e.target.value  }),}\n\n            , PATTERNS.map(({ name }) => {\n              return (\n                React.createElement(MenuItem, { key: name, value: name,}\n                  , name\n                )\n              )\n            })\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(Select, {\n            value: state.animation,\n            fullWidth: true,\n            onChange: (e) =>\n              setPartial({ animation: e.target.value  })\n            ,}\n\n            , [\n              \"linear\",\n              \"ease\",\n              \"ease-in\",\n              \"ease-out\",\n              \"ease-in-out\",\n              \"step-start\",\n              \"step-end\",\n            ].map((v) => (\n              React.createElement(MenuItem, { key: v, value: v,}\n                , v\n              )\n            ))\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(Select, {\n            value: state.strokeLinejoin,\n            fullWidth: true,\n            onChange: (e) =>\n              setPartial({ strokeLinejoin: e.target.value  })\n            ,\n            label: \"strokeLinejoin\",}\n\n            , [\"bevel\", \"miter\", \"round\"].map((v) => (\n              React.createElement(MenuItem, { key: v, value: v,}\n                , v\n              )\n            ))\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(Select, {\n            value: state.strokeLinecap,\n            fullWidth: true,\n            onChange: (e) =>\n              setPartial({ strokeLinecap: e.target.value  })\n            ,\n            label: \"strokeLinecap\",}\n\n            , [\"butt\", \"round\", \"square\"].map((v) => (\n              React.createElement(MenuItem, { key: v, value: v,}\n                , v\n              )\n            ))\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(Button, { fullWidth: true, onClick: () => setX((x) => x + 1),}, \"Replay\"\n\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(TextField, {\n            variant: \"outlined\",\n            size: \"small\",\n            type: \"number\",\n            value: state.a,\n            onChange: (e) => setPartial({ a: +e.target.value }),\n            label: \"a\",}\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , shapeLengths\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(FormControlLabel, {\n            control: \n              React.createElement(Checkbox, {\n                checked: state.fill,\n                onChange: (_, checked) => setPartial({ fill: checked }),\n                color: \"primary\",}\n              )\n            ,\n            label: \"fill\",}\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(FormControlLabel, {\n            control: \n              React.createElement(Checkbox, {\n                checked: state.ordered,\n                onChange: (_, checked) => setPartial({ ordered: checked }),\n                color: \"primary\",}\n              )\n            ,\n            label: \"ordered\",}\n          )\n        )\n        , React.createElement(Grid, { item: true, xs: 12,}\n          , React.createElement(TextField, {\n            variant: \"outlined\",\n            size: \"small\",\n            inputProps: { step: 0.005 },\n            type: \"number\",\n            value: state.strokeWidth,\n            onChange: (e) => setPartial({ strokeWidth: +e.target.value }),\n            label: \"strokeWidth\",}\n          )\n        )\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, } from \"ts3dutils\"\nimport { RegularPolygon } from \"./RegularPolygon\"\n\nexport function SquareTiles({\n  x: w,\n  y: h,\n  a,\n  ordered,\n  randomClassCount,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = () => \"r\" + Math.floor(sr() * randomClassCount)\n  //viewBox=\"0 0 20 20\"\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , arrayRange(0, w).flatMap((x) =>\n        arrayRange(0, h).flatMap((y) => (\n          React.createElement(RegularPolygon, {\n            key: `sqr-${x}-${y}`,\n            sides: 4,\n            radius: (Math.SQRT1_2 * a) / 10,\n            transform: `translate(${x} ${y}) rotate(45)`,\n            className: clsx(rx(), \"c0\"),}\n          )\n        )),\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, } from \"ts3dutils\"\nimport { RegularPolygon } from \"./RegularPolygon\"\n\nexport function TriangleTiles({\n  x: w,\n  y: h,\n  a,\n  randomClassCount,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = () => \"r\" + Math.floor(sr() * randomClassCount)\n  //viewBox=\"0 0 20 20\"\n  const s = a / 10\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , arrayRange(0, w).flatMap((x) =>\n        arrayRange(0, h).flatMap((y) => {\n          const xx = (x, y) => {\n            const v1 = y * 0.86666\n            const u1 = x + y / 2\n            //return x + \" \" + y\n            return u1 + \" \" + v1\n          }\n          return [\n            React.createElement(RegularPolygon, {\n              key: `${x}-${y}-l`,\n              sides: 3,\n              sideLength: s,\n              transform: `translate(${xx(\n                x + 2 / 3 - Math.floor(y / 2),\n                y + 1 / 3,\n              )}) rotate(30)`,\n              className: clsx(rx(), \"c0\", \"s0\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `${x}-${y}-r`,\n              sides: 3,\n              sideLength: s,\n              transform: `translate(${xx(\n                x + 1 / 3 - Math.floor(y / 2),\n                y + 3 / 3,\n              )}) rotate(-30)`,\n              className: clsx(rx(), \"c0\", \"s1\"),}\n            ),\n          ]\n        }),\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, DEG, } from \"ts3dutils\"\nimport { RegularPolygon } from \"./RegularPolygon\"\n\nexport function OctaSquare({\n  x: w,\n  y: h,\n  ordered,\n  a,\n  randomClassCount,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const r = () => \"r\" + Math.floor(sr() * randomClassCount)\n\n  const tan22_5 = Math.tan(22.5 * DEG)\n  const tan45 = Math.tan(45 * DEG)\n  const baseSideLength = 2 * ((tan22_5 * tan45) / (tan22_5 + tan45))\n  const s = (baseSideLength * a) / 10\n  //viewBox=\"0 0 20 20\"\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , arrayRange(0, w).flatMap((x) =>\n        arrayRange(0, h).flatMap((y) => {\n          const cellX = (x + 0.5 * (y % 2)) * 2\n          const cellY = y * 0.5 * 2\n          return [\n            React.createElement(RegularPolygon, {\n              key: `square-${x}-${y}`,\n              sides: 4,\n              startAngle: Math.PI / 4,\n              sideLength: s,\n              transform: `translate(${cellX} ${cellY}) `,\n              className: clsx(r(), \"c0\", \"s0\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `oct-${x}-${y}`,\n              sides: 8,\n              startAngle: Math.PI / 8,\n              sideLength: s,\n              transform: `translate(${cellX + 1} ${cellY})`,\n              className: clsx(r(), \"c1\", \"s1\"),}\n            ),\n          ]\n        }),\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, clamp, } from \"ts3dutils\"\nimport { sideWidthFromCenterToSide } from \"../paperBox1/common\"\nimport { RegularPolygon } from \"./RegularPolygon\"\n\nexport function HexTiles({\n  x: w,\n  y: h,\n  randomClassCount,\n  ordered,\n  a,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = (x = 0) =>\n    \"r\" + Math.floor(clamp(ordered ? x : sr(), 0, 0.9999) * randomClassCount)\n  const s = sideWidthFromCenterToSide(6, a / 20)\n  //viewBox=\"0 0 20 20\"\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , arrayRange(0, w).flatMap((x) =>\n        arrayRange(0, h).map((y) => {\n          const xx = (x, y) => {\n            const v1 = y * 0.86666\n            const u1 = x + y / 2\n            //return x + \" \" + y\n            return u1 + \" \" + v1\n          }\n          const u = x - Math.floor(y / 2)\n          const v = y\n          const w = 0 - u - v\n          return (\n            React.createElement(RegularPolygon, {\n              key: `hex-${x}-${y}-l`,\n              sides: 6,\n              sideLength: s,\n              transform: `translate(${xx(\n                x - Math.floor(y / 2),\n                y,\n              )}) rotate(30)`,\n              className: clsx(\n                rx(\n                  Math.max(\n                    Math.abs(u - 5),\n                    Math.abs(v - 10),\n                    Math.abs(0 - (u - 5) - (v - 10)),\n                  ) / 15,\n                ),\n                \"c0\",\n              ),}\n            )\n          )\n        }),\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, DEG, V3 } from \"ts3dutils\"\nimport { encode, L, M, Z } from \"../paperBox1/svg\"\n\nexport function CairoTiles({\n  x: w,\n  y: h,\n  a,\n  randomClassCount,\n  ordered,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = (x) =>\n    \"r\" + Math.floor((ordered ? x : sr()) * randomClassCount)\n  //viewBox=\"0 0 20 20\"\n  const SQRT3_4 = Math.sqrt(3) / 2 // 0.86602540378\n  const SQRT4_3 = 2 / Math.sqrt(3) // 1.15470053838\n  console.log(SQRT4_3)\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , React.createElement('defs', null\n        , React.createElement('path', {\n          id: \"tile\",\n          style: { animation: \"inherit\" },\n          className: \"c0\",\n          d: encode(\n            ...[\n              [270, 0.5],\n              [300, SQRT4_3 / 2],\n              [15, Math.SQRT2 / 2],\n              [90, SQRT4_3 / 2],\n              [165, Math.SQRT2 / 2],\n              [240, SQRT4_3 / 2],\n            ].map(([angle, r], i) =>\n              (i === 0 ? M : L)(V3.polar((r * a) / 10, angle * DEG)),\n            ),\n            Z(),\n          ),}\n        )\n      )\n      , arrayRange(0, w).flatMap((i) =>\n        arrayRange(0, h).map((j) => {\n          const x = (i + (j % 2) / 2) * (2 * SQRT3_4 + 1)\n          const y = (j * (2 * SQRT3_4 + 1)) / 2\n          return [\n            [0, 0, -60],\n            [SQRT3_4, 0.5, 30],\n            [2 * SQRT3_4, 0, 120],\n            [SQRT3_4, -0.5, 210],\n          ].map(([xo, yo, rot], iShape) => (\n            React.createElement('use', {\n              key: `t-${x}-${y}-${iShape}`,\n              href: \"#tile\",\n              transform: `translate(${x + xo},${y + yo})rotate(${rot - 30})`,\n              className: clsx(rx((x + xo + y + yo) / (w + h)), \"s\" + iShape),}\n            )\n          ))\n        }),\n      )\n    )\n  )\n}\n","import clsx from \"clsx\"\nimport React, { } from \"react\"\nimport seedrandom from \"seedrandom\"\nimport { arrayRange, clamp, DEG, } from \"ts3dutils\"\nimport { radiusFromCenterToSide } from \"../paperBox1/common\"\nimport { RegularPolygon } from \"./RegularPolygon\"\n\nexport function Rhombitrihexagonal({\n  x: w,\n  y: h,\n  randomClassCount,\n  ordered,\n  a,\n  ...props\n}\n\n\n\n\n\n) {\n  const sr = seedrandom(\"X\")\n  const rx = (x = 0) =>\n    \"r\" + Math.floor(clamp(ordered ? x : sr(), 0, 0.9999) * randomClassCount)\n  //viewBox=\"0 0 20 20\"\n  const r = a / 10\n  const tan45 = Math.tan(45 * DEG)\n  const tan30 = Math.tan(30 * DEG)\n  const baseSideLength = 2 * ((tan30 * tan45) / (tan30 + tan45))\n  const s = (baseSideLength * a) / 10\n  const triTranslate = radiusFromCenterToSide(6, 1)\n  return (\n    React.createElement('svg', { className: \"adrian\", ...props,}\n      , arrayRange(0, w).flatMap((i) =>\n        arrayRange(0, h).flatMap((j) => {\n          const xx = (x, y) => {\n            const v1 = y * 0.86666\n            const u1 = x + y / 2\n            //return x + \" \" + y\n            return [u1, v1]\n          }\n          const u = i - Math.floor(j / 2)\n          const v = j\n          const w = 0 - u - v\n          const [x, y] = xx(u * 2, v * 2)\n          return [\n            React.createElement(RegularPolygon, {\n              key: `hex-${x}-${y}-l`,\n              sides: 6,\n              sideLength: s,\n              transform: `translate(${x} ${y}) rotate(30)`,\n              className: clsx(\n                rx(\n                  Math.max(\n                    Math.abs(u - 5),\n                    Math.abs(v - 10),\n                    Math.abs(0 - (u - 5) - (v - 10)),\n                  ) / 15,\n                ),\n                \"c0\",\n              ),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `sqr0-${x}-${y}-l`,\n              sides: 4,\n              sideLength: s,\n              transform: `translate(${x + 1} ${y}) rotate(45)`,\n              className: clsx(rx(), \"c1\", \"s0\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `sqr1-${x}-${y}-l`,\n              sides: 4,\n              sideLength: s,\n              transform: `translate(${x} ${y}) rotate(60) translate(1 0) rotate(45)`,\n              className: clsx(rx(), \"c1\", \"s0\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `sqr2-${x}-${y}-l`,\n              sides: 4,\n              sideLength: s,\n              transform: `translate(${x} ${y}) rotate(120) translate(1 0) rotate(45)`,\n              className: clsx(rx(), \"c1\", \"s0\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `tri0-${x}-${y}-l`,\n              sides: 3,\n              sideLength: s,\n              transform: `translate(${x} ${y}) rotate(30) translate(${triTranslate} 0) rotate(60)`,\n              className: clsx(rx(), \"c2\", \"s1\"),}\n            ),\n            React.createElement(RegularPolygon, {\n              key: `tri1-${x}-${y}-l`,\n              sides: 3,\n              sideLength: s,\n              transform: `translate(${x} ${y}) rotate(90) translate(${triTranslate} 0) rotate(60)`,\n              className: clsx(rx(), \"c2\", \"s1\"),}\n            ),\n          ]\n        }),\n      )\n    )\n  )\n}\n"],"names":["parseHash","hash","substring","split","map","part","key","value","decodeURIComponent","reduce","obj","objectToHash","o","Object","entries","encodeURIComponent","join","defaultDeserialize","x","v","NaN","isNaN","e","console","error","defaultSerialize","useHashState","initialState","deserialize","serialize","wait","createInitialState","useCallback","state","mergedState","assign","document","location","log","history","replaceState","undefined","title","setState","useState","updateHashRef","useRef","useEffect","ops","lastAccessLHS","i","length","op","fn","args","call","_optionalChain","_","current","_2","newState","pushState","onHashChange","window","addEventListener","removeEventListener","PAPER_SIZES_A","PAPER_SIZES_C","PAPER_SIZES","PaperSizeFromString","str","byName","find","name","a","b","PaperSizeFromDimensions","sort","lhs","y","rhsFn","PaperSizeToString","PAPER_SIZE_A4","INCH","fmtdeg","radiusFromSideWidth","sides","sideWidth","Math","sin","sideWithFromRadius","radius","centerToSideFromSideWidth","tan","radiusFromCenterToSide","centerToSide","cos","sideWidthFromCenterToSide","RegularPolygon","startAngle","sideLength","props","Error","d","M","V3","polar","L","Z","RotStep","id","children","count","stepDeg","transform","openInNewTab","url","newWindow","open","opener","H","type","HORIZ_LINE_TO","relative","A","rx","ry","xAxisRotation","largeArcFlag","sweepFlag","p","lArcFlag","rX","rY","ARC","xRot","C","x1","y1","x2","y2","CURVE_TO","V","VERT_LINE_TO","a1","a2","MOVE_TO","LINE_TO","l","CLOSE_PATH","encode","path","modPath","lastX","lastY","c","c2","push","lastC","round","Corner","rad","prevX","prevY","prev","p1","dir1","to","toLength","p2","minus","COS18","SIN18","COS36","SIN36","IrregularPolygon","cornersDeg","c0r","c0d","clr","cld","extraPoint","lerp","style","animation","className","r","angle","MAX_SHAPES","RANDOM_CLASS_COUNT","tilesStyles","strokeWidth","strokeLinejoin","strokeLinecap","fill","shapeLengths","GlobalStyles","styles","strokeDashoffset","from","fil","strokeDasharray","time","filter","Boolean","animationDelay","fillOpacity","stroke","strokePosition","PATTERNS","w","h","ordered","randomClassCount","sr","flatMap","SQRT1_2","clsx","floor","s","xx","tan22_5","tan45","cellX","cellY","PI","u","max","abs","SQRT3_4","sqrt","SQRT4_3","SQRT2","j","xo","yo","rot","iShape","href","tan30","triTranslate","r0","plus","r1","b0","b1","R0","R1","B0","B1","bb","M4","translate","scale","rotateZ","bb2","bb3","bb4","bb5","tiles","visitedThick","Map","visitedThin","check","visited","m","getTranslation","get","set","mToTransform","addTile","sclass","targetMatrices","IDENTITY","copy","subdivideThickHR","multiply","mirrorY","subdivideThinHR","mirroredX","timeEnd","setX","setShapeLengths","svgContainerRef","Pattern","setPartial","querySelector","getTotalLength","_3","Grid","container","minHeight","spacing","item","xs","md","ref","viewBox","width","height","alignItems","Select","fullWidth","onChange","target","MenuItem","label","Button","onClick","TextField","variant","size","FormControlLabel","control","Checkbox","checked","color","inputProps","step"],"sourceRoot":""}