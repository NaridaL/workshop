{"version":3,"file":"paperBox2-index.js","mappings":"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","sources":["/dev/workshop/./src/paperBox2/Common.tsx?","/dev/workshop/./src/paperBox1/common.tsx?","/dev/workshop/./src/paperBox1/MeasureAngle.tsx?","/dev/workshop/./src/paperBox1/PaperAutocomplete.tsx?","/dev/workshop/./src/paperBox1/ValleyMountainLegend.tsx?","/dev/workshop/./src/paperBox2/OutsideFoldsSvg.tsx?","/dev/workshop/./src/paperBox2/index.tsx?","/dev/workshop/./src/paperBox1/ExportButtons.tsx?","/dev/workshop/./src/common/useHashState.ts?","/dev/workshop/./src/paperBox1/svg.ts?","/dev/workshop/./src/paperBox2/InsideFoldsSvg.tsx?","/dev/workshop/./src/paperBox1/PaperSize.tsx?","/dev/workshop/./src/paperBox1/Measure.tsx?","/dev/workshop/./src/paperBox1/SvgCommonDefs.tsx?"],"sourcesContent":["import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { V } from \"ts3dutils\"\nimport { Guide, Measure, SvgPrintContext } from \"../paperBox1/Measure\"\n\nimport { encode, L, M } from \"../paperBox1/svg\"\nimport { SvgCommonDefs } from \"../paperBox1/SvgCommonDefs\"\n\n// https://math.stackexchange.com/a/885965/230980\nexport function lookUpAngle(\n  r,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    Math.PI / 2 - lookUpAngle2 - Math.acos((r2 / r) * Math.sin(lookUpAngle2))\n  )\n}\n\nexport function Common({\n  baseRadius,\n  topRadius,\n  radius,\n  style,\n  paperSize,\n  children,\n}\n\n\n\n\n\n\n) {\n  const paperPosition = paperSize && [\n    Math.min(-20, radius - paperSize[0]),\n    Math.min(-20, radius - paperSize[1]),\n  ]\n  const print = useContext(SvgPrintContext)\n  const svgViewBox = paperSize\n    ? [paperPosition[0], paperPosition[1], paperSize[0], paperSize[1]]\n    : [-radius, -radius, radius * 2, radius * 2]\n\n  const boxHeight = topRadius - baseRadius\n  const topLip = radius - topRadius\n  return (\n    React.createElement('svg', {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      style: style,\n      width: svgViewBox[2] + \"mm\",\n      height: svgViewBox[3] + \"mm\",\n      viewBox: svgViewBox.join(\" \"),\n      className: \"adrian\",}\n\n      , React.createElement(SvgCommonDefs, null )\n      , React.createElement(Guide, { transform: \"translate(-20 -20) rotate(180)\"  ,}\n        , React.createElement('path', {\n          style: { fill: \"none\" },\n          d: encode(\n            M(V(baseRadius - topLip, boxHeight * 0.99)),\n            L(V(baseRadius, boxHeight)),\n            L(V(baseRadius, 0)),\n            L(V(-baseRadius, 0)),\n            L(V(-baseRadius, boxHeight)),\n            L(V(topLip - baseRadius, boxHeight * 1.01)),\n          ),}\n        )\n        , React.createElement(Measure, { from: V(baseRadius, 0), to: V(-baseRadius, 0),} )\n        , React.createElement(Measure, { from: V(baseRadius, boxHeight), to: V(baseRadius, 0),} )\n        , React.createElement(Measure, {\n          from: V(topLip - baseRadius, boxHeight),\n          to: V(0, boxHeight),}\n        )\n      )\n\n      , !print && paperSize && (\n        React.createElement('rect', {\n          x: paperPosition[0],\n          y: paperPosition[1],\n          width: paperSize[0],\n          height: paperSize[1],}\n        )\n      )\n      , children\n    )\n  )\n}\n","import * as React from \"react\"\n\nimport { arrayRange, DEG, round10, TAU, V3 } from \"ts3dutils\"\nimport { encode, L, M, Z } from \"./svg\"\n\nexport const INCH = 25.4\nexport const fmtdeg = (x) => \"\" + round10(x / DEG, -1) + \"Â°\"\n \n\nexport const radiusFromSideWidth = (sides, sideWidth) =>\n  sideWidth / 2 / Math.sin(TAU / sides / 2)\nexport const sideWithFromRadius = (sides, radius) =>\n  radius * 2 * Math.sin(TAU / sides / 2)\nexport const centerToSideFromSideWidth = (\n  sides,\n  sideWidth,\n) => sideWidth / 2 / Math.tan(TAU / sides / 2)\nexport const radiusFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide / Math.cos(TAU / sides / 2)\nexport const sideWidthFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide * 2 * Math.tan(TAU / sides / 2)\n\nexport function RegularPolygon({\n  sides,\n  radius,\n  startAngle = 0,\n  sideLength = undefined,\n  ...props\n}\n\n\n\n\n) {\n  if ((undefined !== sideLength) === (undefined !== radius)) {\n    throw new Error(\"must set either sideLength or radius\")\n  }\n  if (undefined === radius) {\n    radius = radiusFromSideWidth(sides, sideLength)\n  }\n  return (\n    React.createElement('path', {\n      d: encode(\n        M(V3.polar(radius, startAngle)),\n        ...arrayRange(0, sides).map((i) =>\n          L(V3.polar(radius, startAngle + i * (TAU / sides))),\n        ),\n        Z(),\n      ),\n      ...props,}\n    )\n  )\n}\n\nexport function RotStep({\n  id,\n  children,\n  count,\n  stepDeg,\n}\n\n\n\n\n) {\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement('g', { id: id,}, children)\n      , arrayRange(0, count - 1).map((i) => (\n        React.createElement('g', {\n          id: `${id}-${i}`,\n          key: `${id}-${i}`,\n          transform: `rotate(${(i + 1) * stepDeg} 0 0)`,}\n\n          , children\n        )\n      ))\n    )\n  )\n}\n\nexport const openInNewTab = (url) => {\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { V, V3 } from \"ts3dutils\"\nimport { fmtdeg, } from \"./common\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport function MeasureAngle({\n  center,\n  start,\n  toRel,\n  children,\n}\n\n\n\n\n) {\n  Array.isArray(center) && (center = V(center))\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  const radius = 20\n  const startV = V3.polar(radius, start).plus(V(center))\n  const endV = V3.polar(radius, start + toRel).plus(V(center))\n  const textPos = V3.polar(0.7 * radius, start + toRel / 2).plus(V(center))\n  const largeArcFlag = Math.abs(toRel) > Math.PI ? \"1\" : \"0\"\n  const sweepFlag = toRel > 0 ? \"1\" : \"0\"\n  return (\n    React.createElement('g', { className: \"measure\",}\n      , React.createElement('path', {\n        style: { fill: \"none\" },\n        d: `M${startV.x},${startV.y} A${radius},${radius},0,${largeArcFlag},${sweepFlag},${endV.x},${endV.y}`,}\n      )\n      , React.createElement('text', {\n        style: {\n          stroke: \"none\",\n          fontSize: 4,\n          dominantBaseline: \"middle\",\n          textAnchor: \"middle\",\n        },\n        x: textPos.x,\n        y: textPos.y,}\n\n        , _nullishCoalesce(children, () => ( fmtdeg(toRel)))\n      )\n    )\n  )\n}\n","import Autocomplete from \"@mui/material/Autocomplete\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { forwardRef, } from \"react\"\nimport { PAPER_SIZES, PaperSizeFromDimensions } from \"./PaperSize\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const PaperAutocomplete = forwardRef(\n  (\n    {\n      disableClearance = false,\n      onChange,\n      value,\n      label,\n    },\n    ref,\n  ) => {\n    let paperSize = null\n    if (value) {\n      const [a, b] = value\n      paperSize = PaperSizeFromDimensions(a, b)\n    }\n    return (\n      React.createElement(Autocomplete, {\n        ref: ref,\n        disableClearable: disableClearance,\n        size: \"small\",\n        freeSolo: true,\n        renderInput: (params) => (\n          React.createElement(TextField, { ...params, label: label, variant: \"outlined\",} )\n        ),\n        value: paperSize,\n        onChange: (e, newValue) => {\n          if (\"string\" === typeof newValue) {\n            if (newValue.trim() === \"\") {\n              if (!disableClearance) {\n                onChange(null)\n              }\n            } else {\n              const match = /(\\d+(?:\\.\\d+)?)\\D*?(\\d+(?:\\.\\d+)?)?\\D*$/.exec(\n                newValue,\n              )\n              if (match) {\n                const [, widthStr, heightStr] = match\n                onChange(\n                  PaperSizeFromDimensions(+widthStr, +(heightStr || widthStr)),\n                )\n              }\n            }\n          } else {\n            onChange(newValue)\n          }\n        },\n        getOptionLabel: (val) => {\n          const [width, height, name = \"custom\"] = val\n          return `${name} ${width}x${height}mm`\n        },\n        options: PAPER_SIZES,}\n      )\n    )\n  },\n) \n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport const ValleyMountainLegend = (\n  props,\n) => {\n  const textStyle = {\n    fontSize: 4,\n    dominantBaseline: \"middle\",\n  }\n  const print = useContext(SvgPrintContext)\n  if (print) return null\n\n  return (\n    React.createElement('g', { ...props,}\n      , React.createElement('text', { style: textStyle, y: -4,}, \"valley\"\n\n      )\n      , React.createElement('line', { x1: 20, y1: -4, x2: 40, y2: -4, className: \"valley\",} )\n\n      , React.createElement('text', { style: textStyle, y: 4,}, \"mountain\"\n\n      )\n      , React.createElement('line', { x1: 20, y1: 4, x2: 40, y2: 4, className: \"mountain\",} )\n    )\n  )\n}\n","import * as React from \"react\"\n\nimport { newtonIterate1d, TAU, V, V3 } from \"ts3dutils\"\n\nimport {\n  radiusFromCenterToSide,\n  RegularPolygon,\n  RotStep,\n} from \"../paperBox1/common\"\nimport { Measure } from \"../paperBox1/Measure\"\nimport { MeasureAngle } from \"../paperBox1/MeasureAngle\"\n\nimport { A, encode, H, L, M } from \"../paperBox1/svg\"\nimport { ValleyMountainLegend } from \"../paperBox1/ValleyMountainLegend\"\nimport { Common } from \"./Common\"\nimport { lookUpAngle } from \"./InsideFoldsSvg\"\n\nexport const OutsideFoldsSvg = (props\n\n\n\n\n\n\n) => {\n  const { baseRadius, topRadius, radius, sides, paperSize } = props\n  const creaseAngle = TAU / sides / 2\n  const basePolyRadius = radiusFromCenterToSide(sides, baseRadius)\n  const topPolyRadius = radiusFromCenterToSide(sides, topRadius)\n  // to calculate the intersection of the blue segment with\n  // the green, imagine an isosceles triangle with red as the base\n  const d = (topRadius - baseRadius) / 2 / Math.cos(creaseAngle)\n  const lastPolyAngle = lookUpAngle(radius, 2 * creaseAngle, basePolyRadius + d)\n\n  // The colors mainly serve to make the code more readable, i.e. you\n  // know which code makes which line. When printing, no colors.\n  const blueStart = V(basePolyRadius, 0).plus(\n    V3.polar(topRadius - baseRadius, -creaseAngle),\n  )\n  const blueDir = V3.polar(1, -(creaseAngle + creaseAngle))\n  const blueLine = (t) => blueStart.plus(blueDir.times(t))\n  const blueEndPoint = blueLine(\n    newtonIterate1d((t) => blueLine(t).length() - radius, 1, 4),\n  )\n  const cutoutRadius = radius\n  return (\n    React.createElement(Common, { ...props,}\n      , React.createElement('g', null\n        , React.createElement(RegularPolygon, {\n          radius: basePolyRadius,\n          sides: sides,\n          className: \"valley\",}\n        )\n        , React.createElement('circle', { r: radius, className: \"cut\",} )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: [0, 0],\n          to: V3.polar(baseRadius, creaseAngle),}\n, \"baseRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(baseRadius, creaseAngle),\n          to: V3.polar(topRadius, creaseAngle),\n          hideRight: true,}\n, \"topRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(topRadius, creaseAngle),\n          to: V3.polar(radius, creaseAngle),\n          hideRight: true,}\n, \"radius\"\n\n        )\n        , React.createElement(RotStep, { id: \"rotsym\", count: sides, stepDeg: 360 / sides,}\n          , React.createElement('path', {\n            d: encode(\n              M(basePolyRadius, 0),\n              L(\n                V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                ),\n              ),\n            ),\n            className: \"mountain red-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(topPolyRadius, 0),\n              L(\n                V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                ),\n              ),\n            ),\n            className: \"mountain orange-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(\n                V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                ),\n              ),\n              L(V3.polar(topPolyRadius, -TAU / sides)),\n            ),\n            className: \"valley orange-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(\n                V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                ),\n              ),\n              L(blueEndPoint),\n            ),\n            className: \"mountain blue-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(blueEndPoint),\n              A(\n                cutoutRadius,\n                cutoutRadius,\n                0,\n                0,\n                1,\n                V3.polar(radius, -TAU / sides),\n              ),\n            ),\n            className: \"cut\",}\n          )\n\n          , React.createElement('path', {\n            d: encode(M(V(basePolyRadius, 0)), H(radius)),\n            className: \"valley green-stroke\" ,}\n          )\n          , paperSize && (\n            React.createElement('path', {\n              d: encode(M(0, 0), H(baseRadius / 2)),\n              className: \"valley pink-stroke\" ,}\n            )\n          )\n        )\n        , React.createElement(MeasureAngle, {\n          center: [basePolyRadius, 0],\n          start: -creaseAngle,\n          toRel: creaseAngle,}\n        )\n        , React.createElement(MeasureAngle, {\n          center: V(basePolyRadius, 0).plus(\n            V3.polar(topRadius - baseRadius, -creaseAngle),\n          ),\n          start: -creaseAngle * 2,\n          toRel: creaseAngle,}\n        )\n        , React.createElement(Measure, { from: [radius, 0], to: blueEndPoint,} )\n        , React.createElement(Measure, { from: blueEndPoint, to: V3.polar(radius, -TAU / sides),} )\n        , React.createElement(ValleyMountainLegend, {\n          transform: `translate(${-radius}, ${-radius})`,\n          x: 100,\n          y: 100,}\n        )\n      )\n    )\n  )\n}\n","import { Alert } from \"@mui/material\"\nimport Card from \"@mui/material/Card\"\nimport CardContent from \"@mui/material/CardContent\"\nimport CardMedia from \"@mui/material/CardMedia\"\nimport Divider from \"@mui/material/Divider\"\nimport FormControl from \"@mui/material/FormControl\"\nimport Grid from \"@mui/material/Grid\"\nimport InputLabel from \"@mui/material/InputLabel\"\nimport Link from \"@mui/material/Link\"\nimport MenuItem from \"@mui/material/MenuItem\"\nimport Select from \"@mui/material/Select\"\nimport { useTheme } from \"@mui/material/styles\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { useCallback, useState } from \"react\"\n\nimport { useHashState } from \"../common/useHashState\"\nimport { ExportButtons } from \"../paperBox1/ExportButtons\"\nimport { PaperAutocomplete } from \"../paperBox1/PaperAutocomplete\"\n\nimport insideFoldsImg from \"./insideFolds.jpg\"\nimport { InsideFoldsSvg } from \"./InsideFoldsSvg\"\nimport outsideFoldsLargeTemplateImg from \"./outsideFoldsLargeTemplate.jpg\"\nimport { OutsideFoldsSvg } from \"./OutsideFoldsSvg\"\n\nexport default () => {\n  const [state, setState] = useHashState({\n    variant: \"inside\" ,\n    baseRadius: 30,\n    topRadius: 65,\n    radius: 100,\n    sides: 8,\n  })\n  const setPartialState = useCallback(\n    (update) => setState((s) => ({ ...s, ...update })),\n    [setState],\n  )\n  const [paperSize, setPaperSize] = useState(null )\n\n  const BaseDrawing = {\n    inside: InsideFoldsSvg,\n    outside: OutsideFoldsSvg,\n  }[state.variant]\n\n  const theme = useTheme()\n\n  const topLip = state.radius - state.topRadius\n  const topOverlap = topLip - state.baseRadius\n\n  return (\n    React.createElement(Grid, { container: true, style: { width: \"100%\" },}\n      , React.createElement(Grid, { size: { xs: 12, md: 10 },}\n        , React.createElement(BaseDrawing, {\n          ...state,\n          paperSize: paperSize,\n          style: { width: \"100%\", height: \"100%\", margin: theme.spacing(1) },}\n        )\n      )\n      , React.createElement(Grid, {\n        size: { xs: 12, md: 2 },\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"100%\",\n          padding: 2,\n          alignItems: \"stretch\",\n          // \"& > *\": { margin: 1 },\n          gap: 2,\n        },}\n\n        , React.createElement(Card, null\n          , React.createElement(CardMedia, {\n            image: insideFoldsImg,\n            title: \"Contemplative Reptile\" ,\n            sx: {\n              height: 0,\n              paddingTop: \"100%\", // 1:1\n            },}\n          )\n          , React.createElement(CardContent, null, \"Helper to build a box from a circular piece of paper. The Inside Folds variant has more complicated folds but has a cleaner overall look.\"\n\n\n\n          )\n        )\n        , React.createElement(FormControl, { variant: \"outlined\", size: \"small\",}\n          , React.createElement(InputLabel, { id: \"variant-label\",}, \"Variant\")\n          , React.createElement(Select, {\n            labelId: \"variant-label\",\n            label: \"Variant\",\n            value: state.variant,\n            onChange: (e) =>\n              setPartialState({\n                variant: e.target.value ,\n              })\n            ,}\n\n            , React.createElement(MenuItem, { value: \"inside\",}, \"Inside Folds\" )\n            , React.createElement(MenuItem, { value: \"outside\",}, \"Outside Folds\" )\n          )\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.baseRadius,\n          onChange: (e) => setPartialState({ baseRadius: +e.target.value }),\n          label: \"baseRadius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.topRadius,\n          onChange: (e) => setPartialState({ topRadius: +e.target.value }),\n          label: \"topRadius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.radius,\n          onChange: (e) => setPartialState({ radius: +e.target.value }),\n          label: \"Radius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1, min: 4, max: 32 },\n          value: state.sides,\n          onChange: (e) => setPartialState({ sides: +e.target.value }),\n          label: \"Sides\",}\n        )\n        , state.variant === \"inside\" && topOverlap > 0 && (\n          React.createElement(Alert, { severity: \"error\",}, \"For the inside folds variant, you want no (or even negative) overlap at the top.\"\n\n\n          )\n        )\n        , React.createElement(Divider, null )\n        , React.createElement(Card, null\n          , React.createElement(CardContent, null, \"Set the Print Paper Size on large boxes to get a partial template which can be rotated. See\"\n\n                , \" \"\n            , React.createElement(Link, { href: outsideFoldsLargeTemplateImg,}, \"this image\" ), \" for an example.\"\n\n          )\n        )\n        , React.createElement(PaperAutocomplete, {\n          label: \"Print Paper Size\"  ,\n          value: paperSize,\n          onChange: setPaperSize,}\n        )\n        , React.createElement(ExportButtons, {\n          baseFileName: `${state.variant}-${state.baseRadius}-${state.topRadius}-${state.radius}-${state.sides}`,\n          what: React.createElement(BaseDrawing, { ...state, paperSize: paperSize,} ),}\n        )\n      )\n    )\n  )\n}\n","import Button from \"@mui/material/Button\"\nimport fileDownload from \"js-file-download\"\n\nimport * as React from \"react\"\nimport ReactDOMServer from \"react-dom/server\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport function ExportButtons({\n  what,\n  baseFileName,\n}\n\n\n) {\n  const getPrintSVG = () =>\n    ReactDOMServer.renderToStaticMarkup(\n      React.createElement(SvgPrintContext.Provider, { value: true,}, what),\n    ).replace(/\\s{2,}/g, \" \")\n  const asSVG = () => {\n    const svg = getPrintSVG()\n    fileDownload(svg, baseFileName + \".svg\")\n  }\n  const asTemplatePDF = async () => {\n    const { svgToPdf } = await import(\n      /* webpackChunkName: \"svgToPdf\" */ \"../paperBox1/svgToPdf\"\n    )\n\n    // add your content to the document here, as usual\n    const blob = await svgToPdf({\n      title: baseFileName,\n      author: \"Adrian Leonhard\",\n      svg: getPrintSVG(),\n    })\n\n    fileDownload(blob, baseFileName + \".pdf\")\n  }\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement(Button, { variant: \"contained\", onClick: asSVG,}, \"Download As SVG\"\n\n      )\n      , React.createElement(Button, { variant: \"contained\", onClick: asTemplatePDF,}, \"Template as PDF\"\n\n      )\n    )\n  )\n}\n"," function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }import debounce from \"lodash/debounce\"\nimport mapValues from \"lodash/mapValues\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\nimport {\n  PAPER_SIZE_A4,\n\n  PaperSizeFromString,\n  PaperSizeToString,\n} from \"../paperBox1/PaperSize\"\n\nconst parseHash = (hash) => {\n  return !hash\n    ? {}\n    : hash\n        .substring(1)\n        .split(\"&\")\n        .map((part) => {\n          const [key, value] = part.split(\"=\")\n          return [decodeURIComponent(key), decodeURIComponent(value)]\n        })\n        .reduce(\n          (obj, [key, value]) => {\n            obj[key] = value\n            return obj\n          },\n          {} ,\n        )\n}\nconst objectToHash = (o) => {\n  return (\n    \"#\" +\n    Object.entries(o)\n      .map(\n        ([key, value]) =>\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(value),\n      )\n      .join(\"&\")\n  )\n}\n\nconst defaultDeserialize = (\n  x,\n) =>\n  mapValues(x, (v, key) => {\n    if (\"paperSize\" === key) {\n      try {\n        return PaperSizeFromString(v)\n      } catch (e) {\n        console.error(e)\n        return PAPER_SIZE_A4\n      }\n    } else if (\"true\" === v) {\n      return true\n    } else if (\"false\" === v) {\n      return false\n    } else if (\"NaN\" === v) {\n      return NaN\n    } else if (\"undefined\" === v) {\n      return undefined\n    } else if (\"null\" === v) {\n      return null\n    } else if (\"\" === v) {\n      return \"\"\n    } else if (!isNaN(+v)) {\n      return +v\n    } else {\n      return v\n    }\n  })\nconst defaultSerialize = (x) =>\n  mapValues(x, (v, key) =>\n    key === \"paperSize\" ? PaperSizeToString(v ) : \"\" + v,\n  )\n\nexport function useHashState(\n  initialState,\n  {\n    deserialize = defaultDeserialize,\n    serialize = defaultSerialize,\n    wait = 1000,\n  } = {},\n) {\n  const createInitialState = useCallback(() => {\n    const state =\n      \"function\" === typeof initialState\n        ? (initialState )()\n        : initialState\n    // hash overrides parameter\n    const mergedState = deserialize(\n      Object.assign(serialize(state), parseHash(document.location.hash)),\n    ) \n    console.log(\"replaceState\")\n    history.replaceState(\n      undefined,\n      document.title,\n      objectToHash(serialize(mergedState)),\n    )\n\n    return mergedState\n  }, [deserialize, initialState, serialize])\n  const [state, setState] = useState(createInitialState)\n  const updateHashRef = useRef()\n  useEffect(() => _optionalChain([updateHashRef, 'access', _ => _.current, 'optionalCall', _2 => _2(state)]), [state])\n  if (!updateHashRef.current) {\n    console.log(\"pushState\")\n    updateHashRef.current = debounce(function (newState) {\n      history.pushState(\n        undefined,\n        document.title,\n        objectToHash(serialize(newState)),\n      )\n    }, wait)\n  }\n\n  useEffect(() => {\n    const onHashChange = () => {\n      setState(createInitialState())\n    }\n    window.addEventListener(\"hashchange\", onHashChange)\n    return () => {\n      window.removeEventListener(\"hashchange\", onHashChange)\n    }\n  }, [createInitialState])\n  return [state, setState]\n}\n","import last from \"lodash/last\"\nimport { SVGPathData } from \"svg-pathdata\"\n\n\n\n\n\n\n\n\n\n\nimport { V as VV } from \"ts3dutils\"\n\nexport function H(x) {\n  return { type: SVGPathData.HORIZ_LINE_TO, relative: false, x: x }\n}\n\nexport function A(\n  rx,\n  ry,\n  xAxisRotation,\n  largeArcFlag,\n  sweepFlag,\n  p,\n) {\n  return {\n    lArcFlag: largeArcFlag,\n    rX: rx,\n    rY: ry,\n    relative: false,\n    sweepFlag: sweepFlag,\n    type: SVGPathData.ARC,\n    x: p.x,\n    xRot: 0,\n    y: p.y,\n  }\n}\n\nexport const C = (\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n) => ({\n  type: SVGPathData.CURVE_TO,\n  x1,\n  y1,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\nexport const V = (y) => ({\n  type: SVGPathData.VERT_LINE_TO,\n  y,\n  relative: false,\n})\n\nexport const S = (x2, y2, x, y) => ({\n  type: SVGPathData.SMOOTH_CURVE_TO,\n  x2,\n  y2,\n  x,\n  y,\n  relative: false,\n})\n\n\n\nexport function M(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.MOVE_TO, x, y, relative: false }\n}\n\nexport const m = (x, y) => ({\n  type: SVGPathData.MOVE_TO,\n  x,\n  y,\n  relative: true,\n})\n\n\n\nexport function L(a1, a2) {\n  const [x, y] = a2 === undefined ? [(a1 ).x, (a1 ).y] : [a1, a2]\n  return { type: SVGPathData.LINE_TO, x, y, relative: false }\n}\n\nexport const l = (x, y) => ({\n  type: SVGPathData.LINE_TO,\n  x,\n  y,\n  relative: true,\n})\n\nexport const Z = () => ({ type: SVGPathData.CLOSE_PATH })\n\nexport const encode = (...path) => {\n  const modPath = []\n  let lastX = 0,\n    lastY = 0\n  for (const c of path) {\n    if (\"function\" === typeof c) {\n      for (const c2 of c(lastX, lastY)) {\n        modPath.push(c2)\n      }\n    } else {\n      modPath.push(c)\n    }\n    const lastC = last(modPath)\n    if (\"x\" in lastC) lastX = lastC.x\n    if (\"y\" in lastC) lastY = lastC.y\n  }\n  return new SVGPathData(modPath).round(3).encode()\n}\n \n\nexport function Corner(rad, x, y) {\n  return (prevX, prevY) => {\n    const prev = VV(prevX, prevY)\n    const p1 = VV(x, y)\n    const dir1 = prev.to(p1).toLength(rad)\n    const p2 = VV(p1.x + dir1.y, p1.y - dir1.x)\n    return [L(p1.minus(dir1)), A(rad, rad, 0, 0, 0, p2)]\n  }\n}\n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { newtonIterate1d, TAU, V, V3 } from \"ts3dutils\"\n\nimport {\n  radiusFromCenterToSide,\n  RegularPolygon,\n  RotStep,\n} from \"../paperBox1/common\"\nimport { Measure, SvgPrintContext } from \"../paperBox1/Measure\"\nimport { MeasureAngle } from \"../paperBox1/MeasureAngle\"\n\nimport { encode, H, L, M } from \"../paperBox1/svg\"\nimport { Common } from \"./Common\"\n\n// https://math.stackexchange.com/a/885965/230980\nexport function lookUpAngle(\n  r,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    Math.PI / 2 - lookUpAngle2 - Math.acos((r2 / r) * Math.sin(lookUpAngle2))\n  )\n}\nexport function lookUpRadius(\n  angle,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    r2 / Math.cos(angle - Math.PI / 2 + lookUpAngle2) / Math.sin(lookUpAngle2)\n  )\n}\n\nexport function InsideFoldsSvg(props\n\n\n\n\n\n\n) {\n  const { baseRadius, topRadius, radius, sides } = props\n  const basePolyRadius = radiusFromCenterToSide(sides, baseRadius)\n  const topPolyRadius = radiusFromCenterToSide(sides, topRadius)\n\n  const creaseAngle = TAU / sides / 2\n  const innerAngleToC = lookUpAngle(radius, creaseAngle, basePolyRadius)\n  const print = useContext(SvgPrintContext)\n\n  const redStartPoint = V(basePolyRadius, 0).plus(\n    V3.polar(topRadius - baseRadius, creaseAngle),\n  )\n  const redDir = V3.X\n  const redLine = (t) => redStartPoint.plus(redDir.times(t))\n  const redEndpoint = redLine(\n    newtonIterate1d((t) => redLine(t).length() - radius, 1, 4),\n  )\n  // The colors mainly serve to make the code more readable, i.e. you know\n  // which code makes which line. When printing, no colors.\n  return (\n    React.createElement(Common, { ...props,}\n      , React.createElement('g', { className: \"fold\",}\n        , React.createElement(RegularPolygon, {\n          radius: basePolyRadius,\n          sides: sides,\n          className: \"valley\",}\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: [0, 0],\n          to: V3.polar(baseRadius, creaseAngle),}\n, \"baseRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(baseRadius, creaseAngle),\n          to: V3.polar(topRadius, creaseAngle),\n          hideRight: true,}\n, \"topRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(topRadius, creaseAngle),\n          to: V3.polar(radius, creaseAngle),\n          hideRight: true,}\n, \"radius\"\n\n        )\n        , React.createElement(MeasureAngle, {\n          center: redStartPoint,\n          start: Math.PI,\n          toRel: creaseAngle,}\n        )\n        , React.createElement(Measure, {\n          from: V3.polar(basePolyRadius, -TAU / sides),\n          to: V3.polar(basePolyRadius, 0),}\n        )\n        , React.createElement(RotStep, { id: \"foo\", count: sides, stepDeg: 360 / sides,}\n          , React.createElement('path', {\n            d: encode(M(basePolyRadius, 0), H(radius)),\n            className: \"mountain green-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(basePolyRadius, 0),\n              L(V3.polar(radius, innerAngleToC)),\n              M(basePolyRadius, 0),\n              L(redStartPoint),\n            ),\n            className: \"valley blue-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(M(redStartPoint), L(V3.polar(radius, -innerAngleToC))),\n            className: \"mountain blue-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(topPolyRadius, 0),\n              L(\n                V3.polar(basePolyRadius, -TAU / sides).plus(\n                  V3.polar(topRadius - baseRadius, -TAU / sides / 2),\n                ),\n              ),\n            ),\n            className: \"valley pink-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(\n              M(\n                V3.polar(basePolyRadius, -TAU / sides).plus(\n                  V3.polar(topRadius - baseRadius, -TAU / sides / 2),\n                ),\n              ),\n              L(V3.polar(topPolyRadius, -TAU / sides)),\n            ),\n            className: \"mountain orange-stroke\" ,}\n          )\n          , React.createElement('path', {\n            d: encode(M(redStartPoint), L(redEndpoint)),\n            className: \"valley red-stroke\" ,}\n          )\n        )\n      )\n      , React.createElement('g', { className: \"cut\",}\n        , React.createElement('circle', { r: radius,} )\n      )\n    )\n  )\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import { MINUS } from \"ts3dutils\"\n\n \n// Always portrait orientation,\n\n// Always portrait orientation,\nexport const PAPER_SIZES_A = [\n  [841, 1189, \"A0\"],\n  [594, 841, \"A1\"],\n  [420, 594, \"A2\"],\n  [297, 420, \"A3\"],\n  [210, 297, \"A4\"],\n  [148, 210, \"A5\"],\n  [105, 148, \"A6\"],\n  [74, 105, \"A7\"],\n  [52, 74, \"A8\"],\n  [37, 52, \"A9\"],\n  [26, 37, \"A10\"],\n]\n\nexport function PaperSizeEquals([aw, ah], [bw, bh]) {\n  return aw === bw && bh === bw\n}\n\nexport const PAPER_SIZES_B = [\n  [1000, 1414, \"C0\"],\n  [707, 1000, \"C1\"],\n  [500, 707, \"C2\"],\n  [353, 500, \"C3\"],\n  [250, 353, \"C4\"],\n  [176, 250, \"C5\"],\n  [125, 176, \"C6\"],\n  [88, 125, \"C7\"],\n  [62, 88, \"C8\"],\n  [44, 62, \"C9\"],\n  [31, 44, \"C10\"],\n]\n\n// C size envelopes fit A size paper.\nexport const PAPER_SIZES_C = [\n  [917, 1297, \"C0\"],\n  [648, 917, \"C1\"],\n  [458, 648, \"C2\"],\n  [324, 458, \"C3\"],\n  [229, 324, \"C4\"],\n  [162, 229, \"C5\"],\n  [114, 162, \"C6\"],\n  [81, 114, \"C7\"],\n  [57, 81, \"C8\"],\n  [40, 57, \"C9\"],\n  [28, 40, \"C10\"],\n]\nexport const PAPER_SIZES = [\n  ...PAPER_SIZES_A,\n  [150, 150, \"Origami 15cm\"],\n  [100, 100, \"Origami 10cm\"],\n  [75, 75, \"Origami 7.5cm\"],\n  [215.9, 279.4, \"Letter\"],\n  [215.9, 355.6, \"Legal\"],\n  [205, 292, \"Cricut A4\"],\n]\n\nexport const ALL_PAPER_SIZES = [\n  ...PAPER_SIZES,\n  ...PAPER_SIZES_C,\n  ...PAPER_SIZES_B,\n]\n\nexport function PaperSizeFromString(str) {\n  const byName = PAPER_SIZES.find(([, , name]) => name === str)\n  if (byName) return byName\n  const [a, b] = str.split(\"x\")\n  return [+a, +b, \"Custom\"]\n}\nexport function PaperSizeFromDimensions(a, b) {\n  ;[a, b] = [a, b].sort(MINUS)\n  return _nullishCoalesce(PAPER_SIZES.find(([x, y]) => x === a && y === b), () => ( [a, b, \"Custom\"]))\n}\nexport function PaperSizeToString([a, b, name]) {\n  return name === \"Custom\" ? \"\" + a + \"x\" + b : name\n}\n\nexport const PAPER_SIZE_A4 = PAPER_SIZES_A[4]\n","import * as React from \"react\"\nimport { createContext, useContext } from \"react\"\nimport { DEG, round10, V, } from \"ts3dutils\"\n\n\nexport const SvgPrintContext = createContext(false)\n\nexport function Guide({\n  children,\n  ...props\n}) {\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  return (\n    React.createElement('g', { className: \"guide\", ...props,}\n      , children\n    )\n  )\n}\nexport function Measure({\n  from,\n  to,\n  children,\n  R,\n  hideRight = false,\n  offset = 0,\n}\n\n\n\n\n\n\n) {\n  Array.isArray(from) && (from = V(from))\n  Array.isArray(to) && (to = V(to))\n  const d = from.to(to)\n  const length = d.length()\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  if (length < 0.05) return null\n  children ||= (R ? \"R\" : \"\") + round10(length, -1)\n  const textBlank = 3 * children.length\n\n  return (\n    React.createElement('g', {\n      transform: ` translate(${from[0]}, ${from[1]}) rotate(${\n        d.angleXY() / DEG\n      }) translate(0, ${offset * 10})`,\n      className: \"measure\",}\n\n      , !hideRight && (\n        React.createElement('path', {\n          style: { fill: \"none\" },\n          d: `M0,0\n          l0,10\n          M4,3\n          l-4,2\n          l4,2`,}\n        )\n      )\n      , React.createElement('path', {\n        style: { fill: \"none\" },\n        d: `\n        M0,5\n        H${(length - textBlank) / 2}\n        M${(length + textBlank) / 2},5\n        H${length}\n        M${length},0\n        l0,10\n        m-4,-7\n        l4,2\n        l-4,2`,}\n      )\n      , React.createElement('text', {\n        style: {\n          stroke: \"none\",\n          fontSize: 4,\n          dominantBaseline: \"middle\",\n          textAnchor: \"middle\",\n        },\n        x: length / 2,\n        y: 5,}\n\n        , children\n      )\n    )\n  )\n}\n","\nimport { blue, green, orange, pink, red } from \"@mui/material/colors\"\nimport { useTheme } from \"@mui/material/styles\"\nimport * as React from \"react\"\nimport { useContext, useMemo } from \"react\"\nimport { SvgPrintContext } from \"./Measure\"\n\n\nexport const SvgCommonDefs = () => {\n  const theme = useTheme()\n  const print = useContext(SvgPrintContext)\n  const screenStyles = useMemo(\n    () => `\n.adrian * { stroke: ${theme.palette.text.primary}; }\n.adrian .red-stroke { stroke: ${red[500]}; }\n.adrian .orange-stroke { stroke: ${orange[500]}; }\n.adrian .blue-stroke { stroke: ${blue[500]}; }\n.adrian .green-stroke { stroke: ${green[500]}; }\n.adrian .pink-stroke { stroke: ${pink[500]}; }\n.adrian .measure, *.measure * {\n  stroke: ${theme.palette.primary.main};\n  fill: ${theme.palette.primary.main};\n}\n.adrian .guide, .adrian .guide * {\n  stroke: ${theme.palette.secondary.main};\n  fill: ${theme.palette.secondary.main};\n}\n.adrian .glue, .adrian .guide .glue {\n  stroke: none;\n  fill: url(#glue);\n}\n`,\n    [theme],\n  )\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement('defs', null\n        , React.createElement('pattern', { id: \"glue\", patternUnits: \"userSpaceOnUse\", width: \"4\", height: \"4\",}\n          , React.createElement('path', {\n            d: \"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2\"\n\n                ,\n            style: { stroke: theme.palette.divider, strokeWidth: 1 },}\n          )\n        )\n      )\n      , React.createElement('style', null, `\n      .adrian * {\n        stroke: black;\n        stroke-width: .05mm;\n        fill: none;\n      }\n      .mountain, .mountain * { stroke-dasharray: 10,2,1,1,1,2; }\n      .valley, .valley * { stroke-dasharray: 1,1; }\n      .cut, .cut * { stroke: 1; }\n      `)\n      , !print && React.createElement('style', null, screenStyles)\n    )\n  )\n}\n"],"names":["Common","baseRadius","topRadius","radius","style","paperSize","children","paperPosition","Math","min","print","useContext","svgViewBox","boxHeight","topLip","xmlns","xmlnsXlink","width","height","viewBox","join","className","transform","fill","d","M","V","L","from","to","x","y","INCH","fmtdeg","radiusFromSideWidth","sides","sideWidth","sin","sideWithFromRadius","centerToSideFromSideWidth","tan","radiusFromCenterToSide","centerToSide","cos","sideWidthFromCenterToSide","RegularPolygon","startAngle","sideLength","props","undefined","Error","V3","polar","map","i","Z","RotStep","id","count","stepDeg","key","openInNewTab","url","newWindow","window","open","opener","MeasureAngle","center","start","toRel","Array","isArray","startV","plus","endV","textPos","largeArcFlag","abs","PI","sweepFlag","stroke","fontSize","dominantBaseline","textAnchor","lhs","rhsFn","PaperAutocomplete","forwardRef","disableClearance","onChange","value","label","ref","a","b","A","disableClearable","size","freeSolo","renderInput","params","variant","e","newValue","trim","match","exec","widthStr","heightStr","getOptionLabel","val","name","options","ValleyMountainLegend","textStyle","x1","y1","x2","y2","OutsideFoldsSvg","creaseAngle","basePolyRadius","topPolyRadius","blueStart","blueDir","blueLine","t","times","blueEndPoint","length","cutoutRadius","r","Measure","offset","hideRight","H","state","setState","useHashState","setPartialState","useCallback","update","s","setPaperSize","useState","BaseDrawing","inside","InsideFoldsSvg","outside","theme","useTheme","topOverlap","Grid","container","xs","md","margin","spacing","sx","display","flexDirection","padding","alignItems","gap","Card","CardMedia","image","title","paddingTop","CardContent","FormControl","InputLabel","Select","labelId","target","MenuItem","TextField","type","inputProps","step","max","Alert","severity","Divider","Link","href","ExportButtons","baseFileName","what","getPrintSVG","Provider","replace","onClick","svg","async","svgToPdf","blob","author","parseHash","hash","substring","split","part","decodeURIComponent","reduce","obj","objectToHash","o","Object","entries","encodeURIComponent","defaultDeserialize","v","NaN","isNaN","console","error","defaultSerialize","initialState","deserialize","serialize","wait","createInitialState","mergedState","assign","document","location","log","history","replaceState","updateHashRef","useRef","useEffect","ops","lastAccessLHS","op","fn","args","call","_optionalChain","_","current","_2","newState","pushState","onHashChange","addEventListener","removeEventListener","HORIZ_LINE_TO","relative","rx","ry","xAxisRotation","p","lArcFlag","rX","rY","ARC","xRot","C","CURVE_TO","VERT_LINE_TO","a1","a2","MOVE_TO","LINE_TO","l","CLOSE_PATH","encode","path","modPath","lastX","lastY","c","c2","push","lastC","round","Corner","rad","prevX","prevY","prev","p1","dir1","toLength","p2","minus","lookUpAngle","lookUpAngle2","r2","acos","innerAngleToC","redStartPoint","redDir","X","redLine","redEndpoint","PAPER_SIZES_A","PAPER_SIZES_C","PAPER_SIZES","PaperSizeFromString","str","byName","find","PaperSizeFromDimensions","sort","PaperSizeToString","PAPER_SIZE_A4","SvgPrintContext","createContext","Guide","R","textBlank","angleXY","SvgCommonDefs","screenStyles","useMemo","palette","text","primary","main","secondary","patternUnits","divider","strokeWidth"],"sourceRoot":""}