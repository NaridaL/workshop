{"version":3,"file":"paperBox2-index.js","mappings":"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","sources":["/dev/workshop/./src/common/useHashState.ts?","/dev/workshop/./src/paperBox1/ExportButtons.tsx?","/dev/workshop/./src/paperBox1/Measure.tsx?","/dev/workshop/./src/paperBox1/MeasureAngle.tsx?","/dev/workshop/./src/paperBox1/PaperAutocomplete.tsx?","/dev/workshop/./src/paperBox1/common.tsx?","/dev/workshop/./src/paperBox2/Common.tsx?","/dev/workshop/./src/paperBox2/InsideFoldsSvg.tsx?","/dev/workshop/./src/paperBox1/ValleyMountainLegend.tsx?","/dev/workshop/./src/paperBox2/OutsideFoldsSvg.tsx?","/dev/workshop/./src/paperBox2/index.tsx?"],"sourcesContent":["import debounce from \"lodash/debounce\"\nimport mapValues from \"lodash/mapValues\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\n\nconst parseHash = (hash) => {\n  return !hash\n    ? {}\n    : hash\n        .substring(1)\n        .split(\"&\")\n        .map((part) => {\n          const [key, value] = part.split(\"=\")\n          return [decodeURIComponent(key), decodeURIComponent(value)]\n        })\n        .reduce((obj, [key, value]) => {\n          obj[key] = value\n          return obj\n        }, {} )\n}\nconst objectToHash = (o) => {\n  return (\n    \"#\" +\n    Object.entries(o)\n      .map(\n        ([key, value]) =>\n          encodeURIComponent(key) + \"=\" + encodeURIComponent(value),\n      )\n      .join(\"&\")\n  )\n}\n\nconst defaultDeserialize = (\n  x,\n) =>\n  mapValues(x, (v) => {\n    if (\"true\" === v) {\n      return true\n    } else if (\"false\" === v) {\n      return false\n    } else if (\"NaN\" === v) {\n      return NaN\n    } else if (\"undefined\" === v) {\n      return undefined\n    } else if (\"null\" === v) {\n      return null\n    } else if (\"\" === v) {\n      return \"\"\n    } else if (!isNaN(+v)) {\n      return +v\n    } else {\n      return v\n    }\n  })\nconst defaultSerialize = (x) =>\n  mapValues(x, (v) => \"\" + v)\n\nexport function useHashState(\n  initialState,\n  {\n    deserialize = defaultDeserialize,\n    serialize = defaultSerialize,\n    wait = 1000,\n  } = {},\n) {\n  const createInitialState = useCallback(() => {\n    const state =\n      \"function\" === typeof initialState\n        ? (initialState )()\n        : initialState\n    // hash overrides parameter\n    const mergedState = deserialize(\n      Object.assign(serialize(state), parseHash(document.location.hash)),\n    ) \n    history.pushState(\n      undefined,\n      document.title,\n      objectToHash(serialize(mergedState)),\n    )\n\n    return mergedState\n  }, [deserialize, initialState, serialize])\n  const [state, setState] = useState(createInitialState)\n  const updateHashRef = useRef()\n  if (!updateHashRef.current) {\n    updateHashRef.current = debounce(function (newState) {\n      history.pushState(\n        undefined,\n        document.title,\n        objectToHash(serialize(newState)),\n      )\n    }, wait)\n  }\n  useEffect(() => updateHashRef.current(state), [state])\n\n  useEffect(() => {\n    const onHashChange = () => {\n      setState(createInitialState())\n    }\n    window.addEventListener(\"hashchange\", onHashChange)\n    return () => {\n      window.removeEventListener(\"hashchange\", onHashChange)\n    }\n  }, [createInitialState])\n  return [state, setState]\n}\n","import Button from \"@mui/material/Button\"\nimport fileDownload from \"js-file-download\"\n\nimport * as React from \"react\"\nimport ReactDOMServer from \"react-dom/server\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport function ExportButtons({\n  what,\n  baseFileName,\n}\n\n\n) {\n  const getPrintSVG = () =>\n    ReactDOMServer.renderToStaticMarkup(\n      React.createElement(SvgPrintContext.Provider, { value: true,}, what),\n    ).replace(/\\s{2,}/g, \" \")\n  const asSVG = () => {\n    const svg = getPrintSVG()\n    fileDownload(svg, baseFileName + \".svg\")\n  }\n  const asTemplatePDF = async () => {\n    const { svgToPdf } = await import(\n      /* webpackChunkName: \"svgToPdf\" */ \"../paperBox1/svgToPdf\"\n    )\n\n    // add your content to the document here, as usual\n    const blob = await svgToPdf({\n      title: baseFileName,\n      author: \"Adrian Leonhard\",\n      svg: getPrintSVG(),\n    })\n\n    fileDownload(blob, baseFileName + \".pdf\")\n  }\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement(Button, { variant: \"contained\", onClick: asSVG,}, \"Download As SVG\"\n\n      )\n      , React.createElement(Button, { variant: \"contained\", onClick: asTemplatePDF,}, \"Template as PDF\"\n\n      )\n    )\n  )\n}\n","import * as React from \"react\"\nimport { createContext, useContext } from \"react\"\nimport { DEG, round10, V, } from \"ts3dutils\"\n\n\nexport const SvgPrintContext = createContext(false)\n\nexport function Measure({\n  from,\n  to,\n  children,\n  hideRight = false,\n  offset = 0,\n}\n\n\n\n\n\n) {\n  Array.isArray(from) && (from = V(from))\n  Array.isArray(to) && (to = V(to))\n  const d = from.to(to)\n  const length = d.length()\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  if (length < 0.05) return null\n  children ||= \"\" + round10(length, -1)\n  const textBlank = 3 * children.length\n\n  return (\n    React.createElement('g', {\n      transform: ` translate(${from[0]}, ${from[1]}) rotate(${\n        d.angleXY() / DEG\n      }) translate(0, ${offset * 10})`,\n      className: \"measure\",}\n\n      , !hideRight && (\n        React.createElement('path', {\n          style: { fill: \"none\" },\n          d: `M0,0\n          l0,10\n          M4,3\n          l-4,2\n          l4,2`,}\n        )\n      )\n      , React.createElement('path', {\n        style: { fill: \"none\" },\n        d: `\n        M0,5\n        H${(length - textBlank) / 2}\n        M${(length + textBlank) / 2},5\n        H${length}\n        M${length},0\n        l0,10\n        m-4,-7\n        l4,2\n        l-4,2`,}\n      )\n      , React.createElement('text', {\n        style: {\n          stroke: \"none\",\n          fontSize: 4,\n          dominantBaseline: \"middle\",\n          textAnchor: \"middle\",\n        },\n        x: length / 2,\n        y: 5,}\n\n        , children\n      )\n    )\n  )\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { V, V3 } from \"ts3dutils\"\nimport { fmtdeg, } from \"./common\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport function MeasureAngle({\n  center,\n  start,\n  toRel,\n  children,\n}\n\n\n\n\n) {\n  Array.isArray(center) && (center = V(center))\n  const isSvgPrint = useContext(SvgPrintContext)\n  if (isSvgPrint) return null\n  const radius = 20\n  const startV = V3.polar(radius, start).plus(V(center))\n  const endV = V3.polar(radius, start + toRel).plus(V(center))\n  const textPos = V3.polar(0.7 * radius, start + toRel / 2).plus(V(center))\n  const largeArcFlag = Math.abs(toRel) > Math.PI ? \"1\" : \"0\"\n  const sweepFlag = toRel > 0 ? \"1\" : \"0\"\n  return (\n    React.createElement('g', { className: \"measure\",}\n      , React.createElement('path', {\n        style: { fill: \"none\" },\n        d: `M${startV.x},${startV.y} A${radius},${radius},0,${largeArcFlag},${sweepFlag},${endV.x},${endV.y}`,}\n      )\n      , React.createElement('text', {\n        style: {\n          stroke: \"none\",\n          fontSize: 4,\n          dominantBaseline: \"middle\",\n          textAnchor: \"middle\",\n        },\n        x: textPos.x,\n        y: textPos.y,}\n\n        , _nullishCoalesce(children, () => ( fmtdeg(toRel)))\n      )\n    )\n  )\n}\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import Autocomplete from \"@mui/material/Autocomplete\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { forwardRef, } from \"react\"\n\nimport { PAPER_SIZES, PaperSizeFromDimensions } from \"./common\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const PaperAutocomplete = forwardRef(\n  (\n    {\n      disableClearance = false,\n      onChange,\n      value,\n      label,\n    },\n    ref,\n  ) => {\n    let paperSize = null\n    if (value) {\n      const [a, b] = value\n      const [min, max] = a < b ? [a, b] : [b, a]\n      paperSize = _nullishCoalesce(PAPER_SIZES.find(\n        ([psWidth, psHeight]) => psWidth === min && psHeight === max,\n      ), () => ( [min, max, \"custom\"]))\n    }\n    return (\n      React.createElement(Autocomplete, {\n        ref: ref,\n        disableClearable: disableClearance,\n        size: \"small\",\n        freeSolo: true,\n        renderInput: (params) => (\n          React.createElement(TextField, { ...params, label: label, variant: \"outlined\",} )\n        ),\n        value: paperSize,\n        onChange: (e, newValue) => {\n          if (\"string\" === typeof newValue) {\n            if (newValue.trim() === \"\") {\n              if (!disableClearance) {\n                onChange(null)\n              }\n            } else {\n              const match = /(\\d+(?:\\.\\d+)?).*?(\\d+(?:\\.\\d+)?)/.exec(newValue)\n              if (match) {\n                const [, widthStr, heightStr] = match\n                onChange(PaperSizeFromDimensions(+widthStr, +heightStr))\n              }\n            }\n          } else {\n            onChange(newValue)\n          }\n        },\n        getOptionLabel: (val) => {\n          const [width, height, name = \"custom\"] = val\n          return `${name} ${width}x${height}mm`\n        },\n        options: PAPER_SIZES,}\n      )\n    )\n  },\n)\n"," function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }import * as React from \"react\"\n\nimport { arrayRange, DEG, MINUS, round10, TAU, V3 } from \"ts3dutils\"\n\nexport const INCH = 25.4\nexport const fmtdeg = (x) => \"\" + round10(x / DEG, -1) + \"Â°\"\n \n\nexport const radiusFromSideWidth = (sides, sideWidth) =>\n  sideWidth / 2 / Math.sin(TAU / sides / 2)\nexport const sideWithFromRadius = (sides, radius) =>\n  radius * 2 * Math.sin(TAU / sides / 2)\nexport const centerToSideFromSideWidth = (\n  sides,\n  sideWidth,\n) => sideWidth / 2 / Math.tan(TAU / sides / 2)\nexport const radiusFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide / Math.cos(TAU / sides / 2)\nexport const sideWidthFromCenterToSide = (\n  sides,\n  centerToSide,\n) => centerToSide * 2 * Math.tan(TAU / sides / 2)\n\nexport function RegularPolygon({\n  sides,\n  radius,\n  startAngle = 0,\n  sideLength = undefined,\n  ...props\n}\n\n\n\n\n) {\n  if ((undefined !== sideLength) === (undefined !== radius)) {\n    throw new Error(\"must set either sideLength or radius\")\n  }\n  if (undefined === radius) {\n    radius = radiusFromSideWidth(sides, sideLength)\n  }\n  const { x, y } = V3.polar(radius, startAngle)\n  return (\n    React.createElement('path', {\n      d: dTpl`\n        M${x},${y}\n        ${arrayRange(0, sides).map(\n          (i) => dTpl`L${V3.polar(radius, startAngle + i * (TAU / sides))}`,\n        )}Z`,\n      ...props,}\n    )\n  )\n}\n\nexport function RotStep({\n  id,\n  children,\n  count,\n  stepDeg,\n}\n\n\n\n\n) {\n  return (\n    React.createElement(React.Fragment, null\n      , React.createElement('g', { id: id,}, children)\n      , arrayRange(0, count - 1).map((i) => (\n        React.createElement('use', {\n          key: i,\n          xlinkHref: \"#\" + id,\n          transform: `rotate(${(i + 1) * stepDeg} 0 0)`,}\n        )\n      ))\n    )\n  )\n}\n\n \n// Always portrait orientation,\nexport const PAPER_SIZES = [\n  [841, 1189, \"A0\"],\n  [594, 841, \"A1\"],\n  [420, 594, \"A2\"],\n  [297, 420, \"A3\"],\n  [210, 297, \"A4\"],\n  [148, 210, \"A5\"],\n  [105, 148, \"A6\"],\n  [74, 105, \"A7\"],\n  [52, 74, \"A8\"],\n  [37, 52, \"A9\"],\n  [26, 37, \"A10\"],\n  [150, 150, \"Origami 15cm\"],\n  [100, 100, \"Origami 10cm\"],\n  [75, 75, \"Origami 7.5cm\"],\n  [215.9, 279.4, \"Letter\"],\n  [215.9, 355.6, \"Legal\"],\n]\n\nexport function PaperSizeFromString(str) {\n  const byName = PAPER_SIZES.find(([, , name]) => name === str)\n  if (byName) return byName\n  const [a, b] = str.split(\"x\")\n  return [+a, +b, \"Custom\"]\n}\nexport function PaperSizeFromDimensions(a, b) {\n  ;[a, b] = [a, b].sort(MINUS)\n  return _nullishCoalesce(PAPER_SIZES.find(([x, y]) => x === a && y === b), () => ( [a, b, \"Custom\"]))\n}\nexport function PaperSizeToString([a, b, name]) {\n  return name === \"Custom\" ? \"\" + a + \"x\" + b : name\n}\n\nexport const PAPER_SIZE_A4 = PAPER_SIZES.find(([, , name]) => name === \"A4\")\n\nexport function dTpl(\n  strings,\n  ...exps\n) {\n  const format = (x) =>\n    \"number\" === typeof x\n      ? \"\" + x\n      : \"string\" === typeof x\n      ? x\n      : Array.isArray(x)\n      ? x.map(format).join(\" \")\n      : x.x + \",\" + x.y\n  let result = strings[0]\n  for (let i = 0; i < exps.length; i++) {\n    result += format(exps[i])\n    result += strings[i + 1]\n  }\n  return result\n}\n\nexport const openInNewTab = (url) => {\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\")\n  if (newWindow) newWindow.opener = null\n}\n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { V } from \"ts3dutils\"\n\nimport { dTpl, INCH, } from \"../paperBox1/common\"\nimport { Measure, SvgPrintContext } from \"../paperBox1/Measure\"\n\n// https://math.stackexchange.com/a/885965/230980\nexport function lookUpAngle(\n  r,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    Math.PI / 2 - lookUpAngle2 - Math.acos((r2 / r) * Math.sin(lookUpAngle2))\n  )\n}\n\nexport function Common({\n  baseRadius,\n  topRadius,\n  radius,\n  style,\n  paperSize,\n  children,\n}\n\n\n\n\n\n\n) {\n  const paperPosition = paperSize && [\n    Math.min(-20, radius - paperSize[0]),\n    Math.min(-20, radius - paperSize[1]),\n  ]\n  const print = useContext(SvgPrintContext)\n  const svgViewBox = paperSize\n    ? [paperPosition[0], paperPosition[1], paperSize[0], paperSize[1]]\n    : [-radius, -radius, radius * 2, radius * 2]\n\n  const boxHeight = topRadius - baseRadius\n  const topLip = radius - topRadius\n  return (\n    React.createElement('svg', {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n      style: {\n        fill: \"none\",\n        stroke: \"#123456\",\n        strokeWidth: (2 * INCH) / 300,\n        ...style,\n      },\n      width: svgViewBox[2] + \"mm\",\n      height: svgViewBox[3] + \"mm\",\n      viewBox: svgViewBox.join(\" \"),\n      className: \"adrian\",}\n\n      , React.createElement('style', null\n        , \".valley {stroke-dasharray: 1,1;}\"\n        , \".outline {stroke-dasharray: .1,1;}\"\n        , \".mountain {stroke-dasharray: 10,2,1,1,1,2;}\"\n      )\n      , !print && (\n        React.createElement('g', { transform: \"translate(-20 -20) rotate(180)\"  ,}\n          , React.createElement('path', {\n            d: dTpl`\n          M${V(baseRadius - topLip, boxHeight * 0.99)}\n          L${V(baseRadius, boxHeight)}\n          L${V(baseRadius, 0)}\n          L${V(-baseRadius, 0)}\n          L${V(-baseRadius, boxHeight)}\n          L${V(topLip - baseRadius, boxHeight * 1.01)}\n          `,}\n          )\n          , React.createElement(Measure, { from: V(baseRadius, 0), to: V(-baseRadius, 0),} )\n          , React.createElement(Measure, { from: V(baseRadius, boxHeight), to: V(baseRadius, 0),} )\n          , React.createElement(Measure, {\n            from: V(topLip - baseRadius, boxHeight),\n            to: V(0, boxHeight),}\n          )\n        )\n      )\n\n      , !print && paperSize && (\n        React.createElement('rect', {\n          x: paperPosition[0],\n          y: paperPosition[1],\n          width: paperSize[0],\n          height: paperSize[1],}\n        )\n      )\n      , children\n    )\n  )\n}\n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { newtonIterate1d, TAU, V, V3 } from \"ts3dutils\"\n\nimport {\n  dTpl,\n\n  radiusFromCenterToSide,\n  RegularPolygon,\n  RotStep,\n} from \"../paperBox1/common\"\nimport { Measure, SvgPrintContext } from \"../paperBox1/Measure\"\nimport { MeasureAngle } from \"../paperBox1/MeasureAngle\"\nimport { Common } from \"./Common\"\n\n// https://math.stackexchange.com/a/885965/230980\nexport function lookUpAngle(\n  r,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    Math.PI / 2 - lookUpAngle2 - Math.acos((r2 / r) * Math.sin(lookUpAngle2))\n  )\n}\nexport function lookUpRadius(\n  angle,\n  lookUpAngle2,\n  r2,\n) {\n  return (\n    r2 / Math.cos(angle - Math.PI / 2 + lookUpAngle2) / Math.sin(lookUpAngle2)\n  )\n}\n\nexport function InsideFoldsSvg(props\n\n\n\n\n\n\n) {\n  const { baseRadius, topRadius, radius, sides } = props\n  const basePolyRadius = radiusFromCenterToSide(sides, baseRadius)\n  const topPolyRadius = radiusFromCenterToSide(sides, topRadius)\n\n  const creaseAngle = TAU / sides / 2\n  const innerAngleToC = lookUpAngle(radius, creaseAngle, basePolyRadius)\n  const print = useContext(SvgPrintContext)\n  function highlight(color) {\n    // The colors mainly serve to make the code more readable, i.e. you know\n    // which code makes which line. When printing, no colors.\n    return print ? {} : { stroke: color }\n  }\n\n  const redStartPoint = V(basePolyRadius, 0).plus(\n    V3.polar(topRadius - baseRadius, creaseAngle),\n  )\n  const redDir = V3.X\n  const redLine = (t) => redStartPoint.plus(redDir.times(t))\n  const redEndpoint = redLine(\n    newtonIterate1d((t) => redLine(t).length() - radius, 1, 4),\n  )\n  return (\n    React.createElement(Common, { ...props,}\n      , React.createElement('g', { className: \"fold\",}\n        , React.createElement(RegularPolygon, {\n          radius: basePolyRadius,\n          sides: sides,\n          className: \"valley\",}\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: [0, 0],\n          to: V3.polar(baseRadius, creaseAngle),}\n, \"baseRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(baseRadius, creaseAngle),\n          to: V3.polar(topRadius, creaseAngle),\n          hideRight: true,}\n, \"topRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(topRadius, creaseAngle),\n          to: V3.polar(radius, creaseAngle),\n          hideRight: true,}\n, \"radius\"\n\n        )\n        , React.createElement(MeasureAngle, {\n          center: redStartPoint,\n          start: Math.PI,\n          toRel: creaseAngle,}\n        )\n        , React.createElement(Measure, {\n          from: V3.polar(basePolyRadius, -TAU / sides),\n          to: V3.polar(basePolyRadius, 0),}\n        )\n        , React.createElement(RotStep, { id: \"foo\", count: sides, stepDeg: 360 / sides,}\n          , React.createElement('path', {\n            d: dTpl`\n                M${basePolyRadius},0\n                H${radius}`,\n            className: \"mountain\",\n            style: highlight(\"green\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${basePolyRadius},0\n                L${V3.polar(radius, innerAngleToC)}\n                M${basePolyRadius},0\n                L${redStartPoint}`,\n            className: \"valley\",\n            style: highlight(\"blue\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${redStartPoint}\n                L${V3.polar(radius, -innerAngleToC)}`,\n            className: \"mountain\",\n            style: highlight(\"blue\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${topPolyRadius},0\n                L${V3.polar(basePolyRadius, -TAU / sides).plus(\n                  V3.polar(topRadius - baseRadius, -TAU / sides / 2),\n                )}`,\n            className: \"valley\",\n            style: highlight(\"hotpink\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${V3.polar(basePolyRadius, -TAU / sides).plus(\n                  V3.polar(topRadius - baseRadius, -TAU / sides / 2),\n                )}\n                L${V3.polar(topPolyRadius, -TAU / sides)}`,\n            className: \"mountain\",\n            style: highlight(\"orange\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${redStartPoint}\n                L${redEndpoint}`,\n            className: \"valley\",\n            style: highlight(\"red\"),}\n          )\n        )\n      )\n      , React.createElement('g', { className: \"cut\",}\n        , React.createElement('circle', { r: radius,} )\n      )\n    )\n  )\n}\n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { SvgPrintContext } from \"./Measure\"\n\nexport const ValleyMountainLegend = (\n  props,\n) => {\n  const textStyle = {\n    fontSize: 4,\n    dominantBaseline: \"middle\",\n  }\n  const print = useContext(SvgPrintContext)\n  if (print) return null\n\n  return (\n    React.createElement('g', { ...props,}\n      , React.createElement('text', { style: textStyle, y: -4,}, \"valley\"\n\n      )\n      , React.createElement('line', { x1: 20, y1: -4, x2: 40, y2: -4, className: \"valley\",} )\n\n      , React.createElement('text', { style: textStyle, y: 4,}, \"mountain\"\n\n      )\n      , React.createElement('line', { x1: 20, y1: 4, x2: 40, y2: 4, className: \"mountain\",} )\n    )\n  )\n}\n","import * as React from \"react\"\nimport { useContext } from \"react\"\nimport { newtonIterate1d, TAU, V, V3 } from \"ts3dutils\"\n\nimport {\n  dTpl,\n\n  radiusFromCenterToSide,\n  RegularPolygon,\n  RotStep,\n} from \"../paperBox1/common\"\nimport { Measure, SvgPrintContext } from \"../paperBox1/Measure\"\nimport { MeasureAngle } from \"../paperBox1/MeasureAngle\"\nimport { ValleyMountainLegend } from \"../paperBox1/ValleyMountainLegend\"\nimport { Common } from \"./Common\"\nimport { lookUpAngle } from \"./InsideFoldsSvg\"\n\nexport const OutsideFoldsSvg = (props\n\n\n\n\n\n\n) => {\n  const { baseRadius, topRadius, radius, sides, paperSize } = props\n  const creaseAngle = TAU / sides / 2\n  const basePolyRadius = radiusFromCenterToSide(sides, baseRadius)\n  const topPolyRadius = radiusFromCenterToSide(sides, topRadius)\n  // to calculate the intersection of the blue segment with\n  // the green, imagine an isosceles triangle with red as the base\n  const d = (topRadius - baseRadius) / 2 / Math.cos(creaseAngle)\n  const lastPolyAngle = lookUpAngle(radius, 2 * creaseAngle, basePolyRadius + d)\n  const print = useContext(SvgPrintContext)\n\n  function stroke(color) {\n    // The colors mainly serve to make the code more readable, i.e. you\n    // know which code makes which line. When printing, no colors.\n    return print ? {} : { stroke: color }\n  }\n\n  const blueStart = V(basePolyRadius, 0).plus(\n    V3.polar(topRadius - baseRadius, -creaseAngle),\n  )\n  const blueDir = V3.polar(1, -(creaseAngle + creaseAngle))\n  const blueLine = (t) => blueStart.plus(blueDir.times(t))\n  const blueEndPoint = blueLine(\n    newtonIterate1d((t) => blueLine(t).length() - radius, 1, 4),\n  )\n  const cutoutRadius = radius\n  return (\n    React.createElement(Common, { ...props,}\n      , React.createElement('g', null\n        , React.createElement(RegularPolygon, {\n          radius: basePolyRadius,\n          sides: sides,\n          className: \"valley\",}\n        )\n        , React.createElement('circle', { r: radius, className: \"outline\",} )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: [0, 0],\n          to: V3.polar(baseRadius, creaseAngle),}\n, \"baseRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(baseRadius, creaseAngle),\n          to: V3.polar(topRadius, creaseAngle),\n          hideRight: true,}\n, \"topRadius\"\n\n        )\n        , React.createElement(Measure, {\n          offset: -0.5,\n          from: V3.polar(topRadius, creaseAngle),\n          to: V3.polar(radius, creaseAngle),\n          hideRight: true,}\n, \"radius\"\n\n        )\n        , React.createElement(RotStep, { id: \"rotsym\", count: sides, stepDeg: 360 / sides,}\n          , React.createElement('path', {\n            d: dTpl`\n                M${basePolyRadius},0 \n                L${V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                )}`,\n            className: \"mountain\",\n            style: stroke(\"red\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${topPolyRadius},0\n                L${V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                )}`,\n            className: \"mountain\",\n            style: stroke(\"orange\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                )}\n                L${V3.polar(topPolyRadius, -TAU / sides)}`,\n            className: \"valley\",\n            style: stroke(\"orange\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${V(basePolyRadius, 0).plus(\n                  V3.polar(topRadius - baseRadius, -creaseAngle),\n                )}\n                L${blueEndPoint}`,\n            className: \"mountain\",\n            style: stroke(\"blue\"),}\n          )\n          , React.createElement('path', {\n            d: dTpl`\n                M${blueEndPoint}\n                A${cutoutRadius},${cutoutRadius},0,0,1,${V3.polar(\n              radius,\n              -TAU / sides,\n            )}`,\n            className: \"outline\",}\n          )\n\n          , React.createElement('path', {\n            d: dTpl`\n                M${V(basePolyRadius, 0)}\n                H${radius}`,\n            className: \"valley\",\n            style: stroke(\"green\"),}\n          )\n          , paperSize && (\n            React.createElement('path', {\n              d: dTpl`\n                M0,0\n                H${baseRadius / 2}`,\n              className: \"valley\",\n              style: stroke(\"purple\"),}\n            )\n          )\n        )\n        , !print && (\n          React.createElement(React.Fragment, null\n            , React.createElement(MeasureAngle, {\n              center: [basePolyRadius, 0],\n              start: -creaseAngle,\n              toRel: creaseAngle,}\n            )\n            , React.createElement(MeasureAngle, {\n              center: V(basePolyRadius, 0).plus(\n                V3.polar(topRadius - baseRadius, -creaseAngle),\n              ),\n              start: -creaseAngle * 2,\n              toRel: creaseAngle,}\n            )\n            , React.createElement(Measure, { from: [radius, 0], to: blueEndPoint,} )\n            , React.createElement(Measure, { from: blueEndPoint, to: V3.polar(radius, -TAU / sides),} )\n          )\n        )\n        , React.createElement(ValleyMountainLegend, {\n          transform: `translate(${-radius}, ${-radius})`,\n          x: 100,\n          y: 100,}\n        )\n      )\n    )\n  )\n}\n","import { Alert } from \"@mui/material\"\nimport Card from \"@mui/material/Card\"\nimport CardContent from \"@mui/material/CardContent\"\nimport CardMedia from \"@mui/material/CardMedia\"\nimport Divider from \"@mui/material/Divider\"\nimport FormControl from \"@mui/material/FormControl\"\nimport Grid from \"@mui/material/Grid\"\nimport InputLabel from \"@mui/material/InputLabel\"\nimport Link from \"@mui/material/Link\"\nimport MenuItem from \"@mui/material/MenuItem\"\nimport Select from \"@mui/material/Select\"\nimport { useTheme } from \"@mui/material/styles\"\nimport TextField from \"@mui/material/TextField\"\nimport * as React from \"react\"\nimport { useCallback, useState } from \"react\"\n\nimport { useHashState } from \"../common/useHashState\"\n\nimport { ExportButtons } from \"../paperBox1/ExportButtons\"\nimport { PaperAutocomplete } from \"../paperBox1/PaperAutocomplete\"\nimport insideFoldsImg from \"./insideFolds.jpg\"\nimport { InsideFoldsSvg } from \"./InsideFoldsSvg\"\nimport outsideFoldsLargeTemplateImg from \"./outsideFoldsLargeTemplate.jpg\"\nimport { OutsideFoldsSvg } from \"./OutsideFoldsSvg\"\n\nexport default () => {\n  const [state, setState] = useHashState({\n    variant: \"inside\" ,\n    baseRadius: 30,\n    topRadius: 65,\n    radius: 100,\n    sides: 8,\n  })\n  const setPartialState = useCallback(\n    (update) => setState((s) => ({ ...s, ...update })),\n    [setState],\n  )\n  const [paperSize, setPaperSize] = useState(null )\n\n  const BaseDrawing = {\n    inside: InsideFoldsSvg,\n    outside: OutsideFoldsSvg,\n  }[state.variant]\n\n  const theme = useTheme()\n\n  const topLip = state.radius - state.topRadius\n  const topOverlap = topLip - state.baseRadius\n\n  return (\n    React.createElement(Grid, { container: true, style: { width: \"100%\" },}\n      , React.createElement(Grid, { item: true, xs: 12, md: 10,}\n        , React.createElement(BaseDrawing, {\n          ...state,\n          paperSize: paperSize,\n          style: { width: \"100%\", height: \"100%\", margin: theme.spacing(1) },}\n        )\n      )\n      , React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 2,\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"100%\",\n          padding: 2,\n          alignItems: \"stretch\",\n          // \"& > *\": { margin: 1 },\n          gap: 2,\n        },}\n\n        , React.createElement(Card, null\n          , React.createElement(CardMedia, {\n            image: insideFoldsImg,\n            title: \"Contemplative Reptile\" ,\n            sx: {\n              height: 0,\n              paddingTop: \"100%\", // 1:1\n            },}\n          )\n          , React.createElement(CardContent, null, \"Helper to build a box from a circular piece of paper. The Inside Folds variant has more complicated folds but has a cleaner overall look.\"\n\n\n\n          )\n        )\n        , React.createElement(FormControl, { variant: \"outlined\", size: \"small\",}\n          , React.createElement(InputLabel, { id: \"variant-label\",}, \"Variant\")\n          , React.createElement(Select, {\n            labelId: \"variant-label\",\n            label: \"Variant\",\n            value: state.variant,\n            onChange: (e) =>\n              setPartialState({\n                variant: e.target.value ,\n              })\n            ,}\n\n            , React.createElement(MenuItem, { value: \"inside\",}, \"Inside Folds\" )\n            , React.createElement(MenuItem, { value: \"outside\",}, \"Outside Folds\" )\n          )\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.baseRadius,\n          onChange: (e) => setPartialState({ baseRadius: +e.target.value }),\n          label: \"baseRadius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.topRadius,\n          onChange: (e) => setPartialState({ topRadius: +e.target.value }),\n          label: \"topRadius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1 },\n          value: state.radius,\n          onChange: (e) => setPartialState({ radius: +e.target.value }),\n          label: \"Radius\",}\n        )\n        , React.createElement(TextField, {\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          inputProps: { step: 1, min: 4, max: 32 },\n          value: state.sides,\n          onChange: (e) => setPartialState({ sides: +e.target.value }),\n          label: \"Sides\",}\n        )\n        , state.variant === \"inside\" && topOverlap > 0 && (\n          React.createElement(Alert, { severity: \"warning\",}, \"For the inside folds variant, you want no (or even negative) overlap at the top.\"\n\n\n          )\n        )\n        , React.createElement(Divider, null )\n        , React.createElement(Card, null\n          , React.createElement(CardContent, null, \"Set the Print Paper Size on large boxes to get a partial template which can be rotated. See\"\n\n                , \" \"\n            , React.createElement(Link, { href: outsideFoldsLargeTemplateImg,}, \"this image\" ), \" for an example.\"\n\n          )\n        )\n        , React.createElement(PaperAutocomplete, {\n          label: \"Print Paper Size\"  ,\n          value: paperSize,\n          onChange: setPaperSize,}\n        )\n        , React.createElement(ExportButtons, {\n          baseFileName: `${state.variant}-${state.baseRadius}-${state.topRadius}-${state.radius}-${state.sides}`,\n          what: React.createElement(BaseDrawing, { ...state, paperSize: paperSize,} ),}\n        )\n      )\n    )\n  )\n}\n"],"names":["parseHash","hash","substring","split","map","part","key","value","decodeURIComponent","reduce","obj","objectToHash","o","Object","entries","encodeURIComponent","join","defaultDeserialize","x","v","NaN","isNaN","defaultSerialize","useHashState","initialState","deserialize","serialize","wait","createInitialState","useCallback","state","mergedState","assign","document","location","history","pushState","undefined","title","setState","useState","updateHashRef","useRef","current","newState","useEffect","onHashChange","window","addEventListener","removeEventListener","ExportButtons","what","baseFileName","getPrintSVG","Provider","replace","variant","onClick","svg","async","svgToPdf","blob","author","SvgPrintContext","createContext","Measure","from","to","children","hideRight","offset","Array","isArray","V","d","length","useContext","textBlank","transform","angleXY","className","style","fill","stroke","fontSize","dominantBaseline","textAnchor","y","MeasureAngle","center","start","toRel","startV","V3","polar","plus","endV","textPos","largeArcFlag","Math","abs","PI","sweepFlag","lhs","rhsFn","PaperAutocomplete","forwardRef","disableClearance","onChange","label","ref","paperSize","a","b","min","max","find","psWidth","psHeight","disableClearable","size","freeSolo","renderInput","params","e","newValue","trim","match","exec","widthStr","heightStr","getOptionLabel","val","width","height","name","options","INCH","fmtdeg","radiusFromSideWidth","sides","sideWidth","sin","sideWithFromRadius","radius","centerToSideFromSideWidth","tan","radiusFromCenterToSide","centerToSide","cos","sideWidthFromCenterToSide","RegularPolygon","startAngle","sideLength","props","Error","dTpl","i","RotStep","id","count","stepDeg","xlinkHref","PAPER_SIZES","PaperSizeFromString","str","byName","PaperSizeFromDimensions","sort","PaperSizeToString","PAPER_SIZE_A4","strings","exps","format","result","openInNewTab","url","newWindow","open","opener","Common","baseRadius","topRadius","paperPosition","print","svgViewBox","boxHeight","topLip","xmlns","xmlnsXlink","strokeWidth","viewBox","lookUpAngle","r","lookUpAngle2","r2","acos","lookUpRadius","angle","InsideFoldsSvg","basePolyRadius","topPolyRadius","creaseAngle","innerAngleToC","highlight","color","redStartPoint","redDir","X","redLine","t","times","redEndpoint","ValleyMountainLegend","textStyle","x1","y1","x2","y2","OutsideFoldsSvg","blueStart","blueDir","blueLine","blueEndPoint","cutoutRadius","setPartialState","update","s","setPaperSize","BaseDrawing","inside","outside","theme","useTheme","topOverlap","Grid","container","item","xs","md","margin","spacing","sx","display","flexDirection","padding","alignItems","gap","Card","CardMedia","image","paddingTop","CardContent","FormControl","InputLabel","Select","labelId","target","MenuItem","TextField","type","inputProps","step","Alert","severity","Divider","Link","href"],"sourceRoot":""}